<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px',fullScreenBackdrop:true }"></ngx-loading>
<div class="main clearfix">
    <div class="card" style="padding: 0 !important;">
        <!-- <div class="col-md-12 col-sm-12 col-12"> -->
        <mat-horizontal-stepper labelPosition="bottom" linear="true" #stepper (selectionChange)="tabChanged($event)">
            <ng-template matStepperIcon="edit">
                <mat-icon>done</mat-icon>
            </ng-template>
            <mat-step [stepControl]="personalForm">
                <ng-template matStepLabel>Upload XML</ng-template>

                <div class="card__row">
                    <div class="card__col-xs-12 card__col-sm-6" style="padding: 10px 10px !important;">
                        <input type="file" file-model="MeterFile" class="inptfile" id="fileIDProof"
                            (change)='onUploadFile($event)'>
                        <div class="row" *ngIf="showProgress">
                            <div class="col-lg-12">
                                <progress id="file" max="100" [value]="uploaded" bufferValue="10" style="width:100%">
                                </progress>{{uploaded}} %
                            </div>
                        </div>
                        <button type="submit" class="btn" style="border: none;" (click)='uploadXML()'>Upload</button>
                    </div>
                    <div class="card__col-xs-12 card__col-sm-6" style="padding: 10px 10px !important;">
                        <app-update-status [userId]="ITR_JSON.userId"></app-update-status>
                    </div>
                </div>
                <hr>
                <div><span *ngFor="let docs of commonDocuments; let i=index">
                        <a href="javascript:;" (click)="getCommonDocsUrl(i)">{{docs.fileName}}</a> &nbsp;&nbsp;
                    </span> &nbsp;
                    <span *ngFor="let docs of itrDocuments; let i=index">
                        <a href="javascript:;" (click)="getDocsUrl(i)">{{docs.fileName}}</a> &nbsp;&nbsp;
                    </span>
                </div>
                <br><br><br>
                <ngx-image-zoom *ngIf="docDetails.docType !== 'pdf'" [thumbImage]="docDetails.docUrl"
                    [fullImage]="docDetails.docUrl" [magnification]="1" [enableScrollZoom]="true" [enableLens]="true"
                    [lensWidth]="200">
                </ngx-image-zoom>
                <div *ngIf="docDetails.docType === 'pdf'">
                    <button ion-button (click)="incrementZoom(-0.1)">
                        -
                    </button>&nbsp;
                    <button ion-button (click)="incrementZoom(0.1)">
                        +
                    </button>
                    <pdf-viewer [src]="docDetails.docUrl" [zoom]="zoom" [original-size]="true" [autoresize]="true"
                        [render-text]="true" style="display: block;height: 100%">
                    </pdf-viewer>
                </div>
                <div *ngIf="docDetails.docUrl ===''">
                    Documents not uploaded/Selected
                </div>
            </mat-step>
            <ng-template matStepperIcon="create">
                <mat-icon>done</mat-icon>
            </ng-template>
        </mat-horizontal-stepper>
    </div>
</div>