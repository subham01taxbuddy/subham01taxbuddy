<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px',fullScreenBackdrop:true }"></ngx-loading>
<div class="card__title" style="padding:10px; font-size: 20px;" (click)="downloadXML()">Personal Details</div>

<div class="grids griHgh return_glance tpOfBx">
    <div class="com_model perBx">
        <div class="container">
            <div class="card__row">

                <div class="card__col-xs-12 card__col-sm-4 card__col-md-4">
                    <!-- Name -->
                    <div class="txBt">
                        <span class="txLf">Name:</span> <span class="txMuLf">{{getUserName('personal')}}</span>
                    </div>
                    <!-- Gender -->
                    <!--  <div class="txBt">
              <span class="txLf">Gender:</span> <span class="txMuLf">{{selfObj.gender | titlecase}}</span>
            </div> -->
                    <!-- Aadhar -->
                    <div class="txBt"
                        *ngIf="ITR_JSON.aadharNumber !== '' && ITR_JSON.aadharNumber !== null && ITR_JSON.aadharNumber !== undefined">
                        <div>
                            <span class="txLf">Aadhar Number:</span><span
                                class="txMuLf">{{ITR_JSON.aadharNumber}}</span>
                        </div>
                    </div>
                    <!-- Mobile -->
                    <div class="txBt">
                        <div>
                            <span class="txLf">Mobile Number:</span><span
                                class="txMuLf">{{ITR_JSON.contactNumber}}</span>
                        </div>
                    </div>
                    <!--Residential Status  -->
                    <div class="txBt">
                        <span class="txLf">Residential Status:</span><span class="txMuLf">{{ITR_JSON.residentialStatus
                            === 'RESIDENT' ? 'Resident' : 'Non Resident'}}</span>
                    </div>
                    <div class="txBt">
                        <span class="txLf">Return Type:</span><span class="txMuLf">{{ITR_JSON.isDefective === "Y"
                            ? "Defective"
                            : ITR_JSON.isRevised === "N"
                            ? "Original"
                            : "Revised"}}</span>
                    </div>
                    <!-- Address -->
                    <div class="txBt" style="border-bottom: none">
                        <span class="txLf">Address:</span><span class="txMuLf">{{ITR_JSON.address.flatNo+',
                            '+ITR_JSON.address.area}} <br>
                            {{ITR_JSON.address.city}}, PIN: {{ITR_JSON.address.pinCode}}</span>
                    </div>
                </div>
                <div class="card__col-xs-12 card__col-sm-4 card__col-md-4">
                    <!-- DOB -->
                    <div class="txBt">
                        <span class="txLf">Date of Birth:</span><span class="txMuLf">{{selfObj.dateOfBirth |
                            date}}</span>
                    </div>
                    <!-- PAN -->
                    <div class="txBt">
                        <span class="txLf">PAN Card:</span><span class="txMuLf">{{ITR_JSON.panNumber}}</span>
                    </div>

                    <!-- Email Id  -->
                    <div class="txBt">
                        <span class="txLf">Email ID:</span><span class="txMuLf">{{ITR_JSON.email}}</span>
                    </div>
                    <!-- ITR Form -->
                    <div class="txBt"> <span class="txLf">ITR Form:</span> <span
                            class="txMuLf">{{ITR_JSON.itrType}}</span></div>

                    <div class="txBt"> <span class="txLf">Original Ack No:</span> <span
                            class="txMuLf">{{ITR_JSON.orgITRAckNum ? ITR_JSON.orgITRAckNum : 'NA'}}</span></div>

                    <!-- Bank  -->
                    <div class="txBt" style="border-bottom: none">
                        <span class="txLf">Bank Name:</span><span class="txMuLf">{{bankArray.name}}</span>
                        <span class="txLf">Account Number:</span><span class="txMuLf">{{bankArray.accountNumber}}</span>
                    </div>
                </div>
                <div class="card__col-xs-12 card__col-sm-4 card__col-md-4" *ngIf="taxable && taxable > 0">
                    <div class="incBx">
                        <span class="inTex">Income Tax Payable:</span><br><br>
                        <span class="inNo">{{utilsService.currencyFormatter(taxable)}}.00</span>
                    </div>
                    <p class="paIncTx">You must pay the balance tax before proceeding to e-filing. To pay your tax <a
                            href="https://onlineservices.tin.egov-nsdl.com/etaxnew/tdsnontds.jsp" target="_new"
                            class="LkTx">Click here</a> and select<br> CHALLAN NO/ITNS 280 under NON-TDS/TCS
                        Section
                    </p>
                </div>

                <div class="card__col-xs-12 card__col-sm-4 card__col-md-4" *ngIf="refund > 0">
                    <div class="incBx">
                        <span class="inTex">Income Tax Refund:</span><br><br>
                        <span class="inRef">{{utilsService.currencyFormatter(refund)}}.00</span>
                    </div>
                    <p class="paIncTx">Great news...!!!
                        You are getting refund of {{utilsService.currencyFormatter(refund)}}.00 of your tax return into
                        your
                        bank account number. <b>{{bankArray.accountNumber}}</b>
                    </p>
                </div>
            </div>
        </div>
    </div>
    <br>
    <hr>
    <app-update-status [userId]="ITR_JSON.userId"></app-update-status>
    <hr>
    <!-- <div _ngcontent-c4="" class="sub_btn mvBtU"><button _ngcontent-c4="" class="btn prvBut"
        routerlink="/warning" type="button" tabindex="0" ng-reflect-router-link="/warning">Previous</button>
      <button _ngcontent-c4="" class="btn grBut" type="button" style="cursor: pointer;"><i _ngcontent-c4=""
          class="fas fa-download"></i> Download </button></div> -->
    <div class="sub_btn lwBtDn" *ngIf="show">
        <!-- <button type="button" class="btn prvBut" (click)="previousRoute()"
            [disabled]="isPreviousAvailable()">Previous</button> -->
        <!-- <button type="button" *ngIf="ITR_JSON.eFillingCompleted" routerLink="/taxreturn" class="btn save"> Back
            To My ITR(s)</button> -->

        <!-- <button *ngIf="!ITR_JSON.eFillingCompleted" type="button" (click)="downloadXML()" class="btn grBut"
              [disabled]="taxable && taxable > 0" [style.cursor]="(taxable && taxable > 0) ? 'not-allowed':'pointer'"> <i
                class="fas fa-download"></i> Download XML</button> -->
        <!-- TODO -->
        <button type="button"  *ngIf="isValidItr" (click)="confirmSubmitITR()" class="btn grBut pull-right"
            [style.cursor]="!isValidateJson ? 'not-allowed':'pointer'" style="background-color: red;" [disabled]="!isValidateJson">
            File
            ITR</button>
        <!-- <button *ngIf="isValidateJson" type="button" (click)="confirmSubmitITR()"
            class="btn grBut pull-right" [disabled]="(taxable && taxable > 0) || isPreviousAvailable()"
            [style.cursor]="((taxable && taxable > 0) || isPreviousAvailable()) ? 'not-allowed':'pointer'"
            style="background-color: red;"> File
            ITR</button> -->
        <!-- <button type="button" (click)="downloadXML()" class="btn grBut" style="background-color: orange;">
            Download XML</button> -->
        <!--  [disabled]="taxable && taxable > 0"  [style.cursor]="(taxable && taxable > 0) ? 'not-allowed':'pointer'"  *ngIf="ITR_JSON.isDefective === 'Y'" -->
        <button type="button" (click)="downloadPDF()" class="btn grBut"> Download PDF</button>
        <button type="button" class="btn kommBut" (click)="sendPdf('kommunicate')">Send PDF to Kommunicate chat</button>

        <button type="button" class="btn whatsAppBut" (click)="sendPdf('whatsapp')">Send PDF to WhatsApp</button>
        <button type="button" class="btn whatsAppBut" style="background-color: #05a3bc; border: #05a3bc solid 1px;"
            (click)="downloadJson()">Download JSON</button>
        <button type="button" (click)="validateITR()" class="btn grBut" style="background-color: orange;">
            Validate ITR
        </button>
    </div>
    <br>
    <h3 class="txHdLf tItX" *ngIf="show">Computation of Income and Tax</h3>
    <div class="container-fluid main-body content-center-align section" *ngIf="show">

        <!-- ------------------------- ITR 1 or 2 -------------------------------------- -->

        <!-- <div class="row" *ngIf="ITR_JSON && (ITR_JSON.itrType === '1' || ITR_JSON.itrType === '2')"> -->
        <div class="row">
            <div class="col-lg-12 col-xs-12" style="padding-left: 0;padding-right: 0">
                <table style="width:100%">
                    <tbody>
                        <tr>
                            <td colspan="4" class="padding-panel">
                                <mat-accordion>
                                    <!-- *************** Income from Salary ********************-->
                                    <mat-expansion-panel class="color-panel accordion-border"
                                        [disabled]="[summaryDetail.salary === 0 ? true : false]" #salary>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8 whieTx">
                                                        1. Income from Salary</div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                                        <div class="AdjAr1">
                                                            <mat-icon *ngIf="!salary.expanded">keyboard_arrow_down
                                                            </mat-icon>
                                                            <mat-icon *ngIf="salary.expanded">keyboard_arrow_up
                                                            </mat-icon>
                                                        </div>

                                                        <label class="rtNumb1">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.salary)}}
                                                        </label>

                                                    </div>

                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>

                                        <table class="table table-bordered table-striped table-hover"
                                            style="margin-top:20px;">
                                            <tbody>
                                                <tr>
                                                    <th>Particulars</th>
                                                    <th *ngFor="let salary of ITR_JSON.employers; let i=index">Employer
                                                        {{i+1}}</th>
                                                    <!-- <th>Employer2</th>
                            <th>Employer3</th> -->
                                                </tr>
                                                <tr>
                                                    <td>1. Employer's Name</td>
                                                    <td *ngFor="let salary of ITR_JSON.employers; let i=index">
                                                        {{utilsService.isNonEmpty(salary.employerName) ?
                                                        salary.employerName : 'Employer '+(i+1)}}
                                                    </td>
                                                    <!-- <td>ABC Company</td>
                            <td>XYZ Company</td> -->
                                                </tr>
                                                <tr>
                                                    <td>2. Gross Salary</td>
                                                    <td *ngFor="let salary of ITR_JSON.employers; let i=index">Rs
                                                        {{totalGross(salary)}}</td>
                                                    <!-- <td>Rs 10,30,000</td>
                            <td>Rs 9,15,000</td> -->
                                                </tr>
                                                <tr>
                                                    <td>3. Less: Exempt Allowance</td>
                                                    <td *ngFor="let salary of ITR_JSON.employers; let i=index">Rs
                                                        {{totalExpAllow(salary.allowance)}}</td>
                                                    <!--  <td>Rs 1,350</td>
                            <td>Rs 1,050</td> -->
                                                </tr>
                                                <tr>
                                                    <td>4. Less: Professional Tax</td>
                                                    <td *ngFor="let salary of ITR_JSON.employers; let i=index">Rs
                                                        {{totalPT(salary.deductions)}}</td>
                                                    <!-- <td>(Rs 1,050)</td>
                            <td>(Rs 2,050)</td> -->
                                                </tr>
                                                <tr>
                                                    <td>5. Less: Entertainment Allowance</td>
                                                    <td *ngFor="let salary of ITR_JSON.employers; let i=index">Rs
                                                        {{totalEA(salary.deductions)}}</td>
                                                    <!-- <td>(Rs 4,000)</td>
                            <td>(Rs 3,000)</td> -->
                                                </tr>
                                                <tr>
                                                    <td>6. Less: Standard Deduction</td>
                                                    <td *ngFor="let salary of ITR_JSON.employers; let i=index">Rs
                                                        {{utilsService.currencyFormatter(salary.standardDeduction)}}
                                                    </td>
                                                    <!-- <td>(Rs 30,000)</td>
                            <td>(Rs 20,000)</td> -->
                                                </tr>

                                                <tr>
                                                    <th>7. Taxable Salary</th>
                                                    <td *ngFor="let salary of ITR_JSON.employers; let i=index">Rs
                                                        {{utilsService.currencyFormatter(salary.taxableIncome)}}</td>
                                                    <!-- <th>Rs 10,23,600</th>
                            <th>Rs 9,08,900</th> -->
                                                </tr>

                                            </tbody>
                                        </table>
                                    </mat-expansion-panel>

                                    <!-- *******************Income from House Property ************************** -->
                                    <mat-expansion-panel class="color-panel accordion-border"
                                        [disabled]="[summaryDetail.housePropertyIncome === 0 ? true : false]" #HP>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        2.
                                                        Income from House Property</div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <div class="AdjAr">
                                                            <mat-icon *ngIf="!HP.expanded">keyboard_arrow_down
                                                            </mat-icon>
                                                            <mat-icon *ngIf="HP.expanded">keyboard_arrow_up</mat-icon>
                                                        </div>
                                                        <label class="rtNumb1">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.housePropertyIncome)}}</label>
                                                    </div>

                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>


                                        <table class="table table-bordered table-striped table-hover"
                                            style="margin-top:20px;">
                                            <tbody>
                                                <tr>
                                                    <th>Particulars</th>
                                                    <th
                                                        *ngFor="let hp of losses?.summaryIncome?.summaryHpIncome?.houseProperties; let i=index">
                                                        {{hp.propertyType}}</th>
                                                </tr>
                                                <!-- <tr>
                                                    <td>1. Property Address</td>
                                                    <th
                                                        *ngFor="let hp of losses.summaryIncome.summaryHpIncome.houseProperties; let i=index">
                                                        {{hp.flatNo}}, {{hp.building}},
                                                        {{hp.city}}</th>
                                                </tr>
                                                <tr>
                                                    <td>2. Ownership</td>
                                                    <td
                                                        *ngFor="let hp of losses.summaryIncome.summaryHpIncome.houseProperties; let i=index">
                                                        {{hp.ownerOfProperty}}</td>
                                                </tr> -->
                                                <tr>
                                                    <td>1. Gross Rent Received</td>
                                                    <td
                                                        *ngFor="let hp of losses?.summaryIncome?.summaryHpIncome?.houseProperties; let i=index">
                                                        Rs
                                                        {{utilsService.currencyFormatter(hp.grossAnnualRentReceived)}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>2. Taxes Paid</td>
                                                    <td
                                                        *ngFor="let hp of losses?.summaryIncome?.summaryHpIncome?.houseProperties; let i=index">
                                                        Rs {{utilsService.currencyFormatter(hp.propertyTax)}}</td>
                                                </tr>
                                                <tr>
                                                    <td>3. Annual Value (1-2)</td>
                                                    <td
                                                        *ngFor="let hp of losses?.summaryIncome?.summaryHpIncome?.houseProperties; let i=index">
                                                        Rs {{utilsService.currencyFormatter(hp.annualValue)}}</td>
                                                </tr>
                                                <tr>
                                                    <td>4. Standard Deduction @30%</td>
                                                    <td
                                                        *ngFor="let hp of losses?.summaryIncome?.summaryHpIncome?.houseProperties; let i=index">
                                                        Rs {{utilsService.currencyFormatter(hp.exemptIncome)}}</td>
                                                </tr>
                                                <tr>
                                                    <td>5. Interest On Home Loan</td>
                                                    <td
                                                        *ngFor="let hp of losses?.summaryIncome?.summaryHpIncome?.houseProperties; let i=index">
                                                        Rs {{getHomeLoan(hp.loans)}}</td>
                                                </tr>
                                                <tr>
                                                    <th>6. Net Income (3-4-5)</th>
                                                    <td
                                                        *ngFor="let hp of losses?.summaryIncome?.summaryHpIncome?.houseProperties; let i=index">
                                                        Rs {{utilsService.currencyFormatter(hp.taxableIncome)}}</td>
                                                </tr>

                                            </tbody>
                                        </table>



                                        <!--  <div class="bxHed">SOP</div>
                      <table class="table table-bordered table-striped table-hover">
                        <tbody>
                          <tr>
                            <td style="width:39%;">Net Asset Value (1)</td>
                            <td style="width:39%;">Interest On Home Loan (2)</td>
                            <th style="width:22%;">Net Income (3 = 1 - 2)</th>
                          </tr>
                          <tr>
                            <td>Rs 0</td>
                            <td>Rs {{getInterestOnHome()}}</td>
                            <th>Rs 567</th>
                          </tr>
                        </tbody>
                      </table>
                      <div class="bxHed">LOP</div>
                      <table class="table table-bordered table-striped table-hover">
                        <tbody>
                          <tr>
                            <td>Net Rent Received (1)</td>
                            <td>30% Standard Deduction On Rent (2)</td>
                            <td>Interest On Home Loan (3)</td>
                            <th>Net Income (4 = 1 - 2 - 3)</th>
                          </tr>
                          <tr>
                            <td>Rs 57</td>
                            <td>Rs 2000</td>
                            <td>Rs 1000</td>
                            <th>Rs 3000</th>
                          </tr>
                        </tbody>
                      </table>
                      <div class="bxHed">LOP1</div>
                      <table class="table table-bordered table-striped table-hover">
                        <tbody>
                          <tr>
                            <td>Net Rent Received (1)</td>
                            <td>30% Standard Deduction On Rent (2)</td>
                            <td>Interest On Home Loan (3)</td>
                            <th>Net Income (4 = 1 - 2 - 3)</th>
                          </tr>
                          <tr>
                            <td>Rs 7000</td>
                            <td>Rs 2000</td>
                            <td>Rs 1000</td>
                            <th>Rs 4000</th>
                          </tr>
                        </tbody>
                      </table>

                      <div class="bxHed">DLOP</div>
                      <table class="table table-bordered table-striped table-hover">
                        <tbody>
                          <tr>
                            <td>Net Rent Received (1)</td>
                            <td>30% Standard Deduction On Rent (2)</td>
                            <td>Interest On Home Loan (3)</td>
                            <th>Net Income (4 = 1 - 2 - 3)</th>
                          </tr>
                          <tr>
                            <td>Rs 6000</td>
                            <td>Rs 2000</td>
                            <td>Rs 1000</td>
                            <th>Rs 3000</th>
                          </tr>
                        </tbody>
                      </table>

                      <div class="bxHed">DLOP1</div>
                      <table class="table table-bordered table-striped table-hover">
                        <tbody>
                          <tr>
                            <td>Net Rent Received (1)</td>
                            <td>30% Standard Deduction On Rent (2)</td>
                            <td>Interest On Home Loan (3)</td>
                            <th>Net Income (4 = 1 - 2 - 3)</th>
                          </tr>
                          <tr>
                            <td>Rs 7000</td>
                            <td>Rs 2000</td>
                            <td>Rs 1000</td>
                            <th>Rs 4000</th>
                          </tr>
                        </tbody>
                      </table> -->
                                    </mat-expansion-panel>

                                    <!-- ************************** Income from Business ****************************** -->
                                    <mat-expansion-panel class="color-panel accordion-border"
                                        [disabled]="[summaryDetail.presumptiveIncome === 0 ? true : false]" #business>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        3.
                                                        Income from Business</div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <div class="AdjAr">
                                                            <mat-icon *ngIf="!business.expanded">keyboard_arrow_down
                                                            </mat-icon>
                                                            <mat-icon *ngIf="business.expanded">keyboard_arrow_up
                                                            </mat-icon>
                                                        </div>
                                                        <label class="rtNumb1">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.presumptiveIncome)}}</label>
                                                    </div>

                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>

                                        <table class="table table-bordered table-striped table-hover"
                                            style="margin-top:20px;">
                                            <tbody>
                                                <tr>
                                                    <th>Section No.</th>
                                                    <th>Nature Of Business Code</th>
                                                    <th>Trade Name</th>
                                                    <th>Gross Turnover/Receipt</th>
                                                    <th>Taxable Income</th>
                                                </tr>

                                                <tr *ngFor="let business of ITR_JSON.business?.presumptiveIncomes">
                                                    <td>
                                                        {{(business.businessType === 'TRANSPORT') ? 'Section 44AE' :
                                                        (business.businessType === 'BUSINESS' ? 'Section 44AD' :
                                                        (business.businessType === 'PROFESSIONAL' ? 'Section
                                                        44ADA':''))}}
                                                    </td>
                                                    <td>{{natureOfBusinessFromCode(business.natureOfBusiness)}}</td>
                                                    <td>{{business.tradeName}}</td>
                                                    <td>Rs {{calReceipts(business.incomes)}}</td>
                                                    <td>Rs {{calPresumptiveIncome(business.incomes)}}</td>
                                                </tr>

                                                <!--  <tr>
                            <td>Section 44ADA</td>
                            <td>14006-BPO Services</td>
                            <td>M/s. ABC</td>
                            <td>Rs 6500000</td>
                            <td>Rs 78908</td>
                          </tr>

                          <tr>
                            <td>Section 44AE</td>
                            <td>10004-Guest Houses And Circuit Houses
                            </td>
                            <td>M/s. PQR</td>
                            <td>Rs 780000</td>
                            <td>Rs 780000</td>
                          </tr> -->

                                            </tbody>
                                        </table>
                                    </mat-expansion-panel>

                                    <!-- ************************** Income from Capital Gain ****************************** -->
                                    <mat-expansion-panel class="color-panel accordion-border" [disabled]="[(totalCapitalGain('AMT') === 0 
                    && !ITR_JSON.systemFlags.hasCapitalGain) ? true : false]" #CG>
                                        <mat-expansion-panel-header class="newclass">
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        4. Income from Capital Gain
                                                    </div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <div class="AdjAr1">
                                                            <mat-icon *ngIf="!CG.expanded">keyboard_arrow_down
                                                            </mat-icon>
                                                            <mat-icon *ngIf="CG.expanded">keyboard_arrow_up</mat-icon>
                                                        </div>
                                                        <label class="rtNumb1">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.capitalGain)}}</label>

                                                    </div>

                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                        <!-- <label>Short term</label> -->
                                        <!-- Content goes here -->
                                        <div class="bxHed" *ngIf="slab(-1,'INPUT').length > 0">Short term capital gain @
                                            slab rate <span style="float: right">{{getSlabWiseTotal(-1)}}</span></div>
                                        <table class="table table-bordered table-striped table-hover"
                                            *ngIf="slab(-1,'INPUT').length > 0">
                                            <thead>
                                                <tr>
                                                    <th style="font-weight:bold;">Name of asset</th>
                                                    <th style="font-weight:bold;">Description</th>
                                                    <th style="font-weight:bold;">Capital gain amount (1)</th>
                                                    <th style="font-weight:bold;">Deduction (2)</th>
                                                    <th style="font-weight:bold;">Net capital gain (3=1-2)</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let slabRate of slab(-1,'INPUT'); let i=index">
                                                    <td>{{getNameFromCode(slabRate.assetType)}}</td>
                                                    <td>{{slabRate.description}}</td>
                                                    <td>Rs
                                                        {{utilsService.currencyFormatter(slabRate.cgOutput[0].cgIncome)}}
                                                    </td>
                                                    <td>Rs
                                                        {{utilsService.currencyFormatter(getTotalInvestments(slabRate))}}
                                                    </td>
                                                    <td>Rs
                                                        {{utilsService.currencyFormatter((slabRate.cgOutput[0].cgIncome)
                                                        - (getTotalInvestments(slabRate)))}}
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>

                                        <div class="bxHed" *ngIf="slab(15,'INPUT').length > 0">Short term capital gain @
                                            15% <span style="float: right">{{getSlabWiseTotal(15)}}</span></div>
                                        <table class="table table-bordered table-striped table-hover"
                                            *ngIf="slab(15,'INPUT').length > 0">
                                            <thead>
                                                <tr>
                                                    <th style="font-weight:bold;">Name of asset</th>
                                                    <th style="font-weight:bold;">Description</th>
                                                    <th style="font-weight:bold;">Capital gain amount (1)</th>
                                                    <th style="font-weight:bold;">Deduction (2)</th>
                                                    <th style="font-weight:bold;">Net capital gain (3=1-2)</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let slabRate of slab(15,'INPUT'); let i=index">
                                                    <td>{{getNameFromCode(slabRate.assetType)}}</td>
                                                    <td>{{slabRate.description}}</td>
                                                    <td>Rs
                                                        {{utilsService.currencyFormatter(slabRate.cgOutput[0].cgIncome)}}
                                                    </td>
                                                    <td>Rs
                                                        {{utilsService.currencyFormatter(getTotalInvestments(slabRate))}}
                                                    </td>
                                                    <td>Rs
                                                        {{utilsService.currencyFormatter((slabRate.cgOutput[0].cgIncome)
                                                        - (getTotalInvestments(slabRate)))}}
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>

                                        <div class="bxHed" *ngIf="slab(10,'INPUT').length > 0">Long term capital gain @
                                            10% <span style="float: right">{{getSlabWiseTotal(10)}}</span></div>
                                        <table class="table table-bordered table-striped table-hover"
                                            *ngIf="slab(10,'INPUT').length > 0">
                                            <thead>
                                                <tr>
                                                    <th style="font-weight:bold;">Name of asset</th>
                                                    <th style="font-weight:bold;">Description</th>
                                                    <th style="font-weight:bold;">Capital gain amount (1)</th>
                                                    <th style="font-weight:bold;">Deduction (2)</th>
                                                    <th style="font-weight:bold;">Net capital gain (3=1-2)</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let slabRate of slab(10,'INPUT'); let i=index">
                                                    <td>{{getNameFromCode(slabRate.assetType)}}</td>
                                                    <td>{{slabRate.description}}</td>
                                                    <td>Rs
                                                        {{utilsService.currencyFormatter(slabRate.cgOutput[0].cgIncome)}}
                                                    </td>
                                                    <td>Rs
                                                        {{utilsService.currencyFormatter(getTotalInvestments(slabRate))}}
                                                    </td>
                                                    <td>Rs
                                                        {{utilsService.currencyFormatter((slabRate.cgOutput[0].cgIncome)
                                                        - (getTotalInvestments(slabRate)))}}
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>

                                        <div class="bxHed" *ngIf="slab(20,'INPUT').length > 0">Long term capital gain @
                                            20% <span style="float: right">{{getSlabWiseTotal(20)}}</span></div>
                                        <table class="table table-bordered table-striped table-hover"
                                            *ngIf="slab(20,'INPUT').length > 0">
                                            <thead>
                                                <tr>
                                                    <th style="font-weight:bold;">Name of asset</th>
                                                    <th style="font-weight:bold;">Description</th>
                                                    <th style="font-weight:bold;">Capital gain amount (1)</th>
                                                    <th style="font-weight:bold;">Deduction (2)</th>
                                                    <th style="font-weight:bold;">Net capital gain (3=1-2)</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let slabRate of slab(20,'INPUT'); let i=index">
                                                    <td>{{getNameFromCode(slabRate.assetType)}}</td>
                                                    <td>{{slabRate.description}}</td>
                                                    <td>Rs
                                                        {{utilsService.currencyFormatter(slabRate.cgOutput[0].cgIncome)}}
                                                    </td>
                                                    <td>Rs
                                                        {{utilsService.currencyFormatter(getTotalInvestments(slabRate))}}
                                                    </td>
                                                    <td>Rs
                                                        {{utilsService.currencyFormatter((slabRate.cgOutput[0].cgIncome)
                                                        - (getTotalInvestments(slabRate)))}}
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>

                                        <!-- Content goes here -->
                                        <table class="table" style="width:100%">
                                            <tbody>
                                                <!--  <tr *ngFor="let cg of capitalGain.capitalGain;let i=index">
                            <td>{{displayLabel(cg.taxRate)}}</td>
                            <td class="tbl-lbl-right">
                              <i
                                class="material-icons icRup">&#8377;</i>&nbsp;{{totalCg(cg.cgIncome,cg.belAdjustmentAmount,cg.setOffAmount,cg.hpSetOff ,cg.pastYearSetOffAmount)}}
                            </td>
                          </tr> -->
                                                <!-- <tr>
                              <td>Short-term chargeable at application rate</td>
                              <td class="tbl-lbl-right">
                                <i class="material-icons"
                                  style="font-size:15px;">&#8377;</i>&nbsp;{{capitalGain.summaryBucketCGST.bucketCGSTsAR.finalTotalTaxableIncome}}
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <label>Total short-term</label>
                              </td>
                              <td class="tbl-lbl-right">
                                <i class="material-icons"
                                  style="font-size:15px;">&#8377;</i>&nbsp;{{capitalGain.summaryBucketCGST.taxableIncome}}
                              </td>
                            </tr> -->
                                            </tbody>
                                        </table>
                                        <!-- <hr> -->
                                        <!-- <label>Long term</label> -->
                                        <!-- <table class="table" style="width:100%">
                          <tbody>
                            <tr>
                              <td>Long-term chargeable at 10%</td>
                              <td class="tbl-lbl-right">
                                <i class="material-icons"
                                  style="font-size:15px;">&#8377;</i>&nbsp;{{capitalGain.summaryBucketCGLT.bucket10s.finalTotalTaxableIncome}}
                              </td>
                            </tr>
                            <tr>
                              <td>Long-term chargeable at 20%</td>
                              <td class="tbl-lbl-right">
                                <i class="material-icons"
                                  style="font-size:15px;">&#8377;</i>&nbsp;{{capitalGain.summaryBucketCGLT.bucket20s.finalTotalTaxableIncome}}
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <label>Total long-term</label>
                              </td>
                              <td class="tbl-lbl-right">
                                <i class="material-icons"
                                  style="font-size:15px;">&#8377;</i>&nbsp;{{capitalGain.summaryBucketCGLT.taxableIncome}}
                              </td>
                            </tr>
                          </tbody>
                        </table> -->
                                    </mat-expansion-panel>

                                    <!-- ***************************** Income from Other Source ***************************** -->
                                    <mat-expansion-panel class="color-panel accordion-border"
                                        [disabled]="[summaryDetail.otherIncome === 0 ? true : false]" #otherIncome>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        5.
                                                        Income from Other Source</div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <div class="AdjAr1">
                                                            <mat-icon *ngIf="!otherIncome.expanded">keyboard_arrow_down
                                                            </mat-icon>
                                                            <mat-icon *ngIf="otherIncome.expanded">keyboard_arrow_up
                                                            </mat-icon>
                                                        </div>
                                                        <label class="rtNumb1">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.otherIncome)}}</label>
                                                    </div>

                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                        <table class="table table-bordered table-striped table-hover"
                                            style="margin-top:20px;">
                                            <tbody>
                                                <tr>
                                                    <th>Particulars</th>
                                                    <th>Amount</th>
                                                </tr>
                                                <tr *ngIf="getOtherIncome('SAVING_INTEREST') || getOtherIncome('FD_RD_INTEREST') || getOtherIncome('TAX_REFUND_INTEREST')
                          || getOtherIncome('OTHER_INTEREST')">
                                                    <!--  *ngIf="isInterestIncome()" -->
                                                    <th colspan="2">Interest Income</th>
                                                </tr>
                                                <tr *ngIf="getOtherIncome('SAVING_INTEREST')">
                                                    <td>Saving Bank Accounts
                                                    </td>
                                                    <td>Rs {{getOtherIncome('SAVING_INTEREST')}}</td>
                                                </tr>
                                                <tr *ngIf="getOtherIncome('FD_RD_INTEREST')">
                                                    <td>Fixed/Recurring Deposits
                                                    </td>
                                                    <td>Rs {{getOtherIncome('FD_RD_INTEREST')}}</td>
                                                </tr>
                                                <!--  <tr *ngIf="getOtherIncome('SAVING_INTEREST')">
                            <td>Recurring Deposit
                            </td>
                            <td>Rs {{getOtherIncome('SAVING_INTEREST')}}</td>
                          </tr> -->
                                                <tr *ngIf="getOtherIncome('TAX_REFUND_INTEREST')">
                                                    <td>Income Tax Refund
                                                    </td>
                                                    <td>Rs {{getOtherIncome('TAX_REFUND_INTEREST')}}</td>
                                                </tr>
                                                <tr *ngIf="getOtherIncome('OTHER_INTEREST')">
                                                    <td>Any Other Interest Income
                                                    </td>
                                                    <td>Rs {{getOtherIncome('OTHER_INTEREST')}}</td>
                                                </tr>
                                                <tr *ngIf="getOtherIncome('GIFT_TAXABLE')">
                                                    <th colspan="2">Gifts</th>
                                                </tr>
                                                <tr *ngIf="getOtherIncome('GIFT_TAXABLE')">
                                                    <td>Taxable
                                                    </td>
                                                    <td>Rs {{getOtherIncome('GIFT_TAXABLE')}}</td>
                                                </tr>
                                                <!-- <tr *ngIf="getOtherIncome('GIFT_NONTAXABLE')">
                            <td>Exempt
                            </td>
                            <td>Rs {{getOtherIncome('GIFT_NONTAXABLE')}}</td>
                          </tr> -->
                                                <tr *ngIf="getOtherIncome('DIVIDEND') || getOtherIncome('MINORCHILD') || getOtherIncome('COMMISION')
                          || getOtherIncome('KEYMAN_INSURANCE_POLICY') || getOtherIncome('REMUNARATION_NON_EMPLOYER_ORGANISATION') || getOtherIncome('GAS')
                          || getOtherIncome('ANY_OTHER')">
                                                    <!--  *ngIf="isOtherIncome()" -->
                                                    <th colspan="2">Other Income </th>
                                                </tr>
                                                <tr *ngIf="getOtherIncome('DIVIDEND')">
                                                    <!-- <td>Dividend on share & mutual fund/UTI
                                                    </td> -->
                                                    <td>Dividend Income
                                                    </td>

                                                    <td>Rs {{getOtherIncome('DIVIDEND')}}</td>
                                                </tr>
                                                <tr *ngIf="getOtherIncome('FAMILY_PENSION')">
                                                    <td>Family Pension
                                                    </td>

                                                    <td>Rs {{getOtherIncome('FAMILY_PENSION')}}</td>
                                                </tr>
                                                <!-- <tr *ngIf="getOtherIncome('SAVING_INTEREST')">
                            <td>UTI Divided : 890
                            </td>
                            <td>Rs {{getOtherIncome('SAVING_INTEREST')}}</td>
                          </tr> -->
                                                <tr *ngIf="getOtherIncome('MINORCHILD')">
                                                    <td>Income from minor child
                                                    </td>
                                                    <td>Rs {{getOtherIncome('MINORCHILD')}}</td>
                                                </tr>
                                                <tr *ngIf="getOtherIncome('COMMISION')">
                                                    <td>Commission/Brokerage
                                                    </td>
                                                    <td>Rs {{getOtherIncome('COMMISION')}}</td>
                                                </tr>
                                                <!-- <tr *ngIf="getOtherIncome('SAVING_INTEREST')">
                            <td>Exempt
                            </td>
                            <td>Rs {{getOtherIncome('SAVING_INTEREST')}}</td>
                          </tr> -->
                                                <!-- <tr *ngIf="getOtherIncome('SAVING_INTEREST')">
                            <td>Brokerage
                            </td>
                            <td>Rs {{getOtherIncome('SAVING_INTEREST')}}</td>
                          </tr> -->
                                                <tr *ngIf="getOtherIncome('KEYMAN_INSURANCE_POLICY')">
                                                    <td>Amount from keyman insurance policy
                                                    </td>
                                                    <td>Rs {{getOtherIncome('KEYMAN_INSURANCE_POLICY')}}</td>
                                                </tr>
                                                <tr *ngIf="getOtherIncome('REMUNARATION_NON_EMPLOYER_ORGANISATION')">
                                                    <td>Fees received as professor/ teacher from non-employer
                                                        organisation
                                                    </td>
                                                    <td>Rs {{getOtherIncome('REMUNARATION_NON_EMPLOYER_ORGANISATION')}}
                                                    </td>
                                                </tr>
                                                <tr *ngIf="getOtherIncome('GAS')">
                                                    <td>Gas subsidy
                                                    </td>
                                                    <td>Rs {{getOtherIncome('GAS')}}</td>
                                                </tr>
                                                <tr *ngIf="getOtherIncome('ANY_OTHER')">
                                                    <td>Other Income
                                                    </td>
                                                    <td>Rs {{getOtherIncome('ANY_OTHER')}}</td>
                                                </tr>
                                                <tr>
                                                    <th>Total
                                                    </th>
                                                    <th>Rs {{utilsService.currencyFormatter(summaryDetail.otherIncome)}}
                                                    </th>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </mat-expansion-panel>

                                    <!-- ********************** Total Income ********************** -->
                                    <mat-expansion-panel class="color-panel accordion-border " [disabled]=true>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        <b> 6.
                                                            Total Income Head Wise (1+2+3+4+5)</b>
                                                    </div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <label class="rtNumb">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.totalIncome)}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                    </mat-expansion-panel>

                                    <!-- **************************** Losses of Current Year Set Off *************************** -->
                                    <mat-expansion-panel class="color-panel accordion-border"
                                        [disabled]="[summaryDetail.currentYearIFHPSetOff === 0 ? true : false]" #setOff>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        7.
                                                        Losses of Current Year Setoff</div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <div class="AdjAr1">
                                                            <mat-icon *ngIf="!setOff.expanded">keyboard_arrow_down
                                                            </mat-icon>
                                                            <mat-icon *ngIf="setOff.expanded">keyboard_arrow_up
                                                            </mat-icon>
                                                        </div>
                                                        <label class="rtNumb1">
                                                            <!-- <label [ngClass]="summaryDetail.totalDeduction === 0 ? 'lbl-right rtNumb' : 'expand-lbl-right rtNumb'"> -->
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.currentYearIFHPSetOff)}}
                                                        </label>
                                                    </div>

                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                        <table class="table table-bordered table-striped table-hover"
                                            style="margin-top:20px;">
                                            <tbody>
                                                <tr>
                                                    <td><b>Loss Of Current Year
                                                        </b></td>
                                                    <td><b>Amount Adjusted</b></td>
                                                </tr>
                                                <tr>
                                                    <td>House Property
                                                    </td>
                                                    <td>Rs
                                                        {{utilsService.currencyFormatter(summaryDetail.currentYearIFHPSetOff)}}
                                                    </td>
                                                </tr>
                                                <!-- <tr>
                            <td>Short Term Loss
                            </td>
                            <td>Rs 150,000</td>
                          </tr>
                          <tr>
                            <td>Long Term Loss
                            </td>
                            <td>Rs 120,000</td>
                          </tr> -->
                                            </tbody>
                                        </table>
                                    </mat-expansion-panel>

                                    <!-- ********************** Balance After Set Off Current Year Losses (6-7) ********************** -->
                                    <mat-expansion-panel class="color-panel accordion-border " [disabled]=true>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        8.
                                                        Balance After Setoff Of Current Year Losses (6-7)</div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <label class="rtNumb">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.balanceAfterSetOffCurrentYearLosses)}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                    </mat-expansion-panel>

                                    <!-- ********************** Brought Forward Losses Set Off  ********************** -->
                                    <mat-expansion-panel class="color-panel accordion-border"
                                        [disabled]="[summaryDetail.totalBroughtForwordSetOff === 0 ? true : false]"
                                        #bflSetOff>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        9. Brought Forward Losses Setoff
                                                    </div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <div class="AdjAr">
                                                            <mat-icon *ngIf="!bflSetOff.expanded">keyboard_arrow_down
                                                            </mat-icon>
                                                            <mat-icon *ngIf="bflSetOff.expanded">keyboard_arrow_up
                                                            </mat-icon>
                                                        </div>
                                                        <!-- <label class="rtNumb1"
                                [ngClass]="summaryDetail.totalDeduction === 0 ? 'lbl-right rtNumb' : 'expand-lbl-right '"> -->
                                                        <label class="rtNumb1">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{convertToPositive(summaryDetail.totalBroughtForwordSetOff)}}</label>
                                                    </div>

                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>

                                        <table class="table table-bordered table-striped table-hover"
                                            style="margin-top:20px;">
                                            <tbody>
                                                <tr>
                                                    <td><b>Loss Of Current Year
                                                        </b></td>
                                                    <td><b>Amount Adjusted</b></td>
                                                </tr>
                                                <tr *ngIf="hpLoss">
                                                    <td>House Property
                                                    </td>
                                                    <td>Rs {{utilsService.currencyFormatter(hpLoss)}}</td>
                                                </tr>
                                                <tr *ngIf="stLoss">
                                                    <td>Short Term Loss
                                                    </td>
                                                    <td>Rs {{utilsService.currencyFormatter(stLoss)}}</td>
                                                </tr>
                                                <tr *ngIf="ltLoss">
                                                    <td>Long Term Loss
                                                    </td>
                                                    <td>Rs {{utilsService.currencyFormatter(ltLoss)}}</td>
                                                </tr>
                                            </tbody>
                                        </table>


                                        <!-- <table class="table" style="width:100%">
                          <tbody>
                            <tr *ngFor="let deduction of deductionDetail;let i=index">
                              <td *ngIf="deduction.eligibleAmount > 0">{{deduction.notes}}</td>
                              <td *ngIf="deduction.eligibleAmount > 0" class="tbl-lbl-right">
                                <i class="material-icons icRup">&#8377;</i>&nbsp;{{deduction.eligibleAmount}}</td>
                            </tr>
                        </table> -->

                                    </mat-expansion-panel>


                                    <!-- ********************** Gross Total Income (8-9) ********************** -->
                                    <mat-expansion-panel class="color-panel accordion-border " [disabled]=true>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        <b> 10.
                                                            Gross Total Income (8-9)</b> <i>(Round of to nearest <i
                                                                class="material-icons icRup">&#8377;</i> 10)</i>
                                                    </div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <label class="rtNumb">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.grossTotalIncome)}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                    </mat-expansion-panel>

                                    <!-- ********************** Income Chargeable To Tax At Special Rate Under Section 111A, 112 etc. ********************** -->
                                    <mat-expansion-panel class="color-panel accordion-border " [disabled]=true>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        11.
                                                        Income Chargeable to Tax at Special Rate Under Section 111A, 112
                                                        etc.</div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <label class="rtNumb">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.totalSpecialRateIncome)}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                    </mat-expansion-panel>

                                    <!-- ********************** Deductions Under Chapter VI-A ********************** -->
                                    <mat-expansion-panel class="color-panel accordion-border"
                                        [disabled]="[summaryDetail.totalDeduction === 0 ? true : false]" #deductionVI>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        12.
                                                        Deductions Under Chapter VI-A</div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <div class="AdjAr1">
                                                            <mat-icon *ngIf="!deductionVI.expanded">keyboard_arrow_down
                                                            </mat-icon>
                                                            <mat-icon *ngIf="deductionVI.expanded">keyboard_arrow_up
                                                            </mat-icon>
                                                        </div>
                                                        <!-- <label class="rtNumb1"
                                [ngClass]="summaryDetail.totalDeduction === 0 ? 'lbl-right rtNumb' : 'expand-lbl-right '"> -->
                                                        <label class="rtNumb1">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.totalDeduction)}}</label>
                                                    </div>

                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>

                                        <table class="table table-bordered table-striped table-hover"
                                            style="margin-top:20px;">
                                            <tbody>
                                                <tr>
                                                    <td><b>Particular</b></td>
                                                    <td><b>Amount</b></td>
                                                </tr>
                                                <tr *ngFor="let deduction of deductionDetail;let i=index">
                                                    <td *ngIf="deduction.eligibleAmount > 0">{{deduction.notes}}</td>
                                                    <td *ngIf="deduction.eligibleAmount > 0">
                                                        <!-- <i class="material-icons"
                                  style="font-size:15px;">&#8377;</i>&nbsp; -->Rs
                                                        {{utilsService.currencyFormatter(deduction.eligibleAmount)}}
                                                    </td>
                                                </tr>
                                                <!--  <tr>
                            <td>Section 80C/80CCD/80CC : LIC/EPF/NPS etc..
                            </td>
                            <td>Rs 1500</td>
                          </tr>
                          <tr>
                            <td>Section 80CCD(1B) : Contribution to pension scheme of CG
                            </td>
                            <td>Rs 1000</td>
                          </tr>
                          <tr>
                            <td>Section 80CCD(2) : Contribution to pension scheme of CG by employer
                            </td>
                            <td>Rs 1200</td>
                          </tr>
                          <tr>
                            <td>Section 80D : Mediclaim</td>
                            <td>Rs 800</td>
                          </tr>
                          <tr>
                            <td>Section 80E : Repayment of Education loan
                            </td>
                            <td>Rs 900</td>
                          </tr>
                          <tr>
                            <td>Section 80U : Suffering from disability</td>
                            <td>Rs 1600</td>
                          </tr>
                          <tr>
                            <td>Section 80G : Donation</td>
                            <td>Rs 1900</td>
                          </tr>
                          <tr>
                            <td>Section 80GG : Rent paid</td>
                            <td>Rs 1300</td>
                          </tr>
                          <tr>
                            <td>Section 80GGA : Donation for scientific/ Rural development</td>
                            <td>Rs 1100</td>
                          </tr> -->
                                            </tbody>
                                        </table>
                                    </mat-expansion-panel>

                                    <!-- ********************** Total Income (10-12) ********************** -->
                                    <mat-expansion-panel class="color-panel accordion-border " [disabled]=true>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        <b>13.
                                                            Total Income (10-12)</b>
                                                    </div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <label class="rtNumb">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.totalIncomeAfterDeductionIncludeSR)}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                    </mat-expansion-panel>

                                    <!-- ********************** Income Chargeable At Special Rates After Adjusting Basic Exemption Limit ********************** -->
                                    <mat-expansion-panel class="color-panel accordion-border " [disabled]="true">
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        14.
                                                        Income Chargeable at Special Rates After Adjusting Basic
                                                        Exemption Limit</div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <label class="rtNumb">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.specialIncomeAfterAdjBaseLimit)}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>

                                        <!--   <label *ngIf="losses.carryForwordLosses.length !==0">Carry forward losses</label>
                      <table class="table table-bordered" style="width:100%">
                        <tbody *ngFor="let loss of losses.carryForwordLosses;let i=index">
                          <tr style="background: #a9a7a7;">
                            <td>Year of loss</td>
                            <td class="tbl-lbl-right">
                              {{loss.assessmentPastYear}}</td>
                          </tr>
                          <tr>
                            <td>
                              <label>Head of loss</label>
                            </td>
                            <td class="tbl-lbl-right">
                          </tr>
                          <tr>
                            <td style="padding-left: 30px;">Long term loss</td>
                            <td class="tbl-lbl-right">
                              <i class="material-icons icRup">&#8377;</i>&nbsp;{{loss.LTCGLoss}}
                            </td>
                          </tr>
                          <tr>
                            <td style="padding-left: 30px;">Short term loss</td>
                            <td class="tbl-lbl-right">
                              <i class="material-icons icRup">&#8377;</i>&nbsp;{{loss.STCGLoss}}
                            </td>
                          </tr>
                          <tr>
                            <td style="padding-left: 30px;">House property loss</td>
                            <td class="tbl-lbl-right">
                              <i class="material-icons icRup">&#8377;</i>&nbsp;{{loss.housePropertyLoss}}
                            </td>
                          </tr>
                          <tr>
                            <td>Amount
                            </td>
                            <td class="tbl-lbl-right">
                              <i class="material-icons icRup">&#8377;</i>&nbsp;{{loss.totalLoss}}
                            </td>
                          </tr>
                        </tbody>
                      </table> -->
                                    </mat-expansion-panel>

                                    <!-- ************************* Net Agriculture Income ************************* -->
                                    <mat-expansion-panel class="color-panel accordion-border" [disabled]=true>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        15.
                                                        Net Agriculture Income</div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <label class="rtNumb">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.agricultureIncome)}}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                    </mat-expansion-panel>

                                    <!-- ************************ Aggregate Income (13-14+15) ************************ -->
                                    <mat-expansion-panel class="color-panel accordion-border " [disabled]=true>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        <b>16.
                                                            Aggregate Income (13-14+15)</b>
                                                    </div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <label class="rtNumb">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.aggregateIncomeXml)}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                    </mat-expansion-panel>

                                    <!-- ************************ Losses To Be Carried Forward  ************************ -->
                                    <mat-expansion-panel class="color-panel accordion-border"
                                        [disabled]="[totalCarryForword === 0 ? true : false]" #lossCarryFwd>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        17. Losses To Be Carried Forward</div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <div class="AdjAr1">
                                                            <mat-icon *ngIf="!lossCarryFwd.expanded">keyboard_arrow_down
                                                            </mat-icon>
                                                            <mat-icon *ngIf="lossCarryFwd.expanded">keyboard_arrow_up
                                                            </mat-icon>
                                                        </div>
                                                        <!-- <label class="rtNumb1"
                                [ngClass]="summaryDetail.totalDeduction === 0 ? 'lbl-right rtNumb' : 'expand-lbl-right '"> -->
                                                        <label class="rtNumb1">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(totalCarryForword)}}</label>
                                                    </div>

                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>

                                        <table class="table table-bordered table-striped table-hover"
                                            style="margin-top:20px;">
                                            <tbody>
                                                <tr>
                                                    <td><b>Year</b></td>
                                                    <td><b>House Property Loss</b></td>
                                                    <td><b>Short Term Capital Loss</b></td>
                                                    <td><b>Long Term Capital Loss</b></td>
                                                    <td><b>Losses Set Off During The Year</b></td>
                                                    <td><b>Carried Forward To Next Year</b></td>
                                                </tr>
                                                <tr *ngFor="let losses of losses?.carryForwordLosses;let i =index">
                                                    <td>{{losses.assessmentPastYear}}</td>
                                                    <td>{{utilsService.currencyFormatter(losses.housePropertyLoss)}}
                                                    </td>
                                                    <td>{{utilsService.currencyFormatter(losses.STCGLoss)}}</td>
                                                    <td>{{utilsService.currencyFormatter(losses.LTCGLoss)}}</td>
                                                    <td>{{utilsService.currencyFormatter(losses.pastYear)}}</td>
                                                    <td>{{utilsService.currencyFormatter(losses.totalLoss)}}</td>
                                                    <!-- <td>0</td>
                            <td>0</td>
                            <td>0</td>
                            <td>2,00,000</td> -->
                                                </tr>
                                                <!--  <tr>
                            <td>2015-16</td>
                            <td>0</td>
                            <td>1,50,000</td>
                            <td>45,000</td>
                            <td>1,50,000-STCG</td>
                            <td>45,000</td>
                          </tr> -->
                                            </tbody>
                                        </table>
                                    </mat-expansion-panel>

                                    <!-- *********************** Total Tax (A+B-C) ********************** -->
                                    <mat-expansion-panel class="color-panel accordion-border"
                                        [disabled]="[summaryDetail.totalTax === 0 ? true : false]" #totalTax>
                                        <mat-expansion-panel-header class="newclass">
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        18. Total Tax (A+B-C)
                                                    </div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <div class="AdjAr1">
                                                            <mat-icon *ngIf="!totalTax.expanded">keyboard_arrow_down
                                                            </mat-icon>
                                                            <mat-icon *ngIf="totalTax.expanded">keyboard_arrow_up
                                                            </mat-icon>
                                                        </div>
                                                        <label class="rtNumb1">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.totalTax)}}
                                                        </label>
                                                    </div>

                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>

                                        <table class="table table-bordered table-striped table-hover"
                                            style="margin-top:20px;">
                                            <tbody>
                                                <tr>
                                                    <td><b>Particular</b></td>
                                                    <td><b>Amount</b></td>
                                                </tr>
                                                <tr>
                                                    <td>Tax at normal rate - A</td>
                                                    <td><i class="material-icons"
                                                            style="font-size:15px;"></i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.taxAtNormalRate)}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Tax at special rate - B</td>
                                                    <td><i class="material-icons"
                                                            style="font-size:15px;"></i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.taxAtSpecialRate)}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Rebate on agriculture income - C</td>
                                                    <td>
                                                        <i class="material-icons"
                                                            style="font-size:15px;"></i>&nbsp;-{{utilsService.currencyFormatter(summaryDetail.rebateOnAgricultureIncome)}}
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </mat-expansion-panel>

                                    <!-- *********************** Rebate Under Section 87A ************************ -->
                                    <mat-expansion-panel class="color-panel accordion-border" [disabled]=true>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        19.
                                                        Rebate Under Section 87A</div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <label class="rtNumb">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.rebateUnderSection87A)}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                    </mat-expansion-panel>

                                    <!-- *************************** Tax After Rebate (18-19) *************************** -->
                                    <mat-expansion-panel class="color-panel accordion-border" [disabled]=true>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        20.
                                                        Tax After Rebate (18-19)</div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <label class="rtNumb">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.taxAfterRebate)}}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                    </mat-expansion-panel>

                                    <!-- *********************** Surcharge ************************ -->
                                    <mat-expansion-panel class="color-panel accordion-border" [disabled]=true>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        21.
                                                        Surcharge</div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <label class="rtNumb">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.surcharge)}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                    </mat-expansion-panel>

                                    <!-- *********************** Education Cess, Including Secondary and Higher Education Cess ************************ -->
                                    <mat-expansion-panel class="color-panel accordion-border" [disabled]=true>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        22.
                                                        Health and Education Cess</div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <label class="rtNumb">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.cessAmount)}}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                    </mat-expansion-panel>

                                    <!-- *********************** Gross Tax Liability (20+21+22) ************************ -->
                                    <mat-expansion-panel class="color-panel accordion-border" [disabled]=true>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        23.
                                                        Gross Tax Liability (20+21+22)</div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <label class="rtNumb">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.grossTaxLiability)}}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                    </mat-expansion-panel>

                                    <!-- *********************** Tax Relief ************************ -->
                                    <mat-expansion-panel class="color-panel accordion-border" [disabled]="[(summaryDetail.taxReliefUnder89
                    + summaryDetail.taxReliefUnder90_90A + summaryDetail.taxReliefUnder91) === 0 ? true : false]"
                                        #taxRelief>
                                        <mat-expansion-panel-header class="newclass">
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        24. Tax Relief
                                                    </div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <div class="AdjAr">
                                                            <mat-icon *ngIf="!taxRelief.expanded">keyboard_arrow_down
                                                            </mat-icon>
                                                            <mat-icon *ngIf="taxRelief.expanded">keyboard_arrow_up
                                                            </mat-icon>
                                                        </div>
                                                        <label class="rtNumb1">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.taxReliefUnder89
                                                            + summaryDetail.taxReliefUnder90_90A +
                                                            summaryDetail.taxReliefUnder91)}}</label>
                                                    </div>

                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                        <table class="table table-bordered table-striped table-hover accoTab">
                                            <tbody>
                                                <tr>
                                                    <td><b>Particular</b></td>
                                                    <td><b>Amount</b></td>
                                                </tr>
                                                <tr>
                                                    <td>Under 89</td>
                                                    <td class="">
                                                        <i
                                                            class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.taxReliefUnder89)}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Under 90/ 90A</td>
                                                    <td class="">
                                                        <i
                                                            class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.taxReliefUnder90_90A)}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Under 91</td>
                                                    <td class="">
                                                        <i
                                                            class="material-icons">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.taxReliefUnder91)}}
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </mat-expansion-panel>

                                    <!-- *********************** Net Tax Liability (23-24) ************************ -->
                                    <mat-expansion-panel class="color-panel accordion-border" [disabled]=true>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        25.
                                                        Net Tax Liability (23-24)</div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <label class="rtNumb">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.netTaxLiability)}}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                    </mat-expansion-panel>

                                    <!-- *********************** Interest and Fee Payable ************************ -->
                                    <mat-expansion-panel class="color-panel accordion-border"
                                        [disabled]="[summaryDetail.interestAndFeesPayable === 0 ? true : false]"
                                        #interestFee>
                                        <mat-expansion-panel-header class="newclass">
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        <b> 26. Interest and Fee Payable</b>
                                                    </div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <div class="AdjAr1">
                                                            <mat-icon *ngIf="!interestFee.expanded">keyboard_arrow_down
                                                            </mat-icon>
                                                            <mat-icon *ngIf="interestFee.expanded">keyboard_arrow_up
                                                            </mat-icon>
                                                        </div>
                                                        <label class="rtNumb1">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.interestAndFeesPayable)}}</label>
                                                    </div>

                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                        <table class="table table-bordered table-striped table-hover accoTab">
                                            <tbody>
                                                <tr>
                                                    <td><b>Particular</b></td>
                                                    <td><b>Amount</b></td>
                                                </tr>
                                                <tr>
                                                    <td>Interest for late filing u/s 234A</td>
                                                    <td class=""><i class="material-icons"
                                                            style="font-size:15px;"></i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.s234A)}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Interest for non-payment of advance tax u/s 234B</td>
                                                    <td class=""><i class="material-icons"
                                                            style="font-size:15px;"></i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.s234B)}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Interest for delay in payment of advance tax u/s 234C</td>
                                                    <td class=""><i class="material-icons"
                                                            style="font-size:15px;"></i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.s234C)}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Penalty for late filling u/s 234F</td>
                                                    <td class=""><i class="material-icons"
                                                            style="font-size:15px;"></i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.s234F)}}
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </mat-expansion-panel>

                                    <!-- *********************** Aggregate Liability (25+26) ************************ -->
                                    <mat-expansion-panel class="color-panel accordion-border" [disabled]=true>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        27.
                                                        Aggregate Liability (25+26)</div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <label class="rtNumb">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.agrigateLiability)}}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                    </mat-expansion-panel>

                                    <!-- *********************** Tax Paid ************************ -->
                                    <mat-expansion-panel class="color-panel accordion-border" [disabled]="[(summaryDetail.taxPaidAdvancedTax
                    + summaryDetail.taxPaidTDS + summaryDetail.taxPaidTCS
                    + summaryDetail.selfassessmentTax) === 0 ? true : false]" #taxPaid>
                                        <mat-expansion-panel-header class="newclass">
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        28. Tax Paid
                                                    </div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <div class="AdjAr">
                                                            <mat-icon *ngIf="!taxPaid.expanded">keyboard_arrow_down
                                                            </mat-icon>
                                                            <mat-icon *ngIf="taxPaid.expanded">keyboard_arrow_up
                                                            </mat-icon>
                                                        </div>
                                                        <label class="rtNumb1">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{utilsService.currencyFormatter(summaryDetail.taxPaidAdvancedTax
                                                            + summaryDetail.taxPaidTDS + summaryDetail.taxPaidTCS
                                                            + summaryDetail.selfassessmentTax)}}</label>
                                                    </div>

                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                        <div class="bxHed"
                                            *ngIf="ITR_JSON?.taxPaid?.onSalary && ITR_JSON?.taxPaid?.onSalary?.length > 0">
                                            TDS (On Salary)</div>
                                        <table class="table table-bordered table-striped table-hover"
                                            *ngIf="ITR_JSON?.taxPaid?.onSalary && ITR_JSON?.taxPaid?.onSalary?.length > 0">
                                            <thead>
                                                <tr>
                                                    <th style="font-weight:bold; width:20%;">Name Of Deductor</th>
                                                    <th style="font-weight:bold; width:25%;">TAN Of Deductor</th>
                                                    <th style="font-weight:bold; width:35%;">Amount Of Which TDS
                                                        Deducted</th>
                                                    <th style="font-weight:bold; width:20%;">Total Tax Amount</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let onSalary of ITR_JSON?.taxPaid?.onSalary">
                                                    <td>{{onSalary.deductorName}}</td>
                                                    <td>{{onSalary.deductorTAN}}</td>
                                                    <td>Rs.
                                                        {{utilsService.currencyFormatter(onSalary.totalAmountCredited)}}
                                                    </td>
                                                    <td>Rs.
                                                        {{utilsService.currencyFormatter(onSalary.totalTdsDeposited)}}
                                                    </td>
                                                </tr>
                                                <!--  <tr>
                            <td>Barkha</td>
                            <td>AECEFG1590D</td>
                            <td>Rs.8,00,000</td>
                            <td>Rs.2,00,000</td>
                          </tr> -->
                                                <tr>
                                                    <th>Total Amount</th>
                                                    <th></th>
                                                    <th></th>
                                                    <th>Rs.
                                                        {{getTaxPaidTotal(ITR_JSON.taxPaid.onSalary,'totalTdsDeposited')}}
                                                    </th>
                                                </tr>
                                            </tbody>
                                        </table>

                                        <div class="bxHed"
                                            *ngIf="ITR_JSON?.taxPaid?.otherThanSalary16A && ITR_JSON?.taxPaid?.otherThanSalary16A?.length > 0">
                                            TDS (Other
                                            Than Salary)</div>
                                        <table class="table table-bordered table-striped table-hover"
                                            *ngIf="ITR_JSON?.taxPaid?.otherThanSalary16A && ITR_JSON?.taxPaid?.otherThanSalary16A?.length > 0">
                                            <thead>
                                                <tr>
                                                    <th style="font-weight:bold; width:20%;">Name Of Deductor</th>
                                                    <th style="font-weight:bold; width:25%;">TAN Of Deductor</th>
                                                    <th style="font-weight:bold; width:35%;">Amount Of Which TDS
                                                        Deducted</th>
                                                    <th style="font-weight:bold; width:20%;">Total Tax Deducted</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr
                                                    *ngFor="let otherThanSalary16A of ITR_JSON?.taxPaid?.otherThanSalary16A">
                                                    <td>{{otherThanSalary16A.deductorName}}</td>
                                                    <td>{{otherThanSalary16A.deductorTAN}}</td>
                                                    <td>Rs.
                                                        {{utilsService.currencyFormatter(otherThanSalary16A.totalAmountCredited)}}
                                                    </td>
                                                    <td>Rs.
                                                        {{utilsService.currencyFormatter(otherThanSalary16A.totalTdsDeposited)}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>Total Amount</th>
                                                    <th></th>
                                                    <th></th>
                                                    <th>Rs.
                                                        {{getTaxPaidTotal(ITR_JSON.taxPaid.otherThanSalary16A,'totalTdsDeposited')}}
                                                    </th>
                                                </tr>
                                            </tbody>
                                        </table>

                                        <div class="bxHed"
                                            *ngIf="ITR_JSON?.taxPaid?.otherThanSalary26QB && ITR_JSON?.taxPaid?.otherThanSalary26QB?.length > 0">
                                            TDS (Other
                                            Than Salary 26QB)</div>
                                        <table class="table table-bordered table-striped table-hover"
                                            *ngIf="ITR_JSON?.taxPaid?.otherThanSalary26QB && ITR_JSON?.taxPaid?.otherThanSalary26QB?.length > 0">
                                            <thead>
                                                <tr>
                                                    <th style="font-weight:bold; width:20%;">Name Of Deductor</th>
                                                    <th style="font-weight:bold; width:25%;">PAN Of Deductor</th>
                                                    <th style="font-weight:bold; width:35%;">Amount Of Which TDS
                                                        Deducted</th>
                                                    <th style="font-weight:bold; width:20%;">Total Tax Deducted</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr
                                                    *ngFor="let otherThanSalary26QB of ITR_JSON?.taxPaid?.otherThanSalary26QB">
                                                    <td>{{otherThanSalary26QB.deductorName}}</td>
                                                    <td>{{otherThanSalary26QB.deductorPAN}}</td>
                                                    <td>Rs.
                                                        {{utilsService.currencyFormatter(otherThanSalary26QB.totalAmountCredited)}}
                                                    </td>
                                                    <td>Rs.
                                                        {{utilsService.currencyFormatter(otherThanSalary26QB.totalTdsDeposited)}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>Total Amount</th>
                                                    <th></th>
                                                    <th></th>
                                                    <th>Rs.
                                                        {{getTaxPaidTotal(ITR_JSON.taxPaid.otherThanSalary26QB,'totalTdsDeposited')}}
                                                    </th>
                                                </tr>
                                            </tbody>
                                        </table>

                                        <div class="bxHed"
                                            *ngIf="ITR_JSON?.taxPaid?.tcs && ITR_JSON?.taxPaid?.tcs?.length > 0">TCS</div>
                                        <table class="table table-bordered table-striped table-hover"
                                            *ngIf="ITR_JSON?.taxPaid?.tcs && ITR_JSON?.taxPaid?.tcs?.length > 0">
                                            <thead>
                                                <tr>
                                                    <th style="font-weight:bold; width:20%;">Name Of Collector</th>
                                                    <th style="font-weight:bold; width:25%;">TAN Of Collector</th>
                                                    <th style="font-weight:bold; width:35%;">Amount Of Which TCS
                                                        Collected</th>
                                                    <th style="font-weight:bold; width:20%;">Total Tax Collected</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let tcs of ITR_JSON?.taxPaid?.tcs">
                                                    <td>{{tcs.collectorName}}</td>
                                                    <td>{{tcs.collectorTAN}}</td>
                                                    <td>Rs. {{utilsService.currencyFormatter(tcs.totalAmountPaid)}}</td>
                                                    <td>Rs. {{utilsService.currencyFormatter(tcs.totalTcsDeposited)}}
                                                    </td>
                                                </tr>
                                                <!-- <tr>
                            <td>Brij</td>
                            <td>CEFG2590FEA</td>
                            <td>Rs.20,00,000</td>
                            <td>Rs. 2,00,000</td>
                          </tr> -->
                                                <tr>
                                                    <th>Total Amount</th>
                                                    <th></th>
                                                    <th></th>
                                                    <th>Rs.
                                                        {{getTaxPaidTotal(ITR_JSON.taxPaid.tcs,'totalTcsDeposited')}}
                                                    </th>
                                                </tr>
                                            </tbody>
                                        </table>

                                        <!--  <div class="bxHed">Advance Tax Paid</div>
                      <table class="table table-bordered table-striped table-hover">
                        <thead>
                          <tr>
                            <th style="font-weight:bold; width:20%;">BRS Code</th>
                            <th style="font-weight:bold; width:25%;">Date</th>
                            <th style="font-weight:bold; width:35%;">Challan No.</th>
                            <th style="font-weight:bold; width:20%;">Tax Deposited</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td>SP123</td>
                            <td>24 May 2019</td>
                            <td>123456</td>
                            <td>Rs.40,00,000</td>
                          </tr>
                          <tr>
                            <td>SP456</td>
                            <td>27 May 2019</td>
                            <td>654321</td>
                            <td>Rs.10,00,000</td>
                          </tr>
                          <tr>
                            <th>Total Amount</th>
                            <th></th>
                            <th></th>
                            <th>Rs.50,00,000</th>
                          </tr>
                        </tbody>
                      </table> -->

                                        <div class="bxHed"
                                            *ngIf="ITR_JSON?.taxPaid?.otherThanTDSTCS && ITR_JSON?.taxPaid?.otherThanTDSTCS?.length > 0">
                                            Advance / Self
                                            Assessment Tax Paid</div>
                                        <table class="table table-bordered table-striped table-hover"
                                            *ngIf="ITR_JSON?.taxPaid?.otherThanTDSTCS && ITR_JSON?.taxPaid?.otherThanTDSTCS?.length > 0">
                                            <thead>
                                                <tr>
                                                    <th style="font-weight:bold; width:20%;">BRS Code</th>
                                                    <th style="font-weight:bold; width:25%;">Date</th>
                                                    <th style="font-weight:bold; width:35%;">Challan No.</th>
                                                    <th style="font-weight:bold; width:20%;">Tax Deposited</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let advance of ITR_JSON?.taxPaid?.otherThanTDSTCS">
                                                    <td>{{advance.bsrCode}}</td>
                                                    <td>{{advance.dateOfDeposit | date : 'dd MMM yyyy'}}</td>
                                                    <td>{{advance.challanNumber}}</td>
                                                    <td>Rs. {{utilsService.currencyFormatter(advance.totalTax)}}</td>
                                                </tr>
                                                <!-- <tr>
                            <td>SP183</td>
                            <td>26 May 2019</td>
                            <td>423458</td>
                            <td>Rs.10,00,000</td>
                          </tr> -->
                                                <tr>
                                                    <th>Total Amount</th>
                                                    <th></th>
                                                    <th></th>
                                                    <th>Rs.
                                                        {{getTaxPaidTotal(ITR_JSON.taxPaid.otherThanTDSTCS,'totalTax')}}
                                                    </th>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </mat-expansion-panel>


                                    <!-- *********************** Amount Payable / (Refund) (27-28)  ************************* -->
                                    <mat-expansion-panel class="color-panel accordion-border" [disabled]=true>
                                        <mat-expansion-panel-header>
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        <b>29.
                                                            Amount Payable/(Refund) (27-28)</b> <i>(Round of to nearest
                                                            <i class="material-icons icRup">&#8377;</i> 10)</i>
                                                    </div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <label class="rtNumb">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{getAmount()}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                    </mat-expansion-panel>



                                    <!-- *********************** Exempt Income ************************ -->
                                    <mat-expansion-panel class="color-panel accordion-border"
                                        [disabled]="[ITR_JSON?.exemptIncomes?.length > 0 ? false : true]" #exemptIncome>
                                        <mat-expansion-panel-header class="newclass">
                                            <div class="font80" style="width: 100%;" cellpadding="0" cellspacing="0">
                                                <div class="nav nav-stacked">
                                                    <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                                                        <b> 30. Exempt Income</b>
                                                    </div>
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <div class="AdjAr1">
                                                            <mat-icon *ngIf="!exemptIncome.expanded">keyboard_arrow_down
                                                            </mat-icon>
                                                            <mat-icon *ngIf="exemptIncome.expanded">keyboard_arrow_up
                                                            </mat-icon>
                                                        </div>
                                                        <label class="rtNumb1">
                                                            <i
                                                                class="material-icons icRup">&#8377;</i>&nbsp;{{getExemptIncomeTotal()}}</label>
                                                    </div>

                                                </div>
                                            </div>
                                        </mat-expansion-panel-header>
                                        <table class="table table-bordered table-striped table-hover accoTab">
                                            <tbody>
                                                <tr>
                                                    <td><b>Particular</b></td>
                                                    <td><b>Amount</b></td>
                                                </tr>
                                                <tr *ngFor="let exempt of ITR_JSON.exemptIncomes">
                                                    <td>{{getExemptDescription(exempt)}}</td>
                                                    <td class=""><i class="material-icons"
                                                            style="font-size:15px;"></i>&nbsp;{{utilsService.currencyFormatter(exempt.amount)}}
                                                    </td>
                                                </tr>

                                            </tbody>
                                        </table>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!-- **************************** Accordion End -->

        <!-- --------------------- ITR 4 --------------------------------- -->



        <br>

    </div>
    <!-- <div class="container"> -->
    <div class="row">
        <div class="col-lg-12">
            <b>Note:</b> * Negative value has been considered as zero for the purpose of calculation of total income
            however provision for setoff and carry forword will be taken care off as per ITR rules.
        </div>
    </div>
    <div class="row" *ngIf="taxable && taxable > 0">
        <div class="col-lg-3 col-md-3 col-sm-12">
            <div class="incBx1">
                <span class="inTex">Income Tax Payable:</span><br><br>
                <span class="inNo">{{utilsService.currencyFormatter(taxable)}}.00</span>
            </div>
        </div>
        <div class="col-lg-9 col-md-9 col-sm-12 paIncTx1">
            You must pay the balance tax before proceeding to e-filing. To pay your tax <a
                href="https://onlineservices.tin.egov-nsdl.com/etaxnew/tdsnontds.jsp" target="_new"
                style="text-decoration: underline" class="LkTx">Click here</a><br> and select CHALLAN NO/ITNS 280
            under NON-TDS/TCS Section
        </div>
    </div>

    <div *ngIf="refund > 0">
        <div class="col-lg-3 col-md-3 col-sm-12">
            <div class="incBx1">
                <span class="inTex">Income Tax Refund:</span><br><br>
                <span class="inRef">{{utilsService.currencyFormatter(refund)}}.00</span>
            </div>
        </div>
        <div class="col-lg-9 col-md-9 col-sm-12 paIncTx1">
            Great news...!!!
            You are getting refund of {{utilsService.currencyFormatter(refund)}}.00 of your tax return into your
            bank account number. <b>{{bankArray.accountNumber}}</b>
            <br>
            <span style="font-size: 12px; font-style: italic"><b>Note:</b> Ensure that your bank account is correct &
                Pre-validated to Income tax portal. <span> <a
                        href="https://blog.taxbuddy.com/index.php/pre-validate-bank-account/" target="_blank"
                        style="color: #e98017 !important">Click here</a></span> to know How to Pre-validate Your Bank
                Account.</span>
        </div>
    </div>
    <!-- </div> -->
    <div class="sub_btn lwBtDn" *ngIf="show">
        <button type="button" *ngIf="isValidItr" (click)="confirmSubmitITR()" class="btn grBut pull-right"
            [style.cursor]="!isValidateJson ? 'not-allowed':'pointer'" style="background-color: red;" [disabled]="!isValidateJson">
            File
            ITR</button>
        <!-- <button type="button" (click)="downloadXML()" class="btn grBut" style="background-color: orange;">
            Download XML
        </button> -->
        <button type="button" (click)="downloadPDF()" class="btn grBut"> Download PDF</button>

    </div>
    <div *ngIf="!show" class="text-center-align">
        <label>{{errorMessage}}</label>
    </div>
</div>