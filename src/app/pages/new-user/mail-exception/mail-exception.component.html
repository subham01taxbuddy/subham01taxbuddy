<ngx-loading
  [show]="loading"
  [config]="{ backdropBorderRadius: '14px', fullScreenBackdrop: true }"
></ngx-loading>

<div class="main clearfix" style="padding-top: 0px">
  <div class="card">
    
    <div *ngIf="showExceptionUser" class="card__row" style="margin-top: 0px;">
      <div class="tab-panel items-tab card__col-xs-12">
        <div class="tab-panel__content tab-panel__content_visible">
          <div class="table product__table">
            <div class="table__row  table__row_header ">
             
              <div class="table__cell product-row__cell-unit flex-20">
                <a class="table__sort-link">Id</a>
              </div>
              <div class="table__cell product-row__cell-unit flex-10">
                <a class="table__sort-link">Group id</a>
              </div>
              <div class="table__cell product-row__cell-unit flex-30">
                <a class="table__sort-link">Email</a>
              </div>
              <div class="table__cell product-row__cell-unit flex-10">
                <a class="table__sort-link">Date</a>
              </div>
              <div class="table__cell product-row__cell-unit flex-30">
                <a class="table__sort-link">Action</a>
              </div>
            </div>


            <div *ngIf="mailExceptionUser.length > 0">
                <div *ngFor="let item of mailExceptionUser; let i=index ">
                    <div class="table__row-item product-row" [class.table__row-disabled]="false">
                      <div class="table__row product-row__main-variant">
                        <div class="table__cell product-row__cell-stock flex-20">
                          {{item._id}}
                        </div>
                        <div class="table__cell product-row__cell-stock flex-10">
                          <a href="javascript:" (click)="redirectToKommunicate(item.groupId)">{{item.groupId}}</a>
                        </div>
                        <div class="table__cell product-row__cell-stock flex-30">
                          {{item.email}}
                        </div>
                        <div class="table__cell product-row__cell-stock flex-10">
                          {{item.createdDate | date : 'dd/MM/yyyy'}}
                        </div>
                        <div class="table__cell product-row__cell-stock flex-30">
                         <button class="butn" (click)="createNewUser(mailExceptionUser[i])">Create User</button>&nbsp;  <!--<i class="fa fa-user" aria-hidden="true"></i>-->
                         <button class="butn" (click)="assignUser(mailExceptionUser[i])">Assign User</button>&nbsp;
                         <button class="butn" (click)="showUserHistry(item.email)">User Histroy</button>
                        </div>
                        
                        <!-- <div class="table__cell product-row__cell-stock flex-20">
                          <button type="submit" class="btn" style="border: none;" (click)="startFiling(item)">Start
                            Filing</button>
                        </div> -->
                      </div>
                    </div>
                  </div>
            </div>
            
            <br><br>
            <div *ngIf="mailExceptionUser.length === 0">
                <label style="font-size: 15px; margin-left: 350px;">No records available for selected agent</label>
            </div>

          </div>
        </div>
      </div>
    </div>

  </div>

  <!-- <div class="card__row">
    <ag-grid-angular class="ag-theme-balham" [gridOptions]="exceptionListtGridOptions">  
    </ag-grid-angular>
  </div> -->
  <!--(rowClicked)="onInvoiceRowClicked($event)" paginationPageSize=15 pagination=true-->
</div>
