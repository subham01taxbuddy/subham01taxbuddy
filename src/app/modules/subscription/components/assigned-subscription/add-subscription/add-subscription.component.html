<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px', fullScreenBackdrop: true }"></ngx-loading>
<h1 mat-dialog-title><u>Add Subscription Plan</u></h1>

<form>

  <mat-dialog-content>
    <!--  <div *ngIf="selectedPlanInfo" style="text-align: center;">
      <span><b>Selected Plan: {{selectedPlanInfo.name}}</b></span>&nbsp;&nbsp;&nbsp;&nbsp; <span><b>Selected Plan
          Amount: ₹{{selectedPlanInfo.totalAmount}}</b></span>&nbsp;&nbsp;&nbsp;&nbsp; <span><b>Selected Plan Type:
          {{selectedPlanInfo.servicesType}}</b></span>
    </div>
    <br> -->
    <div><br><br>
      <a  class="serviceBtn" [class.btnHeghlight]="this.selectedBtn === 'ITR' ? true : false" [class.disabled]="service.includes('ITR')"
        (click)="showSelectedServicePlans('ITR')">ITR</a>
      <a class="serviceBtn" [class.btnHeghlight]="this.selectedBtn === 'ITR-U' ? true : false" href="javascript:"
        (click)="showSelectedServicePlans('ITR-U')">ITR-U</a>
      <a class="serviceBtn" [class.btnHeghlight]="this.selectedBtn === 'NOTICE' ? true : false" href="javascript:"
        (click)="showSelectedServicePlans('NOTICE')">NOTICE</a>
      <a class="serviceBtn" [class.btnHeghlight]="this.selectedBtn === 'GST' ? true : false" href="javascript:"
        (click)="showSelectedServicePlans('GST')">GST</a>
      <a class="serviceBtn" [class.btnHeghlight]="this.selectedBtn === 'TPA' ? true : false" [class.disabled]="service.includes('TPA')"
        (click)="showSelectedServicePlans('TPA')">TPA</a>
      <a class="serviceBtn" [class.btnHeghlight]="this.selectedBtn === 'OTHER' ? true : false" href="javascript:"
        (click)="showSelectedServicePlans('OTHER')">OTHER SERVICE</a>
      <a class="serviceBtn" [class.btnHeghlight]="this.selectedBtn === 'ALL' ? true : false" href="javascript:"
        (click)="showSelectedServicePlans('ALL')">ALL</a>
    </div><br><br><br><br>

    <div *ngIf="serviceTypeSelected">
      <label *ngIf="filteredPlans.length === 0">Selected service plan detail not available.</label>

      <div *ngFor="let plan of filteredPlans">
        <div class="card__col-lg-2 plan" id="plans" (click)="selectPlan(plan)" style="cursor: pointer;"
        [class.disabled]=" serviceDetails.includes('Schedule call') && plan.name === 'Schedule call'"
          [style.background-color]="plan.planId === selectedPlanInfo?.planId ? 'lightgreen':''">
          <h1 class="plan-head"><b>₹ {{plan.totalAmount}}</b></h1><br>
          <p class="plan-info">{{plan.name}}</p><br>
          <b>
            <p class="plan-info" style="vertical-align: bottom;">{{plan.servicesType}}</p>
          </b>
        </div>
      </div>
    </div>


  </mat-dialog-content>

  <mat-dialog-actions align="center">
    <button mat-raised-button color="primary" style="margin-top: 0px;" (click)="createSubscription()" tabindex="1">
      Create
    </button>

    <button mat-raised-button mat-dialog-close tabindex="-1">Cancel</button>
  </mat-dialog-actions>
</form>
