<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
<div class="main1">
    <div class="login_content1">
        <div class="login_content_container">
            <div class="card">
                <h2><img src="assets/img/logo-img.svg" style="margin-left:auto;margin-right:auto;display:block;"
                        alt="Smiley face" height="20%" width="50%"></h2>
                <form [formGroup]="form" class="form-horizontal" *ngIf="mode === 'SIGN_IN'">
                    <div class="card__row">
                        <mat-form-field appearance="outline">
                            <mat-label>Mobile Number</mat-label>
                            <input matInput placeholder="Mobile Number" formControlName="user" maxlength="10"
                                appearance="outline"
                                oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                onkeypress=" event.charCode >= 48 && event.charCode <= 57" required />
                        </mat-form-field>
                    </div>
                    <!--  <button [disabled]="!form.controls['user.valid" type="submit" class="btn"
                        (click)="sendOtpOnWhatapp(form.controls['user.value)"
                        style="margin-left: auto; margin-right: auto; display: block; min-width:40%;border:none;outline:none;">Login
                        with WhatsApp</button> -->
                    <!-- <div>- - - - - - - - - - - - - - - - OR - - - - - - - - - - - - - - - -</div> -->
                    <div class="card__row">
                        <mat-form-field appearance="outline">
                            <mat-label>Password</mat-label>
                            <input matInput placeholder="Password" type="password" formControlName="passphrase"
                                appearance="outline" />
                        </mat-form-field>
                    </div>
                    <div>
                        <div class="card__col-xs-12 card__col-sm-12" style="text-align: right;">
                            <a class="green-link green-link-toggle" (click)="changeMode('FORGOT_PASSWORD')">Forgot
                                password?</a>
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <button type="submit" class="btn"
                            style="margin-left: auto; margin-right: auto; display: block; min-width:40%;border:none;outline:none;"
                            (click)="onSubmit()">Login
                            with Password</button>
                    </div>
                </form>

                <div *ngIf="mode === 'FORGOT_PASSWORD'">
                    <app-forgot-password (sendValue)="fromForgotPassword($event)"></app-forgot-password>
                </div>
                <div *ngIf="mode === 'OTP'">
                    <app-validate-otp [username]="username" (sendValue)="fromOtp($event)">
                    </app-validate-otp>
                </div>
                <div class="col pad-zero" *ngIf="mode === 'SUCCESS'">
                    <div>
                        <h2 style="text-align: center;">RESET YOUR PASSWORD</h2>
                    </div>
                    <div style="margin-bottom: 16px">
                        Your password has been reset successfully.
                        <br>
                        <span class="link-style">
                            <a href="javascript:;" class="fgt_txt links" (click)="changeMode('SIGN_IN')">Please click
                                here
                                to
                                Sign in</a>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div>
        <p>
            For any assistance please drop an email to
            <a href="mailto:appsupport@taxbuddy.com" target="_blank">appsupport@taxbuddy.com</a>
        </p>
    </div>
</div>