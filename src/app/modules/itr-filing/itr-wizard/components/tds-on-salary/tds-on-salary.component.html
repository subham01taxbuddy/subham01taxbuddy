<ngx-loading
  [show]="loading"
  [config]="{ backdropBorderRadius: '14px', fullScreenBackdrop: true }"
></ngx-loading>


  <div class="PreBxUp">
    <div class="hdByr-L">TDS On Salary</div>
  </div>

  <div class="head-title mb-3">
      This is TDS on salary deducted by your employer. Enter the amount form 16
      or 26AS
    </div>

  <form [formGroup]="salaryForm">
    <div formArrayName="salaryArray">
      <div class="display-flex"
        *ngFor="let salary of getSalaryArray.controls | paginate : config;
          let i = index" [formGroupName]="fieldGlobalIndex(i)">
        <!-- <mat-checkbox
          color="primary"
          name="hasEdit[i]"
          formControlName="hasEdit"
          class="chkSp"
        >
        </mat-checkbox> -->
        <div class="row">
          <div class="div-6 ">
            <div class="form-field">
              <mat-label>TAN of Employer* &nbsp;&nbsp;&nbsp;</mat-label>
              <mat-form-field appearance="outline">
                <input
                  matTooltip="Format should like this(e.g. XXXXXNNNNX) X indicate character and N indicates number"
                  matTooltipClass="tab-tooltip"
                  matTooltipPosition="above"
                  formControlName="deductorTAN"
                  matInput
                  currencyMask
                  placeholder="XXXXXNNNNX"
                  name="deductorTAN[i]"
                  class="input-field"
                  maxlength="10"
                  minlength="10"
                  required
                  type="text"
                  trim
                  upperCase
                />

                <mat-error *ngIf="salary.get('deductorTAN').hasError('pattern')">
                  Enter valid TAN (e.g XXXXX1234X)</mat-error
                >
              </mat-form-field>
            </div>
            <div class="form-field">
            <mat-label>Name of Employer*</mat-label>
            <mat-form-field appearance="outline">
              <input
                formControlName="deductorName"
                matInput
                placeholder="Name of Employer"
                name="deductorName[i]"
                class="input-field"
                maxlength="125"
                required
                type="text"
                trim
              />
              <mat-error *ngIf="salary.get('deductorName').hasError('pattern')">
                Name should be character only</mat-error
              >
            </mat-form-field>
          </div>
          </div>

          <div class="div-6 ">
            <div class="form-field">
            <mat-label>Total Amount credited*</mat-label>
            <mat-form-field appearance="outline">
              <input
                formControlName="totalAmountCredited"
                matInput
                placeholder="Total Amount credited"
                name="totalAmountCredited[i]"
                required
                class="input-field"
                maxlength="14"
                digitsOnly
              />
              <mat-error
                *ngIf="salary.get('totalAmountCredited').hasError('pattern')"
              >
                Enter positive amount without decimal.</mat-error
              >
            </mat-form-field>
          </div>
            <div class="form-field">
            <mat-label>Total Tax Deducted*</mat-label>
            <mat-form-field appearance="outline">
              <input
                formControlName="totalTdsDeposited"
                matInput
                placeholder="Total Tax Deducted"
                name="totalTdsDeposited[i]"
                required
                class="input-field"
                maxlength="14"
                digitsOnly
              />
              <mat-error
                *ngIf="salary.get('totalTdsDeposited').hasError('pattern')"
              >
                Enter positive amount without decimal.</mat-error
              >
            </mat-form-field>
          </div>
          </div>

        </div>

      </div>

      <div class="box-right">
        <button class="btn btn__primary" (click)="save()">Save</button>
      </div>
    </div>
  </form>

