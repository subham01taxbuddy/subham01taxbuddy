<ngx-loading
  [show]="loading"
  [config]="{ backdropBorderRadius: '14px', fullScreenBackdrop: true }"
></ngx-loading>

<div class="frameC">
  <h1 class="heading__title">Other Assets</h1>
  <div class="space">
    <div class="div-2">
      <div class="div-3">
        <div class="tab__primaray row ">Other Asset 1
          <div class="group ml-20"> <img class="material-symbols " src="assets/img/new/del.png" />
          </div>
        </div>
        <div class="tab__white" (click)="$event.stopPropagation(); addOtherAssets(false)">+ Add Another Asset</div>
      </div>
      <div class="wrapper">

          <div class="frame-wrapper-2A">
            <div class="accordion" id="myAccordion">

              <div class="accordion-item">
                <h2 class="accordion-header" id="heading1">
                  <button type="button" class="accordion-button" data-bs-toggle="collapse"
                          data-bs-target="#collapse1">Any Other Assets</button>

                </h2>
                <div id="collapse1" class="accordion-collapse collapse show" data-bs-parent="#myAccordion">
                  <div class="accordion__item-body">
                    <ag-grid-angular
                            class="ag-theme-balham topSps"
                            [gridOptions]="gridOptions"
                            (rowClicked)="onOtherAssetsRowClicked($event)">
                    </ag-grid-angular>
                    <button
                            class="delete-btn delete-icon"
                            (click)="$event.stopPropagation(); deleteAsset()"
                            [disabled]="!isAssetSelected()"
                    >
                      <i class="fa fa-trash" aria-hidden="true"></i> Delete
                    </button>
                  </div>
                </div>
              </div>

              <div class="accordion-item" *ngIf="false">
                <h2 class="accordion-title">
                  Capital Gain Amount
                  <button type="button" class="accordion-btn" data-bs-toggle="collapse"
                          data-bs-target="#collapseTwo">
                    â‚¹ 56000
                  </button>
                </h2>
              </div>

              <div class="accordion-item">
                <h2 class="accordion-header" id="heading2">
                  <button type="button" class="accordion-button" data-bs-toggle="collapse"
                          data-bs-target="#collapse2">Add Deduction under section 54F (Applicable for any capital assets other than residential House Property)</button>
                  <div class="row">
                    <div class="col-sm-9"><div class="lftSpc">Add Deduction under section 54F (Applicable for any capital assets other than residential House Property)</div>
                    </div>

                    <div class="col-sm-3">
                    
                    <mat-radio-group
                            [(ngModel)]="deduction"
                            [disabled]="isDisable"
                            class="mvRth">
                      <mat-radio-button [value]="true" labelPosition="before"
                      >Yes
                      </mat-radio-button>
                      <mat-radio-button class="radSpc" [value]="false" labelPosition="before"
                      >No</mat-radio-button
                      >
                    </mat-radio-group>
                  </div>
                  </div>
                </h2>
                <div id="collapse2" class="accordion-collapse collapse show" data-bs-parent="#myAccordion">
                  <form [formGroup]="deductionForm" *ngIf="deduction">
                    <div class="accordion__item-body" formArrayName="deductions">
                    <div class="div-6">
                      <div class="form-field">
                        <div><span class="span">Type of deduction </span> <span
                                class="text-wrapper-2">*</span></div>
                        <div class="form-control-wrapper select_arrow">
                          <mat-form-field class="input-field-width" appearance="outline">
                            <input
                                    matInput
                                    digitsOnly
                                    formControlName="typeOfDeduction"
                                    placeholder="Section 54F"
                                    name="typeOfDeduction"
                                    class="input-field"
                                    maxlength="14"
                                    readonly
                                    oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                            />
                          </mat-form-field>
                        </div>
                      </div>
                      <div class="form-field">
                        <div><span class="span">Purches date Of New Assets </span> <span
                                class="text-wrapper-2">*</span></div>
                        <mat-form-field appearance="outline">
                          <input
                                  matInput
                                  formControlName="purchaseDate"
                                  name="purchaseDate"
                                  [matDatepicker]="purchaseDate"
                                  placeholder="Buy Date / Date of Acquisition"
                                  [max]="maximumDate"
                                  (change)="calculateDeduction()"
                          />
                          <mat-datepicker-toggle
                                  matSuffix
                                  [for]="purchaseDate"
                          ></mat-datepicker-toggle>
                          <mat-datepicker #purchaseDate></mat-datepicker>
                        </mat-form-field>
                      </div>
                      <div class="form-field">
                        <div><span class="span">cost Of New Assets</span> <span
                                class="text-wrapper-2">*</span></div>
                        <mat-form-field class="input-field-width" appearance="outline">
                          <input
                                  matInput
                                  digitsOnly
                                  formControlName="costOfNewAsset"
                                  placeholder="Cost Of New Asset"
                                  name="costOfNewAsset"
                                  class="input-field"
                                  maxlength="14"
                                  oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                  (change)="calculateDeduction()"
                          />
                          <!-- <mat-error
                            *ngIf="
                              assetDetailsForm.controls['sellValue'].hasError('pattern')
                            "
                            >Enter valid amount.</mat-error
                          > -->
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="div-6">
                      <div class="form-field">
                        <div><span class="span">Amount Deposited on CGAS </span> <span
                                class="text-wrapper-2">*</span></div>
                        <mat-form-field class="input-field-width" appearance="outline">
                          <input
                                  matInput
                                  digitsOnly
                                  formControlName="CGASAmount"
                                  placeholder="Amount deposited in CGAS before due date"
                                  name="CGASAmount"
                                  class="input-field"
                                  maxlength="14"
                                  oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                  (change)="calculateDeduction()"
                          />
                          <!-- <mat-error
                            *ngIf="
                              assetDetailsForm.controls['sellExpense'].hasError('pattern')
                            "
                            >Enter valid amount.</mat-error
                          > -->
                        </mat-form-field>
                      </div>
                      <div class="form-field">
                        <div><span class="span">Amount Of Deduction Claimed </span> <span
                                class="text-wrapper-2">*</span></div>
                        <mat-form-field class="input-field-width" appearance="outline">
                          <input
                                  matInput
                                  digitsOnly
                                  formControlName="deductionClaimed"
                                  placeholder="Amount of Deduction Claimed"
                                  name="deductionClaimed"
                                  class="input-field"
                                  maxlength="14"
                                  readonly
                                  oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                          />
                        </mat-form-field>
                      </div>
                    </div>
                  </div>
                  </form>
                </div>
              </div>

            </div>
          </div>
      


        <div class="out-box">
          <div class="box-left">
            <button class="btn btn__white" (click)="goBack()">Back</button>
          </div>
          <div class="box-right">
            <button class="btn btn__primary" (click)="saveCg()">Save & View Summary</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
