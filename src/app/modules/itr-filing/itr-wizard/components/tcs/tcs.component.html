<ngx-loading
  [show]="loading"
  [config]="{ backdropBorderRadius: '14px', fullScreenBackdrop: true }"
></ngx-loading>
<form [formGroup]="salaryForm">
  <div formArrayName="salaryArray">
    <div class="head-title mb-4">
      In case of some incomes the payer of income collects TCS from you. Enter
      the amount from form 16A or 26AS
    </div>
    <div
      class="display-flex"
      *ngFor="
        let donation of getSalaryArray.controls | paginate : config;
        let i = index
      "
      [formGroupName]="fieldGlobalIndex(i)"
    >
      <mat-checkbox
        color="primary"
        name="hasEdit[i]"
        formControlName="hasEdit"
        class="mv"
      >
      </mat-checkbox>
      <div class="row">
        <div class="col-sm-3">
          <mat-label>TAN of Collector*</mat-label>
          <mat-form-field appearance="outline">
            <input
              matTooltip="Format should like this(e.g. XXXXNNNNNX) X indicate character and N indicates number"
              matTooltipClass="tab-tooltip"
              matTooltipPosition="above"
              formControlName="collectorTAN"
              matInput
              currencyMask
              placeholder="XXXXNNNNNX"
              name="collectorTAN[i]"
              class="input-field"
              maxlength="10"
              minlength="10"
              required
              type="text"
              trim
              upperCase
            />

            <mat-error *ngIf="donation.get('collectorTAN').hasError('pattern')">
              Enter valid TAN (e.g XXXX12345X)</mat-error
            >
          </mat-form-field>
        </div>

        <div class="col-sm-3">
          <mat-label>Collector Name*</mat-label>
          <mat-form-field appearance="outline">
            <input
              formControlName="collectorName"
              matInput
              placeholder="Collector Name"
              name="collectorName[i]"
              class="input-field"
              maxlength="125"
              required
              type="text"
              trim
            />
            <mat-error
              *ngIf="donation.get('collectorName').hasError('pattern')"
            >
              Name should be character only</mat-error
            >
          </mat-form-field>
        </div>

        <div class="col-sm-3">
          <mat-label>Amount*</mat-label>
          <mat-form-field appearance="outline">
            <input
              formControlName="totalAmountPaid"
              matInput
              placeholder="Amount"
              name="totalAmountPaid[i]"
              required
              class="input-field"
              maxlength="14"
              digitsOnly
            />
            <mat-error
              *ngIf="donation.get('totalAmountPaid').hasError('pattern')"
            >
              Enter positive amount without decimal.</mat-error
            >
          </mat-form-field>
        </div>

        <div class="col-sm-3">
          <mat-label>Total TCS Deposited*</mat-label>
          <mat-form-field appearance="outline">
            <input
              formControlName="totalTcsDeposited"
              matInput
              placeholder="Total TCS Deposited"
              name="totalTcsDeposited[i]"
              required
              class="input-field"
              maxlength="14"
              digitsOnly
            />
            <mat-error
              *ngIf="donation.get('totalTcsDeposited').hasError('pattern')"
            >
              Enter positive amount without decimal.</mat-error
            >
          </mat-form-field>
        </div>
      </div>

      <!-- <div class="edit-head">
        <button type="button" class="edit-donation" (click)="editSalaryForm(i)">
          <mat-icon> edit_square </mat-icon>Edit
        </button>
      </div> -->
    </div>
    <div class="flex justify-between row spsTp bdrTp">
      <div class="col-sm-3">
        <button
          type="submit"
          class="tbd-btn-secondary delBtn"
          (click)="deleteSalaryArray()"
        >
          <i class="fa fa-trash" aria-hidden="true">&nbsp;</i>Delete
        </button>
      </div>
      <!-- <div class="col-sm-6">
        <table>
          <tr
            *ngFor="let item of getSalaryArray.controls | paginate : config"
          ></tr>
        </table>
        <pagination-controls
          id="tcsPagination"
          (pageChange)="pageChanged($event)"
        ></pagination-controls>
      </div> -->
      <div class="col-sm-3">
        <button type="submit" class="tbd-btn save-btn mvRth" (click)="save()">
          Save
        </button>
      </div>
    </div>
  </div>
</form>
