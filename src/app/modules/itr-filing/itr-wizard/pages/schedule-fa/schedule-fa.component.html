<form [formGroup]="scheduleFa">
  <div class="mrgArdSpcBlw" style="margin-bottom: 10px">
    <div class="flex justify-between align-items-center">
      <div>
        <div class="txtTitle" style="margin-bottom: 0px">
          <strong> Schedule FA </strong>
        </div>
        <div>
          Details of foreign assets and income from any source outside India -
          Applicable to Resident Assessee only
        </div>
      </div>
    </div>
  </div>

  <div>
    <mat-accordion class="headers-align mrgArd">
      <mat-expansion-panel
        *ngFor="let topic of topicList"
        (expandedChange)="onExpandedChange($event)"
        hideToggle
      >
        <mat-expansion-panel-header class="flex align-items-center">
          <div class="flex justify-between align-items-center">
            <mat-panel-title style="padding: 20px">
              {{ topic.label }}
            </mat-panel-title>
            <mat-icon> arrow_forward_ios </mat-icon>
          </div>
        </mat-expansion-panel-header>
        <!-- Depository Accounts  -->
        <div *ngIf="topic.code === 'A1'">
          <form formArrayName="depositoryAccounts" style="padding: 20px">
            <div class="flex justify-content-end align-items-center">
              <button
                class="flex lgtBtn justify-content-end align-items-center"
                style="height: 100%"
                (click)="addMore('depositoryAccounts')"
              >
                + Add More
              </button>
            </div>
            <div
              *ngFor="
                let depositoryAccounts of getDepositoryAccounts.controls;
                let i = index
              "
              [formGroupName]="i"
            >
              <br />

              <!-- Country Name Input -->
              <div class="flex gap-[25px]" style="margin-bottom: 10px">
                <!-- checkbox -->
                <input
                  class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                  type="checkbox"
                  (click)="$event.stopPropagation()"
                  [checked]="selectedIndexes.includes(i)"
                  (click)="toggleSelectedIndex(i)"
                />

                <!-- Country Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Country Code</mat-label>
                  <mat-select
                    formControlName="countryCode"
                    name="countryCode[i]"
                    required
                  >
                    <mat-option
                      *ngFor="let nature of countryCodeList"
                      [value]="nature"
                      matTooltip="{{ nature }}"
                      [disabled]="nature.disabled"
                    >
                      {{ nature }}
                    </mat-option></mat-select
                  >
                </mat-form-field>

                <!-- Name of Institution Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Name of the financial institution</mat-label>
                  <input
                    matInput
                    name="nameOfInstitution[i]"
                    formControlName="nameOfInstitution"
                    required
                  />
                </mat-form-field>
              </div>

              <div class="flex gap-[25px]" style="margin-bottom: 15px">
                <!-- Address of Institution Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Address of the financial Institution</mat-label>
                  <input
                    matInput
                    name="addressOfInstitution[i]"
                    formControlName="addressOfInstitution"
                    required
                  />
                </mat-form-field>

                <!-- Zip Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Zip Code</mat-label>
                  <input
                    matInput
                    name="zipCode[i]"
                    formControlName="zipCode"
                    required
                  />
                </mat-form-field>
              </div>

              <div class="flex justify-content-end align-items-center">
                <button
                  class="flex lgtBtn justify-content-end align-items-center"
                  style="height: 100%"
                  (click)="add('depositoryAccounts')"
                >
                  + Add
                </button>
              </div>

              <!-- Account Array Input -->
              <div
                formArrayName="account"
                class="surround"
                style="margin-top: 0px"
              >
                <div
                  *ngFor="
                    let accountCtrl of getAccountControls.controls;
                    let j = index
                  "
                  [formGroupName]="j"
                >
                  <div
                    class="flex gap-[25px] align-items-center"
                    style="margin-bottom: 10px"
                  >
                    <input
                      class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                      type="checkbox"
                      (click)="$event.stopPropagation()"
                      [checked]="selectedAccountIndexes.includes(j)"
                      (click)="toggleSelectedAccountIndex(j)"
                    />

                    <!-- Account Number Input -->
                    <mat-form-field appearance="outline">
                      <mat-label>Account Number</mat-label>
                      <input
                        matInput
                        name="accountNumber[j]"
                        formControlName="accountNumber"
                        digitsOnly
                        required
                      />
                    </mat-form-field>

                    <!-- Status Input -->
                    <mat-form-field appearance="outline">
                      <mat-label>Status</mat-label>
                      <mat-select
                        matInput
                        name="status[j]"
                        formControlName="status"
                        required
                      >
                        <mat-option
                          *ngFor="let status of status"
                          [value]="status"
                          matTooltip="{{ status }}"
                        >
                          {{ status }}
                        </mat-option></mat-select
                      >
                    </mat-form-field>

                    <!-- Account Opening Date Input -->
                    <mat-form-field appearance="outline">
                      <mat-label>Account Opening Date</mat-label>
                      <input
                        matInput
                        placeholder="DD/MM/YYYY"
                        name="accountOpeningDate[j]"
                        [matDatepicker]="dateofFilling"
                        autocomplete="off"
                        formControlName="accountOpeningDate"
                        [max]="maxPurchaseDate"
                        required
                      />
                      <mat-datepicker-toggle
                        matSuffix
                        [for]="dateofFilling"
                      ></mat-datepicker-toggle>
                      <mat-datepicker #dateofFilling></mat-datepicker>
                    </mat-form-field>
                  </div>

                  <div class="flex gap-[25px]">
                    <!-- Peak Balance Input -->
                    <mat-form-field appearance="outline">
                      <mat-label>Peak Balance during the period</mat-label>
                      <input
                        matInput
                        name="peakBalance[j]"
                        formControlName="peakBalance"
                        digitsOnly
                        required
                      />
                    </mat-form-field>

                    <!-- Closing Balance Input -->
                    <mat-form-field appearance="outline">
                      <mat-label>Closing Balance</mat-label>
                      <input
                        matInput
                        name="closingBalance[j]"
                        formControlName="closingBalance"
                        digitsOnly
                        required
                      />
                    </mat-form-field>

                    <!-- Gross Interest Paid Input -->
                    <mat-form-field appearance="outline">
                      <mat-label
                        >Gross Interest paid/credited to the account during the
                        period
                      </mat-label>
                      <input
                        matInput
                        name="grossInterestPaid[j]"
                        formControlName="grossInterestPaid"
                        digitsOnly
                        required
                      />
                    </mat-form-field>
                  </div>
                  <br />
                </div>
                <button
                  class="delete-btn"
                  style="width: 15%"
                  (click)="delete('depositoryAccounts', 'account', i)"
                >
                  <i class="fa fa-trash" aria-hidden="true"></i> Delete
                </button>
              </div>
            </div>
            <button
              class="delete-btn"
              style="width: 15%; margin: 10px"
              (click)="delete('depositoryAccounts', 'formArray')"
            >
              <i class="fa fa-trash" aria-hidden="true"></i> Delete All
            </button>
          </form>
        </div>

        <!-- custodial Accounts  -->
        <div *ngIf="topic.code === 'A2'">
          <form formArrayName="custodialAccounts" style="padding: 20px">
            <div class="flex justify-content-end align-items-center">
              <button
                class="flex lgtBtn justify-content-end align-items-center"
                style="height: 100%"
                (click)="addMore('custodialAccounts')"
              >
                + Add More
              </button>
            </div>
            <div
              *ngFor="
                let custodialAccounts of getCustodialAccounts?.controls;
                let i = index
              "
              [formGroupName]="i"
            >
              <br />

              <!-- Country Name Input -->
              <div class="flex gap-[25px]" style="margin-bottom: 10px">
                <!-- checkbox -->
                <input
                  class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                  type="checkbox"
                  (click)="$event.stopPropagation()"
                  [checked]="selectedIndexes.includes(i)"
                  (click)="toggleSelectedIndex(i)"
                />
                <!-- Country Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Country Code</mat-label>
                  <mat-select
                    formControlName="countryCode"
                    name="countryCode[i]"
                    required
                  >
                    <mat-option
                      *ngFor="let nature of countryCodeList"
                      [value]="nature"
                      matTooltip="{{ nature }}"
                      [disabled]="nature.disabled"
                    >
                      {{ nature }}
                    </mat-option></mat-select
                  >
                </mat-form-field>

                <!-- Name of Institution Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Name of financial Institution</mat-label>
                  <input
                    matInput
                    name="nameOfInstitution[i]"
                    formControlName="nameOfInstitution"
                    required
                  />
                </mat-form-field>
              </div>

              <div class="flex gap-[25px]" style="margin-bottom: 15px">
                <!-- Address of Institution Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Address of the financial Institution</mat-label>
                  <input
                    matInput
                    name="addressOfInstitution[i]"
                    formControlName="addressOfInstitution"
                    required
                  />
                </mat-form-field>

                <!-- Zip Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Zip Code</mat-label>
                  <input
                    matInput
                    name="zipCode[i]"
                    formControlName="zipCode"
                    required
                  />
                </mat-form-field>
              </div>

              <div class="flex justify-content-end align-items-center">
                <button
                  class="flex lgtBtn justify-content-end align-items-center"
                  style="height: 100%"
                  (click)="add('custodialAccounts')"
                >
                  + Add
                </button>
              </div>

              <!-- Account Array Input -->
              <div
                formArrayName="account"
                class="surround"
                style="margin-top: 0px"
              >
                <div
                  *ngFor="
                    let accountCtrl of getCustodialAccountControls?.controls;
                    let j = index
                  "
                  [formGroupName]="j"
                >
                  <div
                    class="flex gap-[25px] align-items-center"
                    style="margin-bottom: 10px"
                  >
                    <input
                      class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                      type="checkbox"
                      (click)="$event.stopPropagation()"
                      [checked]="selectedAccountIndexes.includes(j)"
                      (click)="toggleSelectedAccountIndex(j)"
                    />
                    <!-- Account Number Input -->
                    <mat-form-field appearance="outline">
                      <mat-label>Account Number</mat-label>
                      <input
                        matInput
                        name="accountNumber[j]"
                        formControlName="accountNumber"
                        digitsOnly
                        required
                      />
                    </mat-form-field>

                    <!-- Status -->
                    <mat-form-field appearance="outline">
                      <mat-label>Status</mat-label>
                      <mat-select
                        matInput
                        name="status[j]"
                        formControlName="status"
                        required
                      >
                        <mat-option
                          *ngFor="let status of status"
                          [value]="status"
                          matTooltip="{{ status }}"
                        >
                          {{ status }}
                        </mat-option></mat-select
                      >
                    </mat-form-field>

                    <!-- acount opening date -->
                    <mat-form-field appearance="outline">
                      <mat-label>Account Opening Date</mat-label>
                      <input
                        matInput
                        placeholder="DD/MM/YYYY"
                        name="accountOpeningDate[j]"
                        [matDatepicker]="dateofFilling"
                        autocomplete="off"
                        formControlName="accountOpeningDate"
                        [max]="maxPurchaseDate"
                        required
                      />
                      <mat-datepicker-toggle
                        matSuffix
                        [for]="dateofFilling"
                      ></mat-datepicker-toggle>
                      <mat-datepicker #dateofFilling></mat-datepicker>
                    </mat-form-field>

                    <!-- Peak Balance Input -->
                    <mat-form-field appearance="outline">
                      <mat-label>Peak Balance during the period</mat-label>
                      <input
                        matInput
                        name="peakBalance[j]"
                        formControlName="peakBalance"
                        digitsOnly
                        required
                      />
                    </mat-form-field>
                  </div>

                  <div class="flex gap-[25px]">
                    <!-- closing balance -->
                    <mat-form-field appearance="outline">
                      <mat-label>Closing balance</mat-label>
                      <input
                        matInput
                        name="closingBalance[j]"
                        formControlName="closingBalance"
                        digitsOnly
                        required
                      />
                    </mat-form-field>

                    <!-- grossAmountNature -->
                    <mat-form-field appearance="outline">
                      <mat-label>Nature of Amount</mat-label>
                      <mat-select
                        matInput
                        name="grossAmountNature[j]"
                        formControlName="grossAmountNature"
                        required
                      >
                        <mat-option
                          *ngFor="let option of natureOfIncome"
                          [value]="option"
                        >
                          {{ option }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>

                    <!-- grossInterestPaid -->
                    <mat-form-field appearance="outline">
                      <mat-label>Amount</mat-label>
                      <input
                        matInput
                        name="grossInterestPaid[j]"
                        formControlName="grossInterestPaid"
                        digitsOnly
                        required
                      />
                    </mat-form-field>
                  </div>
                  <br />
                </div>
                <button
                  class="delete-btn"
                  style="width: 15%"
                  (click)="delete('custodialAccounts', 'account', i)"
                >
                  <i class="fa fa-trash" aria-hidden="true"></i> Delete
                </button>
              </div>
            </div>
            <button
              class="delete-btn"
              style="width: 15%; margin: 10px"
              (click)="delete('custodialAccounts', 'formArray')"
            >
              <i class="fa fa-trash" aria-hidden="true"></i> Delete All
            </button>
          </form>
        </div>

        <!-- foreign equity debt -->
        <div *ngIf="topic.code === 'A3'">
          <form formArrayName="equityAndDebtInterest" style="padding: 20px">
            <div class="flex justify-content-end align-items-center">
              <button
                class="flex lgtBtn justify-content-end align-items-center"
                style="height: 100%"
                (click)="addMore('equityAndDebtInterest')"
              >
                + Add More
              </button>
            </div>
            <div
              *ngFor="
                let equityAndDebtInterest of getEquityAndDebtInterest.controls;
                let i = index
              "
              [formGroupName]="i"
            >
              <br />

              <!-- Country Name Input -->
              <div class="flex gap-[25px]" style="margin-bottom: 10px">
                <!-- checkbox -->
                <input
                  class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                  type="checkbox"
                  (click)="$event.stopPropagation()"
                  [checked]="selectedIndexes.includes(i)"
                  (click)="toggleSelectedIndex(i)"
                />

                <!-- Country Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Country Code</mat-label>
                  <mat-select
                    formControlName="countryCode"
                    name="countryCode[i]"
                    required
                  >
                    <mat-option
                      *ngFor="let nature of countryCodeList"
                      [value]="nature"
                      matTooltip="{{ nature }}"
                      [disabled]="nature.disabled"
                    >
                      {{ nature }}
                    </mat-option></mat-select
                  >
                </mat-form-field>

                <!-- Name of Institution Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Name of Entity</mat-label>
                  <input
                    matInput
                    name="nameOfEntity[i]"
                    formControlName="nameOfEntity"
                    required
                  />
                </mat-form-field>
              </div>

              <div class="flex gap-[25px]" style="margin-bottom: 15px">
                <!-- Address of Institution Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Address of Entity</mat-label>
                  <input
                    matInput
                    name="addressOfEntity[i]"
                    formControlName="addressOfEntity"
                    required
                  />
                </mat-form-field>

                <!-- Zip Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Zip Code</mat-label>
                  <input
                    matInput
                    name="zipCode[i]"
                    formControlName="zipCode"
                    required
                  />
                </mat-form-field>
              </div>

              <div
                class="flex gap-[25px] align-items-center"
                style="margin-bottom: 10px"
              >
                <!-- Nature of entity -->
                <mat-form-field appearance="outline">
                  <mat-label>Nature of Entity</mat-label>
                  <input
                    matInput
                    name="natureOfEntity[i]"
                    formControlName="natureOfEntity"
                    required
                  />
                </mat-form-field>

                <!-- Date of interest -->
                <mat-form-field appearance="outline">
                  <mat-label>Date of acquiring the interest</mat-label>
                  <input
                    matInput
                    placeholder="DD/MM/YYYY"
                    name="dateOfInterest[i]"
                    [matDatepicker]="dateofFilling"
                    autocomplete="off"
                    formControlName="dateOfInterest"
                    [max]="maxPurchaseDate"
                    required
                  />
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="dateofFilling"
                  ></mat-datepicker-toggle>
                  <mat-datepicker #dateofFilling></mat-datepicker>
                </mat-form-field>

                <!-- Initial Value -->
                <mat-form-field appearance="outline">
                  <mat-label>Initial value of the Investment</mat-label>
                  <input
                    matInput
                    name="initialValue[i]"
                    formControlName="initialValue"
                    digitsOnly
                    required
                  />
                </mat-form-field>
              </div>

              <div class="flex gap-[25px]">
                <!-- Peak Value  -->
                <mat-form-field appearance="outline">
                  <mat-label
                    >Peak value of investment during the Period</mat-label
                  >
                  <input
                    matInput
                    name="peakValue[i]"
                    formControlName="peakValue"
                    digitsOnly
                    required
                  />
                </mat-form-field>

                <!-- Closing Value -->
                <mat-form-field appearance="outline">
                  <mat-label>Closing Value</mat-label>
                  <input
                    matInput
                    name="closingValue[i]"
                    formControlName="closingValue"
                    digitsOnly
                    required
                  />
                </mat-form-field>

                <!-- Gross Amount Paid -->
                <mat-form-field appearance="outline">
                  <mat-label
                    >Total gross amount paid/credited with respect to the
                    holding during the period</mat-label
                  >
                  <input
                    matInput
                    name="totalGrossAmountPaid[i]"
                    formControlName="totalGrossAmountPaid"
                    digitsOnly
                    required
                  />
                </mat-form-field>

                <!-- Gross Amount Paid -->
                <mat-form-field appearance="outline">
                  <mat-label
                    >Total gross proceeds from sale or redemption of investment
                    during the period</mat-label
                  >
                  <input
                    matInput
                    name="totalGrossProceedsFromSale[i]"
                    formControlName="totalGrossProceedsFromSale"
                    digitsOnly
                    required
                  />
                </mat-form-field>
              </div>
            </div>
            <button
              class="delete-btn"
              style="width: 15%; margin: 10px"
              (click)="delete('equityAndDebtInterest', 'formArray')"
            >
              <i class="fa fa-trash" aria-hidden="true"></i> Delete All
            </button>
          </form>
        </div>

        <!-- cash value insurance -->
        <div *ngIf="topic.code === 'A4'">
          <form formArrayName="cashValueInsurance" style="padding: 20px">
            <div class="flex justify-content-end align-items-center">
              <button
                class="flex lgtBtn justify-content-end align-items-center"
                style="height: 100%"
                (click)="addMore('cashValueInsurance')"
              >
                + Add More
              </button>
            </div>
            <div
              *ngFor="
                let CashValueInsurance of getCashValueInsurance.controls;
                let i = index
              "
              [formGroupName]="i"
            >
              <br />

              <!-- Country Name Input -->
              <div class="flex gap-[25px]" style="margin-bottom: 10px">
                <!-- checkbox -->
                <input
                  class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                  type="checkbox"
                  (click)="$event.stopPropagation()"
                  [checked]="selectedIndexes.includes(i)"
                  (click)="toggleSelectedIndex(i)"
                />
                <!-- Country Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Country Code</mat-label>
                  <mat-select
                    formControlName="countryCode"
                    name="countryCode[i]"
                    required
                  >
                    <mat-option
                      *ngFor="let nature of countryCodeList"
                      [value]="nature"
                      matTooltip="{{ nature }}"
                      [disabled]="nature.disabled"
                    >
                      {{ nature }}
                    </mat-option></mat-select
                  >
                </mat-form-field>

                <!-- Name of Institution -->
                <mat-form-field appearance="outline">
                  <mat-label
                    >Name of Financial Institution in which insurance contract
                    held</mat-label
                  >
                  <input
                    matInput
                    name="nameOfInstitution[i]"
                    formControlName="nameOfInstitution"
                    required
                  />
                </mat-form-field>
              </div>

              <div class="flex gap-[25px]" style="margin-bottom: 15px">
                <!-- Address of Institution -->
                <mat-form-field appearance="outline">
                  <mat-label>Address of financial institution</mat-label>
                  <input
                    matInput
                    name="addressOfInstitution[i]"
                    formControlName="addressOfInstitution"
                    required
                  />
                </mat-form-field>

                <!-- Zip Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Zip Code</mat-label>
                  <input matInput name="zipCode[i]" formControlName="zipCode" />
                </mat-form-field>
              </div>

              <div
                class="flex gap-[25px] align-items-center"
                style="margin-bottom: 10px"
              >
                <!-- Date of contract -->
                <mat-form-field appearance="outline">
                  <mat-label>Date of contract</mat-label>
                  <input
                    matInput
                    placeholder="DD/MM/YYYY"
                    name="dateOfContract[i]"
                    [matDatepicker]="dateofFilling"
                    autocomplete="off"
                    formControlName="dateOfContract"
                    [max]="maxPurchaseDate"
                    required
                  />
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="dateofFilling"
                  ></mat-datepicker-toggle>
                  <mat-datepicker #dateofFilling></mat-datepicker>
                </mat-form-field>

                <!-- cash Value -->
                <mat-form-field appearance="outline">
                  <mat-label
                    >The Cash / Surrender value of the contract</mat-label
                  >
                  <input
                    matInput
                    name="cashValue[i]"
                    formControlName="cashValue"
                    digitsOnly
                    required
                  />
                </mat-form-field>

                <!-- Gross Amount Paid -->
                <mat-form-field appearance="outline">
                  <mat-label
                    >Total gross amount paid/credited with respect to the
                    contract during the period</mat-label
                  >
                  <input
                    matInput
                    name="totalGrossAmountPaid[i]"
                    formControlName="totalGrossAmountPaid"
                    digitsOnly
                    required
                  />
                </mat-form-field>
              </div>
            </div>
            <button
              class="delete-btn"
              style="width: 15%; margin: 10px"
              (click)="delete('cashValueInsurance', 'formArray')"
            >
              <i class="fa fa-trash" aria-hidden="true"></i> Delete All
            </button>
          </form>
        </div>

        <!-- financial interest in any entity -->
        <div *ngIf="topic.code === 'B'">
          <form formArrayName="financialInterestDetails" style="padding: 20px">
            <div class="flex justify-content-end align-items-center">
              <button
                class="flex lgtBtn justify-content-end align-items-center"
                style="height: 100%"
                (click)="addMore('financialInterestDetails')"
              >
                + Add More
              </button>
            </div>
            <div
              *ngFor="
                let financialInterestDetails of getFinancialInterestDetails.controls;
                let i = index
              "
              [formGroupName]="i"
            >
              <br />

              <!-- Country Name Input -->
              <div class="flex gap-[25px]" style="margin-bottom: 10px">
                <!-- checkbox -->
                <input
                  class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                  type="checkbox"
                  (click)="$event.stopPropagation()"
                  [checked]="selectedIndexes.includes(i)"
                  (click)="toggleSelectedIndex(i)"
                />
                <!-- Country Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Country Code</mat-label>
                  <mat-select
                    formControlName="countryCode"
                    name="countryCode[i]"
                    required
                  >
                    <mat-option
                      *ngFor="let nature of countryCodeList"
                      [value]="nature"
                      matTooltip="{{ nature }}"
                      [disabled]="nature.disabled"
                    >
                      {{ nature }}
                    </mat-option></mat-select
                  >
                </mat-form-field>

                <!-- Name of Entity -->
                <mat-form-field appearance="outline">
                  <mat-label>Name of entity</mat-label>
                  <input
                    matInput
                    name="nameOfEntity[i]"
                    formControlName="nameOfEntity"
                    required
                  />
                </mat-form-field>
              </div>

              <div class="flex gap-[25px]" style="margin-bottom: 15px">
                <!-- Nature of Entity -->
                <mat-form-field appearance="outline">
                  <mat-label>Nature of entity</mat-label>
                  <input
                    matInput
                    name="natureOfEntity[i]"
                    formControlName="natureOfEntity"
                    required
                  />
                </mat-form-field>

                <!-- Address of Institution -->
                <mat-form-field appearance="outline">
                  <mat-label>Address of Entity</mat-label>
                  <input
                    matInput
                    name="address[i]"
                    formControlName="address"
                    required
                  />
                </mat-form-field>

                <!-- Zip Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Zip Code</mat-label>
                  <input
                    matInput
                    name="zipCode[i]"
                    formControlName="zipCode"
                    required
                  />
                </mat-form-field>
              </div>

              <div
                class="flex gap-[25px] align-items-center"
                style="margin-bottom: 10px"
              >
                <!-- nature of Interest -->
                <mat-form-field appearance="outline">
                  <mat-label>Nature of interest</mat-label>
                  <input
                    matInput
                    name="natureOfInterest[i]"
                    formControlName="natureOfInterest"
                    required
                  />
                </mat-form-field>

                <!-- Date of contract -->
                <mat-form-field appearance="outline">
                  <mat-label>Date since held</mat-label>
                  <input
                    matInput
                    placeholder="DD/MM/YYYY"
                    name="date[i]"
                    [matDatepicker]="dateofFilling"
                    autocomplete="off"
                    formControlName="date"
                    [max]="maxPurchaseDate"
                    required
                  />
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="dateofFilling"
                  ></mat-datepicker-toggle>
                  <mat-datepicker #dateofFilling></mat-datepicker>
                </mat-form-field>

                <!-- total Investments -->
                <mat-form-field appearance="outline">
                  <mat-label>Total Investment (at cost)*</mat-label>
                  <input
                    matInput
                    name="totalInvestments[i]"
                    formControlName="totalInvestments"
                    digitsOnly
                    required
                  />
                </mat-form-field>

                <!-- accrued Income -->
                <mat-form-field appearance="outline">
                  <mat-label>Income Accrued from such interest</mat-label>
                  <input
                    matInput
                    name="accruedIncome[i]"
                    formControlName="accruedIncome"
                    digitsOnly
                    required
                  />
                </mat-form-field>
              </div>

              <div class="flex gap-[25px]">
                <!-- nature of Income -->
                <mat-form-field appearance="outline">
                  <mat-label>Nature of income</mat-label>
                  <input
                    matInput
                    name="natureOfIncome[i]"
                    formControlName="natureOfIncome"
                    required
                  />
                </mat-form-field>

                <!-- Amount -->
                <mat-form-field appearance="outline">
                  <mat-label>Amount</mat-label>
                  <input
                    matInput
                    name="amount[i]"
                    formControlName="amount"
                    digitsOnly
                    required
                  />
                </mat-form-field>

                <!-- schedule Offerd -->
                <mat-form-field appearance="outline">
                  <mat-label>Schedule where offered</mat-label>
                  <mat-select
                    matInput
                    name="scheduleOfferd[i]"
                    formControlName="scheduleOfferd"
                    required
                  >
                    <mat-option
                      *ngFor="let option of scheduleWhereOffered"
                      [value]="option"
                    >
                      {{ option }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <!-- number of schedule -->
                <mat-form-field appearance="outline">
                  <mat-label>Item number of schedule</mat-label>
                  <input
                    matInput
                    name="numberOfSchedule[i]"
                    formControlName="numberOfSchedule"
                    required
                  />
                </mat-form-field>
              </div>
            </div>
            <button
              class="delete-btn"
              style="width: 15%; margin: 10px"
              (click)="delete('financialInterestDetails', 'formArray')"
            >
              <i class="fa fa-trash" aria-hidden="true"></i> Delete All
            </button>
          </form>
        </div>

        <!-- financial interest in any entity -->
        <div *ngIf="topic.code === 'C'">
          <form formArrayName="immovablePropertryDetails" style="padding: 20px">
            <div class="flex justify-content-end align-items-center">
              <button
                class="flex lgtBtn justify-content-end align-items-center"
                style="height: 100%"
                (click)="addMore('immovablePropertryDetails')"
              >
                + Add More
              </button>
            </div>
            <div
              *ngFor="
                let immovablePropertryDetails of getImmovablePropertryDetails.controls;
                let i = index
              "
              [formGroupName]="i"
            >
              <br />

              <!-- Country Name Input -->
              <div class="flex gap-[25px]" style="margin-bottom: 10px">
                <!-- checkbox -->
                <input
                  class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                  type="checkbox"
                  (click)="$event.stopPropagation()"
                  [checked]="selectedIndexes.includes(i)"
                  (click)="toggleSelectedIndex(i)"
                />
                <!-- Country Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Country Code</mat-label>
                  <mat-select
                    formControlName="countryCode"
                    name="countryCode[i]"
                    required
                  >
                    <mat-option
                      *ngFor="let nature of countryCodeList"
                      [value]="nature"
                      matTooltip="{{ nature }}"
                      [disabled]="nature.disabled"
                    >
                      {{ nature }}
                    </mat-option></mat-select
                  >
                </mat-form-field>

                <!-- Ownership -->
                <mat-form-field appearance="outline">
                  <mat-label>Ownership</mat-label>
                  <mat-select
                    matInput
                    name="ownerShip[i]"
                    formControlName="ownerShip"
                    required
                  >
                    <mat-option
                      *ngFor="let option of natureOfInterestOwnership"
                      [value]="option"
                    >
                      {{ option }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>

              <div class="flex gap-[25px]" style="margin-bottom: 15px">
                <!-- Address of Institution -->
                <mat-form-field appearance="outline">
                  <mat-label>Address of Entity</mat-label>
                  <input
                    matInput
                    name="address[i]"
                    formControlName="address"
                    required
                  />
                </mat-form-field>

                <!-- Zip Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Zip Code</mat-label>
                  <input
                    matInput
                    name="zipCode[i]"
                    formControlName="zipCode"
                    required
                  />
                </mat-form-field>

                <!-- Date of acquisition -->
                <mat-form-field appearance="outline">
                  <mat-label>Date of acquisition</mat-label>
                  <input
                    matInput
                    placeholder="DD/MM/YYYY"
                    name="date[i]"
                    [matDatepicker]="dateofFilling"
                    autocomplete="off"
                    formControlName="date"
                    [max]="maxPurchaseDate"
                    required
                  />
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="dateofFilling"
                  ></mat-datepicker-toggle>
                  <mat-datepicker #dateofFilling></mat-datepicker>
                </mat-form-field>
              </div>

              <div
                class="flex gap-[25px] align-items-center"
                style="margin-bottom: 10px"
              >
                <!-- total Investments -->
                <mat-form-field appearance="outline">
                  <mat-label>Total Investment (at cost)</mat-label>
                  <input
                    matInput
                    name="totalInvestments[i]"
                    formControlName="totalInvestments"
                    digitsOnly
                    required
                  />
                </mat-form-field>

                <!-- nature of Interest -->
                <mat-form-field appearance="outline">
                  <mat-label>Income dervied from property</mat-label>
                  <input
                    matInput
                    name="derivedIncome[i]"
                    formControlName="derivedIncome"
                    required
                  />
                </mat-form-field>

                <!-- nature of Income -->
                <mat-form-field appearance="outline">
                  <mat-label>Nature of income</mat-label>
                  <input
                    matInput
                    name="natureOfIncome[i]"
                    formControlName="natureOfIncome"
                    required
                  />
                </mat-form-field>
              </div>

              <div class="flex gap-[25px]">
                <!-- Amount -->
                <mat-form-field appearance="outline">
                  <mat-label>Amount</mat-label>
                  <input
                    matInput
                    name="amount[i]"
                    formControlName="amount"
                    digitsOnly
                    required
                  />
                </mat-form-field>

                <!-- schedule Offerd -->
                <mat-form-field appearance="outline">
                  <mat-label>Schedule where offered</mat-label>
                  <mat-select
                    matInput
                    name="scheduleOfferd[i]"
                    formControlName="scheduleOfferd"
                    required
                  >
                    <mat-option
                      *ngFor="let option of scheduleWhereOffered"
                      [value]="option"
                    >
                      {{ option }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <!-- number of schedule -->
                <mat-form-field appearance="outline">
                  <mat-label>Item number of schedule</mat-label>
                  <input
                    matInput
                    name="numberOfSchedule[i]"
                    formControlName="numberOfSchedule"
                    required
                  />
                </mat-form-field>
              </div>
            </div>
            <button
              class="delete-btn"
              style="width: 15%; margin: 10px"
              (click)="delete('immovablePropertryDetails', 'formArray')"
            >
              <i class="fa fa-trash" aria-hidden="true"></i> Delete All
            </button>
          </form>
        </div>

        <!-- Capital assets details -->
        <div *ngIf="topic.code === 'D'">
          <form formArrayName="capitalAssetsDetails" style="padding: 20px">
            <div class="flex justify-content-end align-items-center">
              <button
                class="flex lgtBtn justify-content-end align-items-center"
                style="height: 100%"
                (click)="addMore('capitalAssetsDetails')"
              >
                + Add More
              </button>
            </div>
            <div
              *ngFor="
                let capitalAssetsDetails of getCapitalAssetsDetails.controls;
                let i = index
              "
              [formGroupName]="i"
            >
              <br />

              <!-- Country Name Input -->
              <div class="flex gap-[25px]" style="margin-bottom: 10px">
                <!-- checkbox -->
                <input
                  class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                  type="checkbox"
                  (click)="$event.stopPropagation()"
                  [checked]="selectedIndexes.includes(i)"
                  (click)="toggleSelectedIndex(i)"
                />
                <!-- Country Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Country Code</mat-label>
                  <mat-select
                    formControlName="countryCode"
                    name="countryCode[i]"
                    required
                  >
                    <mat-option
                      *ngFor="let nature of countryCodeList"
                      [value]="nature"
                      matTooltip="{{ nature }}"
                      [disabled]="nature.disabled"
                    >
                      {{ nature }}
                    </mat-option></mat-select
                  >
                </mat-form-field>

                <!-- Ownership -->
                <mat-form-field appearance="outline">
                  <mat-label>Ownership</mat-label>
                  <mat-select
                    matInput
                    name="ownerShip[i]"
                    formControlName="ownerShip"
                    required
                  >
                    <mat-option
                      *ngFor="let option of natureOfInterestOwnership"
                      [value]="option"
                    >
                      {{ option }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>

              <div class="flex gap-[25px]" style="margin-bottom: 15px">
                <!-- Zip Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Zip Code</mat-label>
                  <input
                    matInput
                    name="zipCode[i]"
                    formControlName="zipCode"
                    required
                  />
                </mat-form-field>

                <!-- nature of interest -->
                <mat-form-field appearance="outline">
                  <mat-label>Nature of assets</mat-label>
                  <input
                    matInput
                    name="natureOfAsstes[i]"
                    formControlName="natureOfAsstes"
                    required
                  />
                </mat-form-field>

                <!-- Date of contract -->
                <mat-form-field appearance="outline">
                  <mat-label>Date of acquisition</mat-label>
                  <input
                    matInput
                    placeholder="DD/MM/YYYY"
                    name="date[i]"
                    [matDatepicker]="dateofFilling"
                    autocomplete="off"
                    formControlName="date"
                    [max]="maxPurchaseDate"
                    required
                  />
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="dateofFilling"
                  ></mat-datepicker-toggle>
                  <mat-datepicker #dateofFilling></mat-datepicker>
                </mat-form-field>
              </div>

              <div
                class="flex gap-[25px] align-items-center"
                style="margin-bottom: 10px"
              >
                <!-- total Investments -->
                <mat-form-field appearance="outline">
                  <mat-label>Total Investment (at cost)</mat-label>
                  <input
                    matInput
                    name="totalInvestments[i]"
                    formControlName="totalInvestments"
                    digitsOnly
                    required
                  />
                </mat-form-field>

                <!-- derived income -->
                <mat-form-field appearance="outline">
                  <mat-label>Income derived from the asset</mat-label>
                  <input
                    matInput
                    name="derivedIncome[i]"
                    formControlName="derivedIncome"
                    digitsOnly
                    required
                  />
                </mat-form-field>

                <!-- nature of Income -->
                <mat-form-field appearance="outline">
                  <mat-label>Nature of income</mat-label>
                  <input
                    matInput
                    name="natureOfIncome[i]"
                    formControlName="natureOfIncome"
                    required
                  />
                </mat-form-field>
              </div>

              <div class="flex gap-[25px]">
                <!-- Amount -->
                <mat-form-field appearance="outline">
                  <mat-label>Amount</mat-label>
                  <input
                    matInput
                    name="amount[i]"
                    formControlName="amount"
                    digitsOnly
                    required
                  />
                </mat-form-field>

                <!-- schedule Offerd -->
                <mat-form-field appearance="outline">
                  <mat-label>Schedule where offered</mat-label>
                  <mat-select
                    matInput
                    name="scheduleOfferd[i]"
                    formControlName="scheduleOfferd"
                    required
                  >
                    <mat-option
                      *ngFor="let option of scheduleWhereOffered"
                      [value]="option"
                    >
                      {{ option }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <!-- number of schedule -->
                <mat-form-field appearance="outline">
                  <mat-label>Item number of schedule</mat-label>
                  <input
                    matInput
                    name="numberOfSchedule[i]"
                    formControlName="numberOfSchedule"
                    required
                  />
                </mat-form-field>
              </div>
            </div>
            <button
              class="delete-btn"
              style="width: 15%; margin: 10px"
              (click)="delete('capitalAssetsDetails', 'formArray')"
            >
              <i class="fa fa-trash" aria-hidden="true"></i> Delete All
            </button>
          </form>
        </div>

        <!-- signing Authority Accounts  -->
        <div *ngIf="topic.code === 'E'">
          <form formArrayName="signingAuthorityDetails" style="padding: 20px">
            <div class="flex justify-content-end align-items-center">
              <button
                class="flex lgtBtn justify-content-end align-items-center"
                style="height: 100%"
                (click)="addMore('signingAuthorityDetails')"
              >
                + Add More
              </button>
            </div>
            <div
              *ngFor="
                let signingAuthorityDetails of getSigningAuthorityDetails?.controls;
                let i = index
              "
              [formGroupName]="i"
            >
              <br />

              <!-- Country Name Input -->
              <div class="flex gap-[25px]" style="margin-bottom: 10px">
                <!-- checkbox -->
                <input
                  class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                  type="checkbox"
                  (click)="$event.stopPropagation()"
                  [checked]="selectedIndexes.includes(i)"
                  (click)="toggleSelectedIndex(i)"
                />
                <!-- Country Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Country Code</mat-label>
                  <mat-select
                    formControlName="countryCode"
                    name="countryCode[i]"
                    required
                  >
                    <mat-option
                      *ngFor="let nature of countryCodeList"
                      [value]="nature"
                      matTooltip="{{ nature }}"
                      [disabled]="nature.disabled"
                    >
                      {{ nature }}
                    </mat-option></mat-select
                  >
                </mat-form-field>

                <!-- Name of Institution Input -->
                <mat-form-field appearance="outline">
                  <mat-label
                    >Name of the Institution in which the account is
                    held</mat-label
                  >
                  <input
                    matInput
                    name="institutionName[i]"
                    formControlName="institutionName"
                    required
                  />
                </mat-form-field>
              </div>

              <div class="flex gap-[25px]" style="margin-bottom: 15px">
                <!-- Address of Institution Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Address of the Institution</mat-label>
                  <input
                    matInput
                    name="address[i]"
                    formControlName="address"
                    required
                  />
                </mat-form-field>

                <!-- Zip Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Zip Code</mat-label>
                  <input
                    matInput
                    name="zipCode[i]"
                    formControlName="zipCode"
                    required
                  />
                </mat-form-field>
              </div>

              <div class="flex justify-content-end align-items-center">
                <button
                  class="flex lgtBtn justify-content-end align-items-center"
                  style="height: 100%"
                  (click)="add('signingAuthorityDetails')"
                >
                  + Add
                </button>
              </div>

              <!-- Account Array Input -->
              <div
                formArrayName="account"
                class="surround"
                style="margin-top: 0px"
              >
                <div
                  *ngFor="
                    let accountCtrl of getSigningAuthAccountControls?.controls;
                    let j = index
                  "
                  [formGroupName]="j"
                >
                  <div
                    class="flex gap-[25px] align-items-center"
                    style="margin-bottom: 10px"
                  >
                    <input
                      class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                      type="checkbox"
                      (click)="$event.stopPropagation()"
                      [checked]="selectedAccountIndexes.includes(j)"
                      (click)="toggleSelectedAccountIndex(j)"
                    />
                    <!-- Account holder name -->
                    <mat-form-field appearance="outline">
                      <mat-label>Name of the account holder</mat-label>
                      <input
                        matInput
                        name="accountHolderName[j]"
                        formControlName="accountHolderName"
                        required
                      />
                    </mat-form-field>

                    <!-- Account Number Input -->
                    <mat-form-field appearance="outline">
                      <mat-label>Account Number</mat-label>
                      <input
                        matInput
                        name="accountNumber[j]"
                        formControlName="accountNumber"
                        digitsOnly
                        required
                      />
                    </mat-form-field>

                    <!-- Peak Balance Input -->
                    <mat-form-field appearance="outline">
                      <mat-label>Peak Balance during the year</mat-label>
                      <input
                        matInput
                        name="peakBalance[j]"
                        formControlName="peakBalance"
                        digitsOnly
                        required
                      />
                    </mat-form-field>
                  </div>

                  <div class="flex gap-[25px]">
                    <!-- isTaxableinYourHand -->
                    <mat-label
                      >Whether income accrued is taxable in your hands? *
                    </mat-label>
                    <mat-radio-group
                      name="isTaxableinYourHand[j]"
                      formControlName="isTaxableinYourHand"
                      required
                      (change)="handleSelectionChange($event.value)"
                    >
                      <mat-radio-button value="Y" style="margin-right: 10px"
                        >Yes</mat-radio-button
                      >
                      <mat-radio-button value="N">No</mat-radio-button>
                    </mat-radio-group>
                  </div>
                  <br />
                  <div
                    *ngIf="
                      accountCtrl?.get('isTaxableinYourHand')?.value === 'Y'
                    "
                  >
                    <div class="flex gap-[25px]">
                      <!-- accruedIncome -->
                      <mat-form-field appearance="outline">
                        <mat-label>Income accrued in the account * </mat-label>
                        <input
                          matInput
                          name="accruedIncome[j]"
                          formControlName="accruedIncome"
                          digitsOnly
                          required
                        />
                      </mat-form-field>

                      <!-- amount -->
                      <mat-form-field appearance="outline">
                        <mat-label>Amount </mat-label>
                        <input
                          matInput
                          name="amount[j]"
                          formControlName="amount"
                          digitsOnly
                          required
                        />
                      </mat-form-field>
                    </div>

                    <div class="flex gap-[25px]">
                      <!-- schedule Offerd -->
                      <mat-form-field appearance="outline">
                        <mat-label>Schedule where offered</mat-label>
                        <mat-select
                          matInput
                          name="scheduleOfferd[j]"
                          formControlName="scheduleOfferd"
                          required
                        >
                          <mat-option
                            *ngFor="let option of scheduleWhereOffered"
                            [value]="option"
                          >
                            {{ option }}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>

                      <!-- numberOfSchedule -->
                      <mat-form-field appearance="outline">
                        <mat-label>Item number of Schedule </mat-label>
                        <input
                          matInput
                          name="numberOfSchedule[j]"
                          formControlName="numberOfSchedule"
                          required
                        />
                      </mat-form-field>
                    </div>
                  </div>
                  <br />
                </div>
                <button
                  class="delete-btn"
                  style="width: 15%"
                  (click)="delete('signingAuthorityDetails', 'account', i)"
                >
                  <i class="fa fa-trash" aria-hidden="true"></i> Delete
                </button>
              </div>
            </div>
            <button
              class="delete-btn"
              style="width: 15%; margin: 10px"
              (click)="delete('signingAuthorityDetails', 'formArray')"
            >
              <i class="fa fa-trash" aria-hidden="true"></i> Delete All
            </button>
          </form>
        </div>

        <!-- trusts details -->
        <div *ngIf="topic.code === 'F'">
          <form formArrayName="trustsDetails" style="padding: 20px">
            <div class="flex justify-content-end align-items-center">
              <button
                class="flex lgtBtn justify-content-end align-items-center"
                style="height: 100%"
                (click)="addMore('trustsDetails')"
              >
                + Add More
              </button>
            </div>
            <div
              *ngFor="
                let trustsDetails of getTrustsDetails.controls;
                let i = index
              "
              [formGroupName]="i"
            >
              <br />

              <!-- Country Name Input -->
              <div class="flex gap-[25px]" style="margin-bottom: 10px">
                <!-- checkbox -->
                <input
                  class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                  type="checkbox"
                  (click)="$event.stopPropagation()"
                  [checked]="selectedIndexes.includes(i)"
                  (click)="toggleSelectedIndex(i)"
                />
                <!-- Country Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Country Code</mat-label>
                  <mat-select
                    formControlName="countryCode"
                    name="countryCode[i]"
                    required
                  >
                    <mat-option
                      *ngFor="let nature of countryCodeList"
                      [value]="nature"
                      matTooltip="{{ nature }}"
                      [disabled]="nature.disabled"
                    >
                      {{ nature }}
                    </mat-option></mat-select
                  >
                </mat-form-field>

                <!-- Zip Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Zip Code</mat-label>
                  <input
                    matInput
                    name="zipCode[i]"
                    formControlName="zipCode"
                    required
                  />
                </mat-form-field>
              </div>

              <div class="flex gap-[25px]" style="margin-bottom: 15px">
                <!-- trust Name -->
                <mat-form-field appearance="outline">
                  <mat-label>Name of the trust</mat-label>
                  <input
                    matInput
                    name="trustName[i]"
                    formControlName="trustName"
                    required
                  />
                </mat-form-field>

                <!-- trust address -->
                <mat-form-field appearance="outline">
                  <mat-label>Address of the trust</mat-label>
                  <input
                    matInput
                    name="trustAddress[i]"
                    formControlName="trustAddress"
                    required
                  />
                </mat-form-field>

                <!-- trustee Name -->
                <mat-form-field appearance="outline">
                  <mat-label>Name of the trustee</mat-label>
                  <input
                    matInput
                    name="trusteesName[i]"
                    formControlName="trusteesName"
                    required
                  />
                </mat-form-field>
              </div>

              <div
                class="flex gap-[25px] align-items-center"
                style="margin-bottom: 10px"
              >
                <!-- trustees Address -->
                <mat-form-field appearance="outline">
                  <mat-label>Address of the trustee </mat-label>
                  <input
                    matInput
                    name="trusteesAddress[i]"
                    formControlName="trusteesAddress"
                    required
                  />
                </mat-form-field>

                <!-- settlor Name -->
                <mat-form-field appearance="outline">
                  <mat-label>Name of the settlor</mat-label>
                  <input
                    matInput
                    name="settlorName[i]"
                    formControlName="settlorName"
                    required
                  />
                </mat-form-field>

                <!-- settlor Address -->
                <mat-form-field appearance="outline">
                  <mat-label>Address of the settlor</mat-label>
                  <input
                    matInput
                    name="settlorAddress[i]"
                    formControlName="settlorAddress"
                    required
                  />
                </mat-form-field>
              </div>

              <div
                class="flex gap-[25px] align-items-center"
                style="margin-bottom: 10px"
              >
                <!-- beneficiariesName -->
                <mat-form-field appearance="outline">
                  <mat-label>Name of the beneficiaries</mat-label>
                  <input
                    matInput
                    name="beneficiariesName[i]"
                    formControlName="beneficiariesName"
                    required
                  />
                </mat-form-field>

                <!-- beneficiariesAddress -->
                <mat-form-field appearance="outline">
                  <mat-label>Address of the beneficiaries</mat-label>
                  <input
                    matInput
                    name="beneficiariesAddress[i]"
                    formControlName="beneficiariesAddress"
                    required
                  />
                </mat-form-field>

                <!-- date -->
                <mat-form-field appearance="outline">
                  <mat-label>Date since position held</mat-label>
                  <input
                    matInput
                    placeholder="DD/MM/YYYY"
                    name="date[i]"
                    [matDatepicker]="dateofFilling"
                    autocomplete="off"
                    formControlName="date"
                    [max]="maxPurchaseDate"
                    required
                  />
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="dateofFilling"
                  ></mat-datepicker-toggle>
                  <mat-datepicker #dateofFilling></mat-datepicker>
                </mat-form-field>
              </div>

              <!-- isTaxableinYourHand -->
              <div class="flex gap-[25px]">
                <!-- isTaxableinYourHand -->
                <mat-label
                  >Whether income accrued is taxable in your hands? *
                </mat-label>
                <mat-radio-group
                  name="isTaxableinYourHand[i]"
                  formControlName="isTaxableinYourHand"
                  required
                  (change)="handleSelectionChange($event.value)"
                >
                  <mat-radio-button value="Y" style="margin-right: 10px"
                    >Yes</mat-radio-button
                  >
                  <mat-radio-button value="N">No</mat-radio-button>
                </mat-radio-group>
              </div>
              <br />

              <div
                class="flex gap-[25px] align-items-center"
                style="margin-bottom: 10px"
                *ngIf="trustsDetails?.get('isTaxableinYourHand')?.value === 'Y'"
              >
                <!-- derivedIncome -->
                <mat-form-field appearance="outline">
                  <mat-label>Income derived in the account</mat-label>
                  <input
                    matInput
                    name="derivedIncome[i]"
                    formControlName="derivedIncome"
                    digitsOnly
                    required
                  />
                </mat-form-field>

                <!-- amount -->
                <mat-form-field appearance="outline">
                  <mat-label>Amount</mat-label>
                  <input
                    matInput
                    name="amount[i]"
                    formControlName="amount"
                    digitsOnly
                    required
                  />
                </mat-form-field>

                <!-- schedule Offerd -->
                <mat-form-field appearance="outline">
                  <mat-label>Schedule where offered</mat-label>
                  <mat-select
                    matInput
                    name="scheduleOfferd[i]"
                    formControlName="scheduleOfferd"
                    required
                  >
                    <mat-option
                      *ngFor="let option of scheduleWhereOffered"
                      [value]="option"
                    >
                      {{ option }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <!-- numberOfSchedule -->
                <mat-form-field appearance="outline">
                  <mat-label>Item number of Schedule</mat-label>
                  <input
                    matInput
                    name="numberOfSchedule[i]"
                    formControlName="numberOfSchedule"
                    required
                  />
                </mat-form-field>
              </div>
            </div>
            <button
              class="delete-btn"
              style="width: 15%; margin: 10px"
              (click)="delete('trustsDetails', 'formArray')"
            >
              <i class="fa fa-trash" aria-hidden="true"></i> Delete All
            </button>
          </form>
        </div>

        <!-- otherIncomeDetails -->
        <div *ngIf="topic.code === 'G'">
          <form formArrayName="otherIncomeDetails" style="padding: 20px">
            <div class="flex justify-content-end align-items-center">
              <button
                class="flex lgtBtn justify-content-end align-items-center"
                style="height: 100%"
                (click)="addMore('otherIncomeDetails')"
              >
                + Add More
              </button>
            </div>
            <div
              *ngFor="
                let otherIncomeDetails of getOtherIncomeDetails.controls;
                let i = index
              "
              [formGroupName]="i"
            >
              <br />

              <!-- Country Name Input -->
              <div class="flex gap-[25px]" style="margin-bottom: 10px">
                <!-- checkbox -->
                <input
                  class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                  type="checkbox"
                  (click)="$event.stopPropagation()"
                  [checked]="selectedIndexes.includes(i)"
                  (click)="toggleSelectedIndex(i)"
                />

                <!-- Country Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Country Code</mat-label>
                  <mat-select
                    formControlName="countryCode"
                    name="countryCode[i]"
                    required
                  >
                    <mat-option
                      *ngFor="let nature of countryCodeList"
                      [value]="nature"
                      matTooltip="{{ nature }}"
                      [disabled]="nature.disabled"
                    >
                      {{ nature }}
                    </mat-option></mat-select
                  >
                </mat-form-field>

                <!-- Zip Code Input -->
                <mat-form-field appearance="outline">
                  <mat-label>Zip Code</mat-label>
                  <input
                    matInput
                    name="zipCode[i]"
                    formControlName="zipCode"
                    required
                  />
                </mat-form-field>
              </div>

              <div class="flex gap-[25px]" style="margin-bottom: 15px">
                <!-- Name -->
                <mat-form-field appearance="outline">
                  <mat-label>Name of the person from whom derived</mat-label>
                  <input
                    matInput
                    name="name[i]"
                    formControlName="name"
                    required
                  />
                </mat-form-field>

                <!-- address -->
                <mat-form-field appearance="outline">
                  <mat-label>Address of the person from whom derived</mat-label>
                  <input
                    matInput
                    name="address[i]"
                    formControlName="address"
                    required
                  />
                </mat-form-field>

                <!-- nature of income -->
                <mat-form-field appearance="outline">
                  <mat-label>Nature of income</mat-label>
                  <input
                    matInput
                    name="natureOfIncome[i]"
                    formControlName="natureOfIncome"
                    required
                  />
                </mat-form-field>

                <!-- derivedIncome -->
                <mat-form-field appearance="outline">
                  <mat-label>Income derived</mat-label>
                  <input
                    matInput
                    name="derivedIncome[i]"
                    formControlName="derivedIncome"
                    digitsOnly
                    required
                  />
                </mat-form-field>
              </div>

              <!-- isTaxableinYourHand -->
              <div class="flex gap-[25px]">
                <!-- isTaxableinYourHand -->
                <mat-label
                  >Whether income accrued is taxable in your hands? *
                </mat-label>
                <mat-radio-group
                  name="isTaxableinYourHand[i]"
                  formControlName="isTaxableinYourHand"
                  required
                  (change)="handleSelectionChange($event.value)"
                >
                  <mat-radio-button value="Y" style="margin-right: 10px"
                    >Yes</mat-radio-button
                  >
                  <mat-radio-button value="N">No</mat-radio-button>
                </mat-radio-group>
              </div>
              <br />

              <div
                class="flex gap-[25px] align-items-center"
                style="margin-bottom: 10px"
                *ngIf="
                  otherIncomeDetails?.get('isTaxableinYourHand')?.value === 'Y'
                "
              >
                <!-- amount -->
                <mat-form-field appearance="outline">
                  <mat-label>Amount</mat-label>
                  <input
                    matInput
                    name="amount[i]"
                    formControlName="amount"
                    digitsOnly
                    required
                  />
                </mat-form-field>

                <!-- schedule Offerd -->
                <mat-form-field appearance="outline">
                  <mat-label>Schedule where offered</mat-label>
                  <mat-select
                    matInput
                    name="scheduleOfferd[i]"
                    formControlName="scheduleOfferd"
                    required
                  >
                    <mat-option
                      *ngFor="let option of scheduleWhereOffered"
                      [value]="option"
                    >
                      {{ option }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <!-- numberOfSchedule -->
                <mat-form-field appearance="outline">
                  <mat-label>Item number of Schedule</mat-label>
                  <input
                    matInput
                    name="numberOfSchedule[i]"
                    formControlName="numberOfSchedule"
                    required
                  />
                </mat-form-field>
              </div>
            </div>
            <button
              class="delete-btn"
              style="width: 15%; margin: 10px"
              (click)="delete('otherIncomeDetails', 'formArray')"
            >
              <i class="fa fa-trash" aria-hidden="true"></i> Delete All
            </button>
          </form>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
  </div>

  <div class="flex justify-between p-[30px] back-foot">
    <button class="lgtBtn" (click)="goBack()">
      <mat-icon class="icoAdj">keyboard_backspace</mat-icon>
      <span class="font-semibold">&nbsp;Back to More Info List</span>
    </button>

    <button class="saveBtnIn" (click)="saveAll()">
      <span class="font-semibold">Save All</span>
    </button>
  </div>
</form>
