<form [formGroup]="scheduleFa">
  <div class="frameC">
    <h1 class="heading__title">Schedule FA</h1>
    <div class="space">
      <span class="normal_text">Details of foreign assets and income from any source outside India -
        Applicable to Resident Assessee only</span>

      <div class="frame-wrapper-2A">
        <div class="accordion" id="myAccordion">
          <div *ngFor="let topic of topicList">
            <!-- Depository Accounts  -->
            <div class="accordion-item" *ngIf="topic.code === 'A1'">
              <h2 class="accordion-header" id="heading1">
                <button type="button" class="accordion-button" data-bs-toggle="collapse" data-bs-target="#collapse1">
                  {{ topic.label }}
                </button>
              </h2>
              <div id="collapse1" class="accordion-collapse collapse show">
                <form formArrayName="depositoryAccounts" style="padding: 20px">
                  <div class="accordion__item-body" *ngIf="topic.code === 'A1'">

                    <div class="col-sm-12">
                      <button class="btn btn__default btn__add pull-right btnRght"
                        (click)="addMore('depositoryAccounts')">
                        Add More
                      </button>
                    </div>
                    <div *ngFor="
                            let depositoryAccounts of getDepositoryAccounts.controls;
                            let i = index
                          " [formGroupName]="i">


                      <div class="container">
                        <div class="row">
                          <div class="col-sm-1 p-3">
                            <input class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                              type="checkbox" (click)="$event.stopPropagation()"
                              [checked]="selectedIndexes.includes(getCheckboxId(0, i))"
                              (click)="toggleSelectedIndex(0, i)" />
                          </div>
                          <div class="col-sm-5 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Name of the financial institution</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="nameOfInstitution[i]" formControlName="nameOfInstitution"
                                  required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-6 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Address of the financial institution</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="addressOfInstitution[i]" formControlName="addressOfInstitution"
                                  required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1"></div>
                          <div class="col-sm-5 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Zip code</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="zipCode[i]" formControlName="zipCode" required maxlength="8"
                                  zipCode />
                                <mat-hint>If zipcode is not available, please enter XXXXXXXX</mat-hint>
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-6 px-2">
                            <div class="form-field">
                              <div>
                                <span class="normal_text">Country code</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <div class="form-control-wrapper">
                                <mat-form-field appearance="outline">
                                  <!-- <mat-select formControlName="countryCode" name="countryCode[i]" required
                                    [(value)]="depositoryAccounts.value.countryCode">
                                    <mat-option *ngFor="let nature of countryCodeList" value="{{nature.code}}"
                                      matTooltip="{{ nature.code + ':' + nature.name }}">
                                      {{ nature.code + ':' + nature.name }}
                                    </mat-option>
                                  </mat-select> -->
                                  <input formControlName="countryCode" name="countryCode[i]" required matInput
                                    [matAutocomplete]="auto" (input)="filter($event)" (click)="filter($event)">
                                  <mat-autocomplete requireSelection #auto="matAutocomplete" [displayWith]="displayFn">
                                    <mat-option *ngFor="let countryName of countryNameCodeList"
                                      [value]="countryName.code">
                                      <div class="option-content">
                                        <span class="label">{{ countryName.code}}:{{countryName.name}}</span>
                                      </div>
                                    </mat-option>
                                  </mat-autocomplete>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>

                        </div>
                      </div>
                      <hr class="hrBdr">




                      <div class="" formArrayName="account">
                        <div class="col-sm-12">
                          <button class="btn btn__default btn__add pull-right btnRght"
                            (click)="add('depositoryAccounts', i)">
                            Add
                          </button>
                        </div>
                        <div *ngFor="
                                let accountCtrl of getAccountControls(i)
                                  .controls;
                                let j = index
                              " [formGroupName]="j">

                          <div class="container">
                            <div class="row">
                              <div class="col-sm-1 p-3">
                                <input class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                                  type="checkbox" (click)="$event.stopPropagation()"
                                  [checked]="selectedAccountIndexes.includes(getCheckboxIdAccount(0, i, j))"
                                  (click)="toggleSelectedAccountIndex(0, i, j)" />
                              </div>
                              <div class="col-sm-3 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="span">Account Number</span>
                                    <span class="text-wrapper-2">*</span>
                                  </div>
                                  <mat-form-field appearance="outline">
                                    <input matInput formControlName="accountNumber" required />
                                  </mat-form-field>
                                </div>
                              </div>
                              <div class="col-sm-4 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="normal_text">Status</span>
                                    <span class="text-wrapper-2">*</span>
                                  </div>
                                  <div class="form-control-wrapper">
                                    <mat-form-field appearance="outline">
                                      <mat-select matInput formControlName="status" required>
                                        <mat-option *ngFor="let status of status" [value]="status"
                                          matTooltip="{{ status }}">
                                          {{ status }}
                                        </mat-option>
                                      </mat-select>
                                    </mat-form-field>
                                  </div>
                                </div>
                              </div>
                              <div class="col-sm-4 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="span">Account Opening Date</span><span class="text-wrapper-2">*</span>
                                  </div>
                                  <mat-form-field appearance="outline">
                                    <input appDateInput matInput placeholder="DD/MM/YYYY" [matDatepicker]="dateofFilling"
                                      autocomplete="off" formControlName="accountOpeningDate" [max]="maxPurchaseDate"
                                      required />
                                    <mat-datepicker-toggle matSuffix [for]="dateofFilling"></mat-datepicker-toggle>
                                    <mat-datepicker #dateofFilling></mat-datepicker>
                                  </mat-form-field>
                                </div>
                              </div>
                              <div class="col-sm-1 px-2">

                              </div>
                              <div class="col-sm-3 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="span">
                                      Peak Balance During the Period</span>
                                    <span class="text-wrapper-2">*</span>
                                  </div>
                                  <mat-form-field appearance="outline">
                                    <input matInput formControlName="peakBalance" digitsOnly required />
                                  </mat-form-field>
                                </div>
                              </div>
                              <div class="col-sm-4 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="span">Closing Balance</span>
                                    <span class="text-wrapper-2">*</span>
                                  </div>
                                  <mat-form-field appearance="outline">
                                    <input matInput formControlName="closingBalance" digitsOnly required />
                                  </mat-form-field>
                                </div>
                              </div>
                              <div class="col-sm-4 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="span">Gross Interest paid/credited to the
                                      account during the period
                                    </span>
                                    <span class="text-wrapper-2">*</span>
                                  </div>
                                  <mat-form-field appearance="outline">
                                    <input matInput formControlName="grossInterestPaid" digitsOnly required />
                                  </mat-form-field>
                                </div>
                              </div>
                            </div>
                          </div>
                          <hr class="hrBdr">


                          <!--                              <button class="delete-btn" style="width: 15%"-->
                          <!--                                      (click)="delete('depositoryAccounts', 'account', i)">-->
                          <!--                                <i class="fa fa-trash" aria-hidden="true"></i> Delete-->
                          <!--                              </button>-->
                        </div>
                        <div class="container">
                          <div class="row">
                            <div class="col-sm-4">
                              <button class="delete-btn1" (click)="
                                  delete('depositoryAccounts', 'account', i, i)
                                ">
                                <i class="fa-regular fa-circle-xmark" aria-hidden="true"></i>
                                Select & Remove Account details
                              </button>
                            </div>
                            <div class="col-sm-4">
                              <button class="delete-box" (click)="delete('depositoryAccounts', 'formArray', 0)">
                                <i class="fa fa-trash" aria-hidden="true"></i> Delete All Data
                              </button>
                            </div>
                            <div class="col-sm-4"></div>
                          </div>
                        </div>


                      </div>
                    </div>

                  </div>
                </form>
              </div>
            </div>

            <!-- custodial Accounts  -->
            <div class="accordion-item" *ngIf="topic.code === 'A2'">
              <h2 class="accordion-header" id="heading2">
                <button type="button" class="accordion-button" data-bs-toggle="collapse" data-bs-target="#collapse2">
                  {{ topic.label }}
                </button>
              </h2>
              <div id="collapse2" class="accordion-collapse collapse show">
                <form formArrayName="custodialAccounts" style="padding: 20px">
                  <div class="accordion__item-body">
                    <div class="col-sm-12">
                      <button class="btn btn__default btn__add pull-right btnRght"
                        (click)="addMore('custodialAccounts')">
                        Add More
                      </button>
                    </div>

                    <div *ngFor="
                            let custodialAccounts of getCustodialAccounts?.controls;
                            let i = index
                          " [formGroupName]="i">

                      <div class="container">
                        <div class="row">
                          <div class="col-sm-1 p-3">
                            <input class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                              type="checkbox" (click)="$event.stopPropagation()"
                              [checked]="selectedIndexes.includes(getCheckboxId(1, i))"
                              (click)="toggleSelectedIndex(1, i)" />
                          </div>
                          <div class="col-sm-5 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Name of the financial institution</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="nameOfInstitution[i]" formControlName="nameOfInstitution"
                                  required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-6 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Address of the financial institution</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="addressOfInstitution[i]" formControlName="addressOfInstitution"
                                  required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1 p-3">

                          </div>
                          <div class="col-sm-5 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Zip code</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="zipCode[i]" formControlName="zipCode" required maxlength="8"
                                  zipCode />
                                <mat-hint>If zipcode is not available, please enter XXXXXXXX</mat-hint>
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-6 px-2">
                            <div class="form-field">
                              <div>
                                <span class="normal_text">Country code </span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <div class="form-control-wrapper">
                                <mat-form-field appearance="outline">
                                  <!-- <mat-select formControlName="countryCode" name="countryCode[i]" required
                                    [(value)]="custodialAccounts.value.countryCode">
                                    <mat-option *ngFor="let nature of countryCodeList" value="{{nature.code}}"
                                      matTooltip="{{ nature.code + ':' + nature.name }}">
                                      {{ nature.code + ':' + nature.name }}
                                    </mat-option>
                                  </mat-select> -->
                                  <input formControlName="countryCode" name="countryCode[i]" required matInput
                                    [matAutocomplete]="auto" (input)="filter($event)" (click)="filter($event)">
                                  <mat-autocomplete requireSelection #auto="matAutocomplete" [displayWith]="displayFn">
                                    <mat-option *ngFor="let countryName of countryNameCodeList"
                                      [value]="countryName.code">
                                      <div class="option-content">
                                        <span class="label">{{ countryName.code}}:{{countryName.name}}</span>
                                      </div>
                                    </mat-option>
                                  </mat-autocomplete>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>


                        </div>
                      </div>

                      <hr class="hrBdr">

                      <div class="" formArrayName="account">
                        <div class="col-sm-12">
                          <button class="btn btn__default btn__add pull-right btnRght"
                            (click)="add('custodialAccounts', i)">
                            Add
                          </button>
                        </div>
                        <div *ngFor="
                                let accountCtrl of getCustodialAccountControls(
                                  i
                                )?.controls;
                                let j = index
                              " [formGroupName]="j">

                          <div class="container">
                            <div class="row">
                              <div class="col-sm-1 p-3">
                                <input class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                                  type="checkbox" (click)="$event.stopPropagation()"
                                  [checked]="selectedAccountIndexes.includes(getCheckboxIdAccount(1, i, j))"
                                  (click)="toggleSelectedAccountIndex(1, i, j)" />
                              </div>
                              <div class="col-sm-3 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="span">Account Number</span>
                                    <span class="text-wrapper-2">*</span>
                                  </div>
                                  <mat-form-field appearance="outline">
                                    <input matInput name="accountNumber[j]" formControlName="accountNumber" digitsOnly
                                      required />
                                  </mat-form-field>
                                </div>
                              </div>
                              <div class="col-sm-4 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="normal_text">Status</span>
                                    <span class="text-wrapper-2">*</span>
                                  </div>
                                  <div class="form-control-wrapper">
                                    <mat-form-field appearance="outline">
                                      <mat-select matInput name="status[j]" formControlName="status" required>
                                        <mat-option *ngFor="let status of status" [value]="status"
                                          matTooltip="{{ status }}">
                                          {{ status }}
                                        </mat-option>
                                      </mat-select>
                                    </mat-form-field>
                                  </div>
                                </div>
                              </div>
                              <div class="col-sm-4 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="span">Account Opening Date</span>
                                    <span class="text-wrapper-2">*</span>
                                  </div>
                                  <mat-form-field appearance="outline">
                                    <input appDateInput matInput placeholder="DD/MM/YYYY" name="accountOpeningDate[j]"
                                      [matDatepicker]="dateofFilling" autocomplete="off"
                                      formControlName="accountOpeningDate" [max]="maxPurchaseDate" required />
                                    <mat-datepicker-toggle matSuffix [for]="dateofFilling"></mat-datepicker-toggle>
                                    <mat-datepicker #dateofFilling></mat-datepicker>
                                  </mat-form-field>
                                </div>
                              </div>
                              <div class="col-sm-1">

                              </div>
                              <div class="col-sm-5 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="span">
                                      Peak Balance During the Period</span>
                                    <span class="text-wrapper-2">*</span>
                                  </div>
                                  <mat-form-field appearance="outline">
                                    <input matInput name="peakBalance[j]" formControlName="peakBalance" digitsOnly
                                      required />
                                  </mat-form-field>
                                </div>
                              </div>
                              <div class="col-sm-6 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="span">Closing Balance</span>
                                    <span class="text-wrapper-2">*</span>
                                  </div>
                                  <mat-form-field appearance="outline">
                                    <input matInput name="closingBalance[j]" formControlName="closingBalance" digitsOnly
                                      required />
                                  </mat-form-field>
                                </div>
                              </div>
                              <div class="col-sm-1"></div>
                              <div class="col-sm-5 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="span">Nature of Amount</span>
                                    <span class="text-wrapper-2">*</span>
                                  </div>
                                  <mat-form-field appearance="outline">
                                    <mat-select matInput name="grossAmountNature[j]" formControlName="grossAmountNature"
                                      required>
                                      <mat-option *ngFor="let option of natureOfIncome" [value]="option">
                                        {{ option }}
                                      </mat-option>
                                    </mat-select>
                                  </mat-form-field>
                                </div>
                              </div>
                              <div class="col-sm-6 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="span"> Amount</span>
                                    <span class="text-wrapper-2">*</span>
                                  </div>
                                  <mat-form-field appearance="outline">
                                    <input matInput name="grossInterestPaid[j]" formControlName="grossInterestPaid"
                                      digitsOnly required />
                                  </mat-form-field>
                                </div>
                              </div>

                            </div>
                          </div>
                        </div>

                        <hr class="hrBdr">

                        <div class="container">
                          <div class="row">
                            <div class="col-sm-4">
                              <button class="delete-btn1" (click)="
                                delete('custodialAccounts', 'account', i, i)
                              ">
                                <i class="fa-regular fa-circle-xmark" aria-hidden="true"></i>
                                Select & Remove Account details
                              </button>
                            </div>
                            <div class="col-sm-4">
                              <button class="delete-box" (click)="delete('custodialAccounts', 'formArray', 1)">
                                <i class="fa fa-trash" aria-hidden="true"></i> Delete All Data </button>
                            </div>
                            <div class="col-sm-4">

                            </div>
                          </div>
                        </div>

                      </div>
                    </div>


                  </div>
                </form>
              </div>
            </div>



            <!-- foreign equity debt -->
            <div class="accordion-item" *ngIf="topic.code === 'A3'">
              <h2 class="accordion-header" id="heading3">
                <button type="button" class="accordion-button" data-bs-toggle="collapse" data-bs-target="#collapse3">
                  {{ topic.label }}
                </button>
              </h2>
              <div id="collapse3" class="accordion-collapse collapse show">
                <div class="accordion__item-body">
                  <form formArrayName="equityAndDebtInterest" style="padding: 20px">

                    <div class="col-sm-12">
                      <button class="btn btn__default btn__add pull-right btnRght"
                        (click)="addMore('equityAndDebtInterest')">
                        Add More
                      </button>
                    </div>
                    <div class="" *ngFor="
                            let equityAndDebtInterest of getEquityAndDebtInterest.controls;
                            let i = index
                          " [formGroupName]="i">

                      <div class="container">
                        <div class="row">
                          <div class="col-sm-1 p-3">
                            <input class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                              type="checkbox" (click)="$event.stopPropagation()"
                              [checked]="selectedIndexes.includes(getCheckboxId(2, i))"
                              (click)="toggleSelectedIndex(2, i)" />
                          </div>
                          <div class="col-sm-3 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Name of Entity</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="nameOfEntity[i]" formControlName="nameOfEntity" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Address of Entity</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="addressOfEntity[i]" formControlName="addressOfEntity" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Zip code</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="zipCode[i]" formControlName="zipCode" required maxlength="8"
                                  zipCode />
                                <mat-hint>If zipcode is not available, please enter XXXXXXXX</mat-hint>
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1"></div>
                          <div class="col-sm-3 px-2">
                            <div class="form-field">
                              <div>
                                <span class="normal_text">Country code </span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <div class="form-control-wrapper">
                                <mat-form-field appearance="outline">
                                  <!-- <mat-select formControlName="countryCode" name="countryCode[i]" required
                                    [(value)]="equityAndDebtInterest.value.countryCode">
                                    <mat-option *ngFor="let nature of countryCodeList" value="{{nature.code}}"
                                      matTooltip="{{ nature.code + ':' + nature.name }}">
                                      {{ nature.code + ':' + nature.name }}
                                    </mat-option>
                                  </mat-select> -->
                                  <input formControlName="countryCode" name="countryCode[i]" required matInput
                                    [matAutocomplete]="auto" (input)="filter($event)" (click)="filter($event)">
                                  <mat-autocomplete requireSelection #auto="matAutocomplete" [displayWith]="displayFn">
                                    <mat-option *ngFor="let countryName of countryNameCodeList"
                                      [value]="countryName.code">
                                      <div class="option-content">
                                        <span class="label">{{ countryName.code}}:{{countryName.name}}</span>
                                      </div>
                                    </mat-option>
                                  </mat-autocomplete>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Nature of Entity</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="natureOfEntity[i]" formControlName="natureOfEntity" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Date of acquiring the interest</span><span
                                  class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input appDateInput matInput placeholder="DD/MM/YYYY" name="dateOfInterest[i]"
                                  [matDatepicker]="dateofFilling" autocomplete="off" formControlName="dateOfInterest"
                                  [max]="maxPurchaseDate" required />
                                <mat-datepicker-toggle matSuffix [for]="dateofFilling"></mat-datepicker-toggle>
                                <mat-datepicker #dateofFilling></mat-datepicker>
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1"></div>
                          <div class="col-sm-3 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">
                                  Initial Value of the Investment</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="initialValue[i]" formControlName="initialValue" digitsOnly
                                  required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">
                                  Peak value of the investment during the
                                  period</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="peakValue[i]" formControlName="peakValue" digitsOnly required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">
                                  Total Gross Amount paid/credited with
                                  recp</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="totalGrossAmountPaid[i]" formControlName="totalGrossAmountPaid"
                                  digitsOnly required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1"></div>
                          <div class="col-sm-3 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Total Gross Proceeds from sale or
                                  redemption</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="totalGrossProceedsFromSale[i]"
                                  formControlName="totalGrossProceedsFromSale" digitsOnly required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Closing Balance</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="closingValue[i]" formControlName="closingValue" digitsOnly
                                  required />
                              </mat-form-field>
                            </div>
                          </div>

                          <hr class="hrBdr">

                          <div class="container">
                            <div class="row">
                              <div class="col-sm-12">
                                <button class="delete-box" (click)="delete('equityAndDebtInterest', 'formArray', 2)">
                                  <i class="fa fa-trash" aria-hidden="true"></i> Delete All Data
                                </button>
                              </div>
                            </div>
                          </div>

                        </div>
                      </div>
                    </div>

                  </form>
                </div>
              </div>
            </div>

            <!-- cash value insurance -->
            <div class="accordion-item" *ngIf="topic.code === 'A4'">
              <h2 class="accordion-header" id="heading4">
                <button type="button" class="accordion-button" data-bs-toggle="collapse" data-bs-target="#collapse4">
                  {{ topic.label }}
                </button>
              </h2>
              <div id="collapse4" class="accordion-collapse collapse show">
                <div class="accordion__item-body">
                  <form formArrayName="cashValueInsurance" style="padding: 20px">

                    <div class="col-sm-12">
                      <button class="btn btn__default btn__add pull-right btnRght"
                        (click)="addMore('cashValueInsurance')">
                        Add More
                      </button>
                    </div>
                    <div class="" *ngFor="
                            let CashValueInsurance of getCashValueInsurance.controls;
                            let i = index
                          " [formGroupName]="i">

                      <div class="container">
                        <div class="row">
                          <div class="col-sm-1 p-3">
                            <input class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                              type="checkbox" (click)="$event.stopPropagation()"
                              [checked]="selectedIndexes.includes(getCheckboxId(3, i))"
                              (click)="toggleSelectedIndex(3, i)" />
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Name of Financial Institution in which
                                  insurance contract held</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="nameOfInstitution[i]" formControlName="nameOfInstitution"
                                  required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Address of Financial Institution</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="addressOfInstitution[i]" formControlName="addressOfInstitution"
                                  required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-3 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Zip code</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="zipCode[i]" formControlName="zipCode" maxlength="8" zipCode />
                                <mat-hint>If zipcode is not available, please enter XXXXXXXX</mat-hint>
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1">

                          </div>
                          <div class="col-sm-5 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Country Code</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <!-- <mat-select formControlName="countryCode" name="countryCode[i]" required
                                  [(value)]="CashValueInsurance.value.countryCode">
                                  <mat-option *ngFor="let nature of countryCodeList" value="{{nature.code}}"
                                    matTooltip="{{ nature.code + ':' + nature.name }}">
                                    {{ nature.code + ':' + nature.name }}
                                  </mat-option></mat-select> -->
                                <input formControlName="countryCode" name="countryCode[i]" required matInput
                                  [matAutocomplete]="auto" (input)="filter($event)" (click)="filter($event)">
                                <mat-autocomplete requireSelection #auto="matAutocomplete" [displayWith]="displayFn">
                                  <mat-option *ngFor="let countryName of countryNameCodeList"
                                    [value]="countryName.code">
                                    <div class="option-content">
                                      <span class="label">{{ countryName.code}}:{{countryName.name}}</span>
                                    </div>
                                  </mat-option>
                                </mat-autocomplete>
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-6 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Date of Contract</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input appDateInput matInput placeholder="DD/MM/YYYY" name="dateOfContract[i]"
                                  [matDatepicker]="dateofFilling" autocomplete="off" formControlName="dateOfContract"
                                  [max]="maxPurchaseDate" required />
                                <mat-datepicker-toggle matSuffix [for]="dateofFilling"></mat-datepicker-toggle>
                                <mat-datepicker #dateofFilling></mat-datepicker>
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1">

                          </div>
                          <div class="col-sm-5 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">
                                  Total Gross Amount paid/credited with respect
                                  to the Contract</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="totalGrossAmountPaid[i]" formControlName="totalGrossAmountPaid"
                                  digitsOnly required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-6 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">
                                  The Cash/Surrender value of the Contract</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="cashValue[i]" formControlName="cashValue" digitsOnly required />
                              </mat-form-field>
                            </div>
                          </div>

                        </div>
                      </div>

                      <hr class="hrBdr">

                      <div class="container">
                        <div class="row">
                          <div class="col-sm-12">
                            <button class="delete-box" (click)="delete('cashValueInsurance', 'formArray', 3)">
                              <i class="fa fa-trash" aria-hidden="true"></i> Delete All Data
                            </button>
                          </div>
                        </div>
                      </div>

                    </div>

                  </form>
                </div>
              </div>
            </div>

            <!-- financial interest in any entity -->
            <div class="accordion-item" *ngIf="topic.code === 'B'">
              <h2 class="accordion-header" id="heading5">
                <button type="button" class="accordion-button" data-bs-toggle="collapse" data-bs-target="#collapse5">
                  {{ topic.label }}
                </button>
              </h2>
              <div id="collapse5" class="accordion-collapse collapse show">
                <div class="accordion__item-body">
                  <form formArrayName="financialInterestDetails" style="padding: 20px">

                    <div class="col-sm-12">
                      <button class="btn btn__default btn__add pull-right btnRght"
                        (click)="addMore('financialInterestDetails')">
                        Add More
                      </button>
                    </div>
                    <div class="" *ngFor="
                            let financialInterestDetails of getFinancialInterestDetails.controls;
                            let i = index
                          " [formGroupName]="i">

                      <div class="container">
                        <div class="row">
                          <div class="col-sm-1 p-3">
                            <input class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                              type="checkbox" (click)="$event.stopPropagation()"
                              [checked]="selectedIndexes.includes(getCheckboxId(4, i))"
                              (click)="toggleSelectedIndex(4, i)" />
                          </div>
                          <div class="col-sm-3 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Name of Entity</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="nameOfEntity[i]" formControlName="nameOfEntity" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Address of Entity</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="address[i]" formControlName="address" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-2 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Zip code</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="zipCode[i]" formControlName="zipCode" required maxlength="8"
                                  zipCode />
                                <mat-hint>If zipcode is not available, please enter XXXXXXXX</mat-hint>
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-2 px-2">
                            <div class="form-field">
                              <div>
                                <span class="normal_text">Country code </span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <div class="form-control-wrapper">
                                <mat-form-field appearance="outline">
                                  <!-- <mat-select formControlName="countryCode" name="countryCode[i]" required
                                    [(value)]="financialInterestDetails.value.countryCode">
                                    <mat-option *ngFor="let nature of countryCodeList" value="{{nature.code}}"
                                      matTooltip="{{ nature.code + ':' + nature.name }}">
                                      {{ nature.code + ':' + nature.name }}
                                    </mat-option>
                                  </mat-select> -->
                                  <input formControlName="countryCode" name="countryCode[i]" required matInput
                                    [matAutocomplete]="auto" (input)="filter($event)" (click)="filter($event)">
                                  <mat-autocomplete requireSelection #auto="matAutocomplete" [displayWith]="displayFn">
                                    <mat-option *ngFor="let countryName of countryNameCodeList"
                                      [value]="countryName.code">
                                      <div class="option-content">
                                        <span class="label">{{ countryName.code}}:{{countryName.name}}</span>
                                      </div>
                                    </mat-option>
                                  </mat-autocomplete>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>
                          <div class="col-sm-1">

                          </div>
                          <div class="col-sm-3 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Nature of interest</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <mat-select name="natureOfInterest[i]" formControlName="natureOfInterest" required>
                                  <mat-option *ngFor="
                                          let option of natureOfInterest
                                        " [value]="option">
                                    {{ option }}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Nature of Entity</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="natureOfEntity[i]" formControlName="natureOfEntity" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Date since held</span><span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input appDateInput matInput placeholder="DD/MM/YYYY" name="date[i]" [matDatepicker]="dateofFilling"
                                  autocomplete="off" formControlName="date" [max]="maxPurchaseDate" required />
                                <mat-datepicker-toggle matSuffix [for]="dateofFilling"></mat-datepicker-toggle>
                                <mat-datepicker #dateofFilling></mat-datepicker>
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1">

                          </div>
                          <div class="col-sm-3 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Total Investment (At cost)</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="totalInvestments[i]" formControlName="totalInvestments" digitsOnly
                                  required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">
                                  Income Accrued from such interest</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="accruedIncome[i]" formControlName="accruedIncome" digitsOnly
                                  required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span"> Nature of Income</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="natureOfIncome[i]" formControlName="natureOfIncome" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1"></div>
                          <div class="col-sm-3 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Amount</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="amount[i]" formControlName="amount" digitsOnly required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="normal_text">Schedule Where Offered</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <div class="form-control-wrapper">
                                <mat-form-field appearance="outline">
                                  <mat-select matInput name="scheduleOfferd[i]" formControlName="scheduleOfferd"
                                    required>
                                    <mat-option *ngFor="
                                          let option of scheduleWhereOffered
                                        " [value]="option">
                                      {{ option }}
                                    </mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Item Number of Schedule</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="numberOfSchedule[i]" formControlName="numberOfSchedule"
                                  required />
                              </mat-form-field>
                            </div>
                          </div>


                        </div>
                      </div>

                      <hr class="hrBdr">
                      <div class="container">
                        <div class="row">
                          <div class="col-sm-12">
                            <button class="delete-box" (click)="
                            delete('financialInterestDetails', 'formArray', 4)
                          ">
                              <i class="fa fa-trash" aria-hidden="true"></i> Delete All Data
                            </button>
                          </div>
                        </div>
                      </div>

                    </div>

                  </form>
                </div>
              </div>
            </div>

            <!-- financial interest in any entity -->
            <div class="accordion-item" *ngIf="topic.code === 'C'">
              <h2 class="accordion-header" id="heading6">
                <button type="button" class="accordion-button" data-bs-toggle="collapse" data-bs-target="#collapse6">
                  {{ topic.label }}
                </button>
              </h2>
              <div id="collapse6" class="accordion-collapse collapse show">
                <div class="accordion__item-body">
                  <form formArrayName="immovablePropertryDetails" style="padding: 20px">

                    <div class="col-sm-12">
                      <button class="btn btn__default btn__add pull-right btnRght"
                        (click)="addMore('immovablePropertryDetails')">
                        Add More
                      </button>
                    </div>
                    <div class="" *ngFor="
                            let immovablePropertryDetails of getImmovablePropertryDetails.controls;
                            let i = index
                          " [formGroupName]="i">

                      <div class="container">
                        <div class="row">
                          <div class="col-sm-1 p-3">
                            <input class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                              type="checkbox" (click)="$event.stopPropagation()"
                              [checked]="selectedIndexes.includes(getCheckboxId(5, i))"
                              (click)="toggleSelectedIndex(5, i)" />
                          </div>
                          <div class="col-sm-5 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Address of Entity</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="address[i]" formControlName="address" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-6 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Zip code</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="zipCode[i]" formControlName="zipCode" required maxlength="8"
                                  zipCode />
                                <mat-hint>If zipcode is not available, please enter XXXXXXXX</mat-hint>
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1 px-2"></div>
                          <div class="col-sm-3 px-2">
                            <div class="form-field">
                              <div>
                                <span class="normal_text">Country code </span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <div class="form-control-wrapper">
                                <mat-form-field appearance="outline">
                                  <!-- <mat-select formControlName="countryCode" name="countryCode[i]" required
                                    [(value)]="immovablePropertryDetails.value.countryCode">
                                    <mat-option *ngFor="let nature of countryCodeList" value="{{nature.code}}"
                                      matTooltip="{{ nature.code + ':' + nature.name }}">
                                      {{ nature.code + ':' + nature.name }}
                                    </mat-option>
                                  </mat-select> -->
                                  <input formControlName="countryCode" name="countryCode[i]" required matInput
                                    [matAutocomplete]="auto" (input)="filter($event)" (click)="filter($event)">
                                  <mat-autocomplete requireSelection #auto="matAutocomplete" [displayWith]="displayFn">
                                    <mat-option *ngFor="let countryName of countryNameCodeList"
                                      [value]="countryName.code">
                                      <div class="option-content">
                                        <span class="label">{{ countryName.code}}:{{countryName.name}}</span>
                                      </div>
                                    </mat-option>
                                  </mat-autocomplete>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="normal_text">Ownership</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <div class="form-control-wrapper">
                                <mat-form-field appearance="outline">
                                  <mat-select matInput name="ownerShip[i]" formControlName="ownerShip" required>
                                    <mat-option *ngFor="
                                        let option of natureOfInterestOwnership
                                      " [value]="option">
                                      {{ option }}
                                    </mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Date of Acquisition</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input appDateInput matInput placeholder="DD/MM/YYYY" name="date[i]" [matDatepicker]="dateofFilling"
                                  autocomplete="off" formControlName="date" [max]="maxPurchaseDate" required />
                                <mat-datepicker-toggle matSuffix [for]="dateofFilling"></mat-datepicker-toggle>
                                <mat-datepicker #dateofFilling></mat-datepicker>
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1"></div>
                          <div class="col-sm-3 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Total Investment (At cost)</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="totalInvestments[i]" formControlName="totalInvestments" digitsOnly
                                  required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">
                                  Income derived from Property
                                </span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="derivedIncome[i]" formControlName="derivedIncome" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Nature of Income</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="natureOfIncome[i]" formControlName="natureOfIncome" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1 px-2"></div>
                          <div class="col-sm-3 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Amount</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="amount[i]" formControlName="amount" digitsOnly required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="normal_text">Schedule where Offered</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <div class="form-control-wrapper">
                                <mat-form-field appearance="outline">
                                  <mat-select matInput name="scheduleOfferd[i]" formControlName="scheduleOfferd"
                                    required>
                                    <mat-option *ngFor="
                                        let option of scheduleWhereOffered
                                      " [value]="option">
                                      {{ option }}
                                    </mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Item number of Schedule</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="numberOfSchedule[i]" formControlName="numberOfSchedule"
                                  required />
                              </mat-form-field>
                            </div>
                          </div>



                        </div>
                      </div>

                      <hr class="hrBdr">
                      <div class="container">
                        <div class="row">
                          <div class="col-sm-12">
                            <button class="delete-box" (click)="delete('immovablePropertryDetails', 'formArray', 5)">
                              <i class="fa fa-trash" aria-hidden="true"></i> Delete All Data
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- <button class="delete-btn" style="width: 15%; margin: 10px" (click)="
                            delete('immovablePropertryDetails', 'formArray', 5)
                          ">
                          <i class="fa fa-trash" aria-hidden="true"></i> Delete
                          All
                        </button> -->
                  </form>
                </div>
              </div>
            </div>

            <!-- Capital assets details -->
            <div class="accordion-item" *ngIf="topic.code === 'D'">
              <h2 class="accordion-header" id="heading7">
                <button type="button" class="accordion-button" data-bs-toggle="collapse" data-bs-target="#collapse7">
                  {{ topic.label }}
                </button>
              </h2>
              <div id="collapse7" class="accordion-collapse collapse show">
                <div class="accordion__item-body">
                  <form formArrayName="capitalAssetsDetails" style="padding: 20px">

                    <div class="col-sm-12">
                      <button class="btn btn__default btn__add pull-right btnRght"
                        (click)="addMore('capitalAssetsDetails')">
                        Add More
                      </button>
                    </div>
                    <div class="" *ngFor="
                            let capitalAssetsDetails of getCapitalAssetsDetails.controls;
                            let i = index
                          " [formGroupName]="i">

                      <div class="container">
                        <div class="row">
                          <div class="col-sm-1 p-3">
                            <input class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                              type="checkbox" (click)="$event.stopPropagation()"
                              [checked]="selectedIndexes.includes(getCheckboxId(6, i))"
                              (click)="toggleSelectedIndex(6, i)" />
                          </div>
                          <div class="col-sm-3 px-2">
                            <div class="form-field">
                              <div>
                                <span class="normal_text">Country code </span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <div class="form-control-wrapper">
                                <mat-form-field appearance="outline">
                                  <!-- <mat-select formControlName="countryCode" name="countryCode[i]" required
                                    [(value)]="capitalAssetsDetails.value.countryCode">
                                    <mat-option *ngFor="let nature of countryCodeList" value="{{nature.code}}"
                                      matTooltip="{{ nature.code + ':' + nature.name }}">
                                      {{ nature.code + ':' + nature.name }}
                                    </mat-option>
                                  </mat-select> -->
                                  <input formControlName="countryCode" name="countryCode[i]" required matInput
                                    [matAutocomplete]="auto" (input)="filter($event)" (click)="filter($event)">
                                  <mat-autocomplete requireSelection #auto="matAutocomplete" [displayWith]="displayFn">
                                    <mat-option *ngFor="let countryName of countryNameCodeList"
                                      [value]="countryName.code">
                                      <div class="option-content">
                                        <span class="label">{{ countryName.code}}:{{countryName.name}}</span>
                                      </div>
                                    </mat-option>
                                  </mat-autocomplete>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Zip code</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="zipCode[i]" formControlName="zipCode" required maxlength="8"
                                  zipCode />
                                <mat-hint>If zipcode is not available, please enter XXXXXXXX</mat-hint>
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Nature of Assets</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="natureOfAsstes[i]" formControlName="natureOfAsstes" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1"></div>
                          <div class="col-sm-5 px-2">
                            <div class="form-field">
                              <div>
                                <span class="normal_text">Ownership</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <div class="form-control-wrapper">
                                <mat-form-field appearance="outline">
                                  <mat-select matInput name="ownerShip[i]" formControlName="ownerShip" required>
                                    <mat-option *ngFor="
                                          let option of natureOfInterestOwnership
                                        " [value]="option">
                                      {{ option }}
                                    </mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>
                          <div class="col-sm-6 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Date of Acquisition</span><span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input appDateInput matInput placeholder="DD/MM/YYYY" name="date[i]" [matDatepicker]="dateofFilling"
                                  autocomplete="off" formControlName="date" [max]="maxPurchaseDate" required />
                                <mat-datepicker-toggle matSuffix [for]="dateofFilling"></mat-datepicker-toggle>
                                <mat-datepicker #dateofFilling></mat-datepicker>
                              </mat-form-field>
                            </div>
                          </div>

                          <div class="col-sm-1"></div>
                          <div class="col-sm-3 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Total Investment (At cost)</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="totalInvestments[i]" formControlName="totalInvestments" digitsOnly
                                  required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">
                                  Income derived from Asset
                                </span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="derivedIncome[i]" formControlName="derivedIncome" digitsOnly
                                  required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Nature of Income</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="natureOfIncome[i]" formControlName="natureOfIncome" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1"></div>
                          <div class="col-sm-3 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Amount</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="amount[i]" formControlName="amount" digitsOnly required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="normal_text">Schedule where Offered</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <div class="form-control-wrapper">
                                <mat-form-field appearance="outline">
                                  <mat-select matInput name="scheduleOfferd[i]" formControlName="scheduleOfferd"
                                    required>
                                    <mat-option *ngFor="
                                          let option of scheduleWhereOffered
                                        " [value]="option">
                                      {{ option }}
                                    </mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Item number of Schedule</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="numberOfSchedule[i]" formControlName="numberOfSchedule"
                                  required />
                              </mat-form-field>
                            </div>
                          </div>




                        </div>
                      </div>
                      <hr class="hrBdr">
                      <div class="container">
                        <div class="row">
                          <div class="col-sm-12">
                            <button class="delete-box" (click)="delete('capitalAssetsDetails', 'formArray', 6)">
                              <i class="fa fa-trash" aria-hidden="true"></i> Delete All Data
                            </button>
                          </div>
                        </div>
                      </div>

                    </div>

                  </form>
                </div>
              </div>
            </div>

            <!-- signing Authority Accounts  -->
            <div class="accordion-item" *ngIf="topic.code === 'E'">
              <h2 class="accordion-header" id="heading8">
                <button type="button" class="accordion-button" data-bs-toggle="collapse" data-bs-target="#collapse8">
                  {{ topic.label }}
                </button>
              </h2>
              <div id="collapse8" class="accordion-collapse collapse show">
                <div class="accordion__item-body">
                  <form formArrayName="signingAuthorityDetails" style="padding: 20px">
                    <div class="col-sm-12">
                      <button class="btn btn__default btn__add pull-right btnRght"
                        (click)="addMore('signingAuthorityDetails')">
                        Add More
                      </button>
                    </div>
                    <div *ngFor="
                            let signingAuthorityDetails of getSigningAuthorityDetails?.controls;
                            let i = index
                          " [formGroupName]="i">


                      <div class="container">
                        <div class="row">
                          <div class="col-sm-1 p-3">
                            <input class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                              type="checkbox" (click)="$event.stopPropagation()"
                              [checked]="selectedIndexes.includes(getCheckboxId(7, i))"
                              (click)="toggleSelectedIndex(7, i)" />
                          </div>
                          <div class="col-sm-5 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Name of the Institution in which the
                                  account is held</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="institutionName[i]" formControlName="institutionName" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-6 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Address of the Institution</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="address[i]" formControlName="address" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1"> </div>
                          <div class="col-sm-5 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Zip code</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="zipCode[i]" formControlName="zipCode" required maxlength="8"
                                  zipCode />
                                <mat-hint>If zipcode is not available, please enter XXXXXXXX</mat-hint>
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-6 px-2">
                            <div class="form-field">
                              <div>
                                <span class="normal_text">Country code </span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <div class="form-control-wrapper">
                                <mat-form-field appearance="outline">
                                  <!-- <mat-select formControlName="countryCode" name="countryCode[i]" required
                                    [(value)]="signingAuthorityDetails.value.countryCode">
                                    <mat-option *ngFor="let nature of countryCodeList" value="{{nature.code}}"
                                      matTooltip="{{ nature.code + ':' + nature.name }}">
                                      {{ nature.code + ':' + nature.name }}
                                    </mat-option>
                                  </mat-select> -->
                                  <input formControlName="countryCode" name="countryCode[i]" required matInput
                                    [matAutocomplete]="auto" (input)="filter($event)" (click)="filter($event)">
                                  <mat-autocomplete requireSelection #auto="matAutocomplete" [displayWith]="displayFn">
                                    <mat-option *ngFor="let countryName of countryNameCodeList"
                                      [value]="countryName.code">
                                      <div class="option-content">
                                        <span class="label">{{ countryName.code}}:{{countryName.name}}</span>
                                      </div>
                                    </mat-option>
                                  </mat-autocomplete>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>

                        </div>
                      </div>

                      <hr class="hrBdr">



                      <div formArrayName="account">
                        <div class="col-sm-12">
                          <button class="btn btn__default btn__add pull-right btnRght"
                            (click)="add('signingAuthorityDetails', i)">
                            Add
                          </button>
                        </div>
                        <div *ngFor="
                                let accountCtrl of getSigningAuthAccountControls(
                                  i
                                )?.controls;
                                let j = index
                              " [formGroupName]="j">

                          <div class="container">
                            <div class="row">
                              <div class="col-sm-1 p-3">
                                <input class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                                  type="checkbox" (click)="$event.stopPropagation()"
                                  [checked]="selectedAccountIndexes.includes(getCheckboxIdAccount(7, i, j))"
                                  (click)="toggleSelectedAccountIndex(7, i, j)" />
                              </div>
                              <div class="col-sm-3 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="span">Name of the account holder</span>
                                    <span class="text-wrapper-2">*</span>
                                  </div>
                                  <mat-form-field appearance="outline">
                                    <input matInput name="accountHolderName[j]" formControlName="accountHolderName"
                                      required />
                                  </mat-form-field>
                                </div>
                              </div>
                              <div class="col-sm-4 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="span"> Account Number </span>
                                    <span class="text-wrapper-2">*</span>
                                  </div>
                                  <mat-form-field appearance="outline">
                                    <input matInput name="accountNumber[j]" formControlName="accountNumber" digitsOnly
                                      required />
                                  </mat-form-field>
                                </div>
                              </div>
                              <div class="col-sm-4 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="span">Peak Balance During the year</span>
                                    <span class="text-wrapper-2">*</span>
                                  </div>
                                  <mat-form-field appearance="outline">
                                    <input matInput name="peakBalance[j]" formControlName="peakBalance" digitsOnly
                                      required />
                                  </mat-form-field>
                                </div>
                              </div>
                              <div class="col-sm-1 spcTpA">

                              </div>
                              <div class="col-sm-5 px-2 spcTpA">
                                <div class="span"> Whether income accrued is taxable in
                                  your hands? <span class="text-wrapper-2">*</span></div>
                              </div>
                              <div class="col-sm-6 px-2 spcTpA">
                                <mat-radio-group formControlName="isTaxableinYourHand" required (change)="
                                        handleSelectionChange($event.value)
                                      ">
                                  <mat-radio-button value="Y" style="margin-right: 10px">Yes</mat-radio-button>
                                  <mat-radio-button value="N">No</mat-radio-button>
                                </mat-radio-group>
                              </div>

                            </div>
                          </div>

                          <div class="container" *ngIf="
                                accountCtrl?.get('isTaxableinYourHand')
                                  ?.value === 'Y'
                              ">
                            <div class="row">
                              <div class="col-sm-1">

                              </div>
                              <div class="col-sm-5 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="span">Income Accured in the Account</span>
                                    <span class="text-wrapper-2">*</span>
                                  </div>
                                  <mat-form-field appearance="outline">
                                    <input matInput name="accruedIncome[j]" formControlName="accruedIncome" digitsOnly
                                      required />
                                  </mat-form-field>
                                </div>
                              </div>
                              <div class="col-sm-6 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="span">Amount</span>
                                    <span class="text-wrapper-2">*</span>
                                  </div>
                                  <mat-form-field appearance="outline">
                                    <input matInput name="amount[j]" formControlName="amount" digitsOnly required />
                                  </mat-form-field>
                                </div>

                              </div>
                              <div class="col-sm-1"> </div>
                              <div class="col-sm-5 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="normal_text">Scheduled Where Offered</span>
                                    <span class="text-wrapper-2">*</span>
                                  </div>
                                  <div class="form-control-wrapper">
                                    <mat-form-field appearance="outline">
                                      <mat-select matInput name="scheduleOfferd[j]" formControlName="scheduleOfferd"
                                        required>
                                        <mat-option *ngFor="
                                                let option of scheduleWhereOffered
                                              " [value]="option">
                                          {{ option }}
                                        </mat-option>
                                      </mat-select>
                                    </mat-form-field>
                                  </div>
                                </div>
                              </div>
                              <div class="col-sm-6 px-2">
                                <div class="form-field">
                                  <div>
                                    <span class="span">Item Number of Schedule</span>
                                    <span class="text-wrapper-2">*</span>
                                  </div>
                                  <mat-form-field appearance="outline">
                                    <input matInput name="numberOfSchedule[j]" formControlName="numberOfSchedule"
                                      required />
                                  </mat-form-field>
                                </div>
                              </div>
                            </div>
                          </div>

                          <hr class="hrBdr">




                        </div>
                        <div class="container">
                          <div class="row">
                            <div class="col-sm-4">
                              <button class="delete-btn1" (click)="delete('signingAuthorityDetails', 'account', i, i)">
                                <i class="fa-regular fa-circle-xmark" aria-hidden="true"></i> Select & Remove Account
                                details
                              </button>
                            </div>
                            <div class="col-sm-4">
                              <button class="delete-box" (click)="delete('signingAuthorityDetails', 'formArray', 7)">
                                <i class="fa fa-trash" aria-hidden="true"></i> Delete All Data
                              </button>
                            </div>
                            <div class="col-sm-4">

                            </div>
                          </div>
                        </div>
                      </div>

                    </div>

                  </form>
                </div>
              </div>
            </div>

            <!-- trusts details -->
            <div class="accordion-item" *ngIf="topic.code === 'F'">
              <h2 class="accordion-header" id="heading9">
                <button type="button" class="accordion-button" data-bs-toggle="collapse" data-bs-target="#collapse9">
                  {{ topic.label }}
                </button>
              </h2>
              <div id="collapse9" class="accordion-collapse collapse show">
                <div class="accordion__item-body">
                  <form formArrayName="trustsDetails" style="padding: 20px">
                    <div class="col-sm-12">
                      <button class="btn btn__default btn__add pull-right btnRght" (click)="addMore('trustsDetails')">
                        Add More
                      </button>
                    </div>
                    <div *ngFor="
                            let trustsDetails of getTrustsDetails.controls;
                            let i = index
                          " [formGroupName]="i">
                      <div class="container">
                        <div class="row">
                          <div class="col-sm-1 p-3">
                            <input class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                              type="checkbox" (click)="$event.stopPropagation()"
                              [checked]="selectedIndexes.includes(getCheckboxId(8, i))"
                              (click)="toggleSelectedIndex(8, i)" />
                          </div>
                          <div class="col-sm-5 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Name of the trust</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="trustName[i]" formControlName="trustName" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-6 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Address of the trust</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="trustAddress[i]" formControlName="trustAddress" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1 p-3"></div>
                          <div class="col-sm-5 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Zip code</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="zipCode[i]" formControlName="zipCode" required maxlength="8"
                                  zipCode />
                                <mat-hint>If zipcode is not available, please enter XXXXXXXX</mat-hint>
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-6 px-2">
                            <div class="form-field">
                              <div>
                                <span class="normal_text">Country code </span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <div class="form-control-wrapper">
                                <mat-form-field appearance="outline">
                                  <!-- <mat-select formControlName="countryCode" name="countryCode[i]" required
                                    [(value)]="trustsDetails.value.countryCode">
                                    <mat-option *ngFor="let nature of countryCodeList" value="{{nature.code}}"
                                      matTooltip="{{ nature.code + ':' + nature.name }}">
                                      {{ nature.code + ':' + nature.name }}
                                    </mat-option>
                                  </mat-select> -->
                                  <input formControlName="countryCode" name="countryCode[i]" required matInput
                                    [matAutocomplete]="auto" (input)="filter($event)" (click)="filter($event)">
                                  <mat-autocomplete requireSelection #auto="matAutocomplete" [displayWith]="displayFn">
                                    <mat-option *ngFor="let countryName of countryNameCodeList"
                                      [value]="countryName.code">
                                      <div class="option-content">
                                        <span class="label">{{ countryName.code}}:{{countryName.name}}</span>
                                      </div>
                                    </mat-option>
                                  </mat-autocomplete>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>
                          <div class="col-sm-1"></div>
                          <div class="col-sm-2 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Name of the trustee</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="trusteesName[i]" formControlName="trusteesName" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-3 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Address of the trustee</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="trusteesAddress[i]" formControlName="trusteesAddress" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-3 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">
                                  Name of the settlor
                                </span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="settlorName[i]" formControlName="settlorName" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-3 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Address of the settlor
                                </span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="settlorAddress[i]" formControlName="settlorAddress" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1"></div>
                          <div class="col-sm-3 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Name of the beneficiaries</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="beneficiariesName[i]" formControlName="beneficiariesName"
                                  required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Address of the beneficiaries</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="beneficiariesAddress[i]" formControlName="beneficiariesAddress"
                                  required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-4 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Date since position held </span><span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input appDateInput matInput placeholder="DD/MM/YYYY" name="date[i]" [matDatepicker]="dateofFilling"
                                  autocomplete="off" formControlName="date" [max]="maxPurchaseDate" required />
                                <mat-datepicker-toggle matSuffix [for]="dateofFilling"></mat-datepicker-toggle>
                                <mat-datepicker #dateofFilling></mat-datepicker>
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1 spcTpA">

                          </div>
                          <div class="col-sm-5 px-2 spcTpA">
                            <span class="span">Whether income accrued is taxable in your
                              hands? </span><span class="text-wrapper-2">*</span>
                          </div>
                          <div class="col-sm-6 px-2 spcTpA">
                            <mat-radio-group formControlName="isTaxableinYourHand" required
                              (change)="handleSelectionChange($event.value)">
                              <mat-radio-button value="Y" style="margin-right: 10px">Yes</mat-radio-button>
                              <mat-radio-button value="N">No</mat-radio-button>
                            </mat-radio-group>
                          </div>

                        </div>
                      </div>

                      <div class="container" *ngIf="trustsDetails?.get('isTaxableinYourHand')?.value === 'Y'">
                        <div class="row">
                          <div class="col-sm-1">

                          </div>
                          <div class="col-sm-5 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Income derived in the account</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="derivedIncome[i]" formControlName="derivedIncome" digitsOnly
                                  required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-6 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Amount</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="amount[i]" formControlName="amount" digitsOnly required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1">

                          </div>
                          <div class="col-sm-5 px-2">
                            <div class="form-field">
                              <div>
                                <span class="normal_text">Schedule where Offered</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <div class="form-control-wrapper">
                                <mat-form-field appearance="outline">
                                  <mat-select matInput name="scheduleOfferd[i]" formControlName="scheduleOfferd"
                                    required>
                                    <mat-option *ngFor="
                                            let option of scheduleWhereOffered
                                          " [value]="option">
                                      {{ option }}
                                    </mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>
                          <div class="col-sm-6 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Item number of Schedule</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="numberOfSchedule[i]" formControlName="numberOfSchedule"
                                  required />
                              </mat-form-field>
                            </div>
                          </div>


                        </div>
                      </div>

                      <hr class="hrBdr">
                      <div class="container">
                        <div class="row">
                          <div class="col-sm-12">
                            <button class="delete-box" (click)="delete('trustsDetails', 'formArray', 8)">
                              <i class="fa fa-trash" aria-hidden="true"></i> Delete All Data
                            </button>
                          </div>
                        </div>
                      </div>

                    </div>

                  </form>
                </div>
              </div>
            </div>

            <!-- otherIncomeDetails -->
            <div class="accordion-item" *ngIf="topic.code === 'G'">
              <h2 class="accordion-header" id="heading10">
                <button type="button" class="accordion-button" data-bs-toggle="collapse" data-bs-target="#collapse10">
                  {{ topic.label }}
                </button>
              </h2>
              <div id="collapse10" class="accordion-collapse collapse show">
                <div class="accordion__item-body">

                  <div class="col-sm-12">
                    <button class="btn btn__default btn__add pull-right btnRght"
                      (click)="addMore('otherIncomeDetails')">
                      Add More
                    </button>
                  </div>
                  <form formArrayName="otherIncomeDetails" style="padding: 20px">
                    <div *ngFor="
                            let otherIncomeDetails of getOtherIncomeDetails.controls;
                            let i = index
                          " [formGroupName]="i">

                      <div class="container">
                        <div class="row">
                          <div class="col-sm-1 p-3">
                            <input class="checkbox checkbox-secondary rounded border-2 w-[18px] h-[18px] mb-[-6px]"
                              type="checkbox" (click)="$event.stopPropagation()"
                              [checked]="selectedIndexes.includes(getCheckboxId(9, i))"
                              (click)="toggleSelectedIndex(9, i)" />
                          </div>
                          <div class="col-sm-5 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Name of the person from whom derived</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="name[i]" formControlName="name" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-6 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Address of the person from whom
                                  derived</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="address[i]" formControlName="address" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-1">

                          </div>
                          <div class="col-sm-5 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Zip code</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="zipCode[i]" formControlName="zipCode" required maxlength="8"
                                  zipCode />
                                <mat-hint>If zipcode is not available, please enter XXXXXXXX</mat-hint>
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-6 px-2">
                            <div class="form-field">
                              <div>
                                <span class="normal_text">Country code </span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <div class="form-control-wrapper">
                                <mat-form-field appearance="outline">
                                  <!-- <mat-select formControlName="countryCode" name="countryCode[i]" required
                                    [(value)]="otherIncomeDetails.value.countryCode">
                                    <mat-option *ngFor="let nature of countryCodeList" value="{{nature.code}}"
                                      matTooltip="{{ nature.code + ':' + nature.name }}">
                                      {{ nature.code + ':' + nature.name }}
                                    </mat-option></mat-select> -->
                                  <input formControlName="countryCode" name="countryCode[i]" required matInput
                                    [matAutocomplete]="auto" (input)="filter($event)" (click)="filter($event)">
                                  <mat-autocomplete requireSelection #auto="matAutocomplete" [displayWith]="displayFn">
                                    <mat-option *ngFor="let countryName of countryNameCodeList"
                                      [value]="countryName.code">
                                      <div class="option-content">
                                        <span class="label">{{ countryName.code}}:{{countryName.name}}</span>
                                      </div>
                                    </mat-option>
                                  </mat-autocomplete>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>
                          <div class="col-sm-1">

                          </div>
                          <div class="col-sm-5 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Nature of Income</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="natureOfIncome[i]" formControlName="natureOfIncome" required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-6 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Income Derived</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="derivedIncome[i]" formControlName="derivedIncome" digitsOnly
                                  required />
                              </mat-form-field>
                            </div>
                          </div>

                          <div class="col-sm-1 spcTpA"></div>
                          <div class="col-sm-5 px-2 spcTpA">
                            <span class="span">Whether income accrued is taxable in your
                              hands? </span><span class="text-wrapper-2">*</span>
                          </div>
                          <div class="col-sm-6 px-2 spcTpA">
                            <mat-radio-group formControlName="isTaxableinYourHand" required
                              (change)="handleSelectionChange($event.value)">
                              <mat-radio-button value="Y" style="margin-right: 10px">Yes</mat-radio-button>
                              <mat-radio-button value="N">No</mat-radio-button>
                            </mat-radio-group>
                          </div>

                        </div>
                      </div>

                      <div class="container" *ngIf="otherIncomeDetails?.get('isTaxableinYourHand')?.value === 'Y' ">
                        <div class="row">
                          <div class="col-sm-1">

                          </div>
                          <div class="col-sm-5 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Amount</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="amount[i]" formControlName="amount" digitsOnly required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-6 px-2">
                            <div class="form-field">
                              <div>
                                <span class="normal_text">Schedule where Offered</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <div class="form-control-wrapper">
                                <mat-form-field appearance="outline">
                                  <mat-select matInput name="scheduleOfferd[i]" formControlName="scheduleOfferd"
                                    required>
                                    <mat-option *ngFor="
                                            let option of scheduleWhereOffered
                                          " [value]="option">
                                      {{ option }}
                                    </mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>
                          <div class="col-sm-1"> </div>
                          <div class="col-sm-5 px-2">
                            <div class="form-field">
                              <div>
                                <span class="span">Item number of Schedule</span>
                                <span class="text-wrapper-2">*</span>
                              </div>
                              <mat-form-field appearance="outline">
                                <input matInput name="numberOfSchedule[i]" formControlName="numberOfSchedule"
                                  required />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-sm-6 px-2">

                          </div>

                        </div>
                      </div>
                      <hr class="hrBdr">
                      <div class="container">
                        <div class="row">
                          <div class="col-sm-12">
                            <button class="delete-box" (click)="delete('otherIncomeDetails', 'formArray', 9)">
                              <i class="fa fa-trash" aria-hidden="true"></i> Delete All Data
                            </button>
                          </div>
                        </div>
                      </div>




                    </div>

                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>



      <div class="out-box">
        <div class="box-left">
          <button class="btn btn__white" (click)="goBack()">Back</button>
        </div>
        <div class="box-right">
          <button class="btn btn__primary" (click)="saveAll()">
            Save & View Summary
          </button>
        </div>
      </div>
    </div>
  </div>
</form>
