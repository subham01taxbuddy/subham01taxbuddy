<div style="overflow: hidden">
  <ngx-loading
    [show]="loading"
    [config]="{ backdropBorderRadius: '14px', fullScreenBackdrop: true }"
  ></ngx-loading>
  <div
    class="card__row"
    style="
      margin-bottom: 10px;
      margin-top: 10px;
      margin-left: 20px;
      margin-right: 15px;
    "
  >
    <div class="row">
      <div class="col-sm-9">
        <div>Business Income 44AD </div>
      </div>
      <div class="col-sm-3">
        <button class="new-add btnRt spsTp" (click)="addBusinessRow('ADD', businessData)">
          <i class="fa fa-plus" aria-hidden="true"></i>
          Add More Business</button>
      </div>      
    </div>
    <div class="row">
      <div class="col-sm-12">
        <button class="edit-donation" (click)="editBusinessRow('EDIT', businessData)" [disabled]="this.selection.selected.length > 1 ||
          this.selection.selected.length === 0">
          <mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font"> edit_square </mat-icon> Edit
      </button>
      </div>
    </div>
    <div class="row">
    <div class="col-sm-12">
      <table class="table-income">
        <thead>
          <tr>
            <th
              class="regular-td"
              [colSpan]="3"
              style="text-align: center"
            ></th>
            <th class="regular-td" [colSpan]="2" style="text-align: center">
              Gross turnover of the year- Received in Bank
            </th>
            <th class="regular-td" [colSpan]="2" style="text-align: center">
              Gross turnover of the year- Received in Other Mode
            </th>
          </tr>
          <tr>
            <th class="regular-td">
              <mat-checkbox
                (change)="$event ? masterToggle() : null"
                [checked]="selection.hasValue() && isAllSelected()"
                [indeterminate]="selection.hasValue() && !isAllSelected()"
              >
              </mat-checkbox>
            </th>
            <th class="regular-td">Nature Of Business</th>
            <th class="regular-td">Trade Name</th>
            <th class="regular-td">Receipt In Bank</th>
            <th class="regular-td">Presumptive Income (6%)</th>
            <th class="regular-td">Receipt In Other Mode</th>
            <th class="regular-td">Presumptive Income (8%)</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let business of businessArray; let i = index">
            <td class="regular-td">
              <mat-checkbox
                (click)="$event.stopPropagation()"
                (change)="$event ? selection.toggle(business) : null"
                [checked]="selection.isSelected(business)"
              >
              </mat-checkbox>
            </td>
            <td class="label-td">{{ getBusinessName(business) }}</td>
            <td class="regular-td">{{ business.tradeName }}</td>
            <td class="regular-td">
              {{ getByBank(business, "BANK", "receipts") }}
            </td>
            <td class="regular-td">
              {{ getByBank(business, "BANK", "presumptiveIncome") }}
            </td>
            <td class="regular-td">
              {{ getByCash(business, "CASH", "receipts") }}
            </td>
            <td class="regular-td">
              {{ getByCash(business, "CASH", "presumptiveIncome") }}
            </td>
          </tr>
        </tbody>
      </table>

      <div class="container">
        <div class="flex justify-between">
          <button
            mat-raised-button
            color="warn"
            (click)="removeSelectedRows()"
            style="margin-top: 1%"
          >
            Delete
          </button>
          <button
            mat-raised-button
            color="primary"
            (click)="onContinue()"
            style="margin-top: 1%"
          >
            Save
          </button>
        </div>
      </div>
    </div>
  </div>
  </div>
</div>
<!-- <div style="text-align: center"> -->
<!-- <button class="tbd-btn-secondary" (click)="this.location.back()"><i class="fa fa-arrow-left" aria-hidden="true"></i>
        &nbsp;&nbsp;Back</button> -->
<!-- </div> -->
