<div style="overflow: hidden;">
    <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px',fullScreenBackdrop:true }"></ngx-loading>
    <div class="card__row" style="margin-bottom: 10px; margin-top :10px; 
    margin-left: 20px; margin-right: 15px;">
        <div class="">
            <div class="card__col-xs-12 card__col-sm-6">
                <b style="font-size: 14px;">Business Income 44AD </b>
            </div>
            <div class="card__col-xs-12 card__col-sm-5" style="text-align: right;">
                <button class="tbd-btn-small" style="text-align: right;"
                    (click)="addBusinessRow('ADD', businessData)">
                    <i class="fa fa-plus" aria-hidden="true"></i>
                    Add More Business&nbsp;&nbsp;
                </button>
            </div>
            <div class="card__col-xs-12 card__col-sm-1" style="text-align: right;">
              <button class="tbd-btn-small" style="text-align: right;"
                  (click)="editBusinessRow('EDIT', businessData)" [disabled]="this.selection.selected.length > 1 || this.selection.selected.length === 0">
                        Edit&nbsp;&nbsp;
              </button>
          </div>
        </div>
        <div class="card__col-xs-12 card__col-sm-12">
            <!-- <div style="height: 100%; padding-top: 5px; box-sizing: border-box;">
                <ag-grid-angular style="width: 100%; height: 100%;" class="ag-theme-balham cg-table"
                    [gridOptions]="businessGridOptions" [frameworkComponents]="frameworkComponents"
                    (rowClicked)="onBusinessRowClicked($event)">
                </ag-grid-angular>
            </div> -->
            <div class="container">
                <div class="card__row">
                    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                        <ng-container matColumnDef="select">
                         <th mat-header-cell *matHeaderCellDef>
                           <mat-checkbox (change)="$event ? masterToggle() : null"
                                         [checked]="selection.hasValue() && isAllSelected()"
                                         [indeterminate]="selection.hasValue() && !isAllSelected()">
                           </mat-checkbox>
                         </th>
                         <td mat-cell *matCellDef="let row">
                           <mat-checkbox (click)="$event.stopPropagation()"
                                         (change)="$event ? selection.toggle(row) : null"
                                         [checked]="selection.isSelected(row)">
                           </mat-checkbox>
                         </td>
                       </ng-container>
                     
                      
                       <ng-container matColumnDef="natureOfBusiness">
                         <th mat-header-cell *matHeaderCellDef> Nature Of Business </th>
                         <td mat-cell *matCellDef="let element"> {{element.natureOfBusiness}} </td>
                       </ng-container>
                       
                       <ng-container matColumnDef="tradeName">
                         <th mat-header-cell *matHeaderCellDef> Trade Name </th>
                         <td mat-cell *matCellDef="let element"> {{element.tradeName}} </td>
                       </ng-container>
            
                       <ng-container matColumnDef="inbank">
                         <th mat-header-cell *matHeaderCellDef>Reciept In Bank</th>
                         <td mat-cell *matCellDef="let element">
                          <span *ngFor="let item of element.incomes">{{getByBank(item,'BANK','receipts')}}</span>
                         </td>
                       </ng-container>
    
                       <ng-container matColumnDef="presumptiveIncomebank">
                        <th mat-header-cell *matHeaderCellDef>Presumptive Income (6%)  </th>
                        <td mat-cell *matCellDef="let element">
                          <span *ngFor="let item of element.incomes">{{getByBank(item,'BANK','presumptiveIncome')}}</span>
                         </td>
                      </ng-container>

                      <ng-container matColumnDef="incash">
                        <th mat-header-cell *matHeaderCellDef>Reciept In Other Mode</th>
                        <td mat-cell *matCellDef="let element">
                          <span *ngFor="let item of element.incomes">{{getByCash(item,'CASH','receipts')}}</span>
                         </td>
                      </ng-container>
                      
                      <ng-container matColumnDef="presumptiveIncomecash">
                        <th mat-header-cell *matHeaderCellDef>Presumptive Income (8%)  </th>
                        <td mat-cell *matCellDef="let element">
                          <span *ngFor="let item of element.incomes">{{getByCash(item,'CASH','presumptiveIncome')}}</span>
                         </td>
                      </ng-container>

                      <ng-container matColumnDef="header-row-first-group">
                        <th mat-header-cell *matHeaderCellDef 
                            [style.text-align]="'center'"
                            [attr.colspan]="3"> 
                         </th>
                        
                      </ng-container>
                      <ng-container matColumnDef="header-row-second-group">
                        
                        <th mat-header-cell *matHeaderCellDef 
                            [style.text-align]="'center'"
                            [attr.colspan]="2"> 
                         Gross turnover of the year- Received in Bank
                        </th>
                      </ng-container>

                      <ng-container matColumnDef="header-row-fourth-group">
                        <th mat-header-cell *matHeaderCellDef 
                            [style.text-align]="'center'"
                            [attr.colspan]="3"> 
                         Gross turnover of the year- Received in Other Mode 
                        </th>
                      </ng-container>

                       <tr mat-header-row *matHeaderRowDef="['header-row-first-group','header-row-second-group','header-row-fourth-group']"></tr>
                       <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                       <tr mat-row *matRowDef="let row; columns: displayedColumns;"
                           (click)="selection.toggle(row)">
                       </tr>
                     </table>
                    </div>
                    <div>
                        <button mat-raised-button color="primary" (click)="removeSelectedRows()">
                         Delete
                        </button>
                     </div>
                </div>
        </div>
    </div>
</div>
<div style="text-align: center;">
    <!-- <button class="tbd-btn-secondary" (click)="this.location.back()"><i class="fa fa-arrow-left" aria-hidden="true"></i>
        &nbsp;&nbsp;Back</button> -->
    <button class="tbd-btn" (click)="onContinue()">&nbsp;&nbsp;Save </button>
</div>