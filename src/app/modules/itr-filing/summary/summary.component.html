<ngx-loading
  [show]="loading"
  [config]="{ backdropBorderRadius: '14px', fullScreenBackdrop: true }"
></ngx-loading>
<div class="card__title" style="padding: 15px; font-size: 20px">
  Personal Details
</div>

<div class="grids griHgh return_glance tpOfBx">
  <div class="com_model perBx">
    <div class="container">
      <div class="card__row">
        <div class="card__col-xs-12 card__col-sm-4 card__col-md-4">
          <!-- Name -->
          <div class="txBt">
            <span class="txLf">Name:</span>
            <span class="txMuLf">{{
              finalCalculations?.personalInfo?.name
            }}</span>
          </div>
          <div
            class="txBt"
            *ngIf="finalCalculations?.personalInfo?.aadhaarNumber"
          >
            <div>
              <span class="txLf">Aadhar Number:</span
              ><span class="txMuLf">{{
                finalCalculations?.personalInfo?.aadhaarNumber
              }}</span>
            </div>
          </div>

          <div
            class="txBt"
            *ngIf="finalCalculations?.personalInfo?.AadhaarEnrolmentId"
          >
            <div>
              <span class="txLf">Aadhaar Enrolment Id: </span
              ><span class="txMuLf">{{
                finalCalculations?.personalInfo?.AadhaarEnrolmentId
              }}</span>
            </div>
          </div>
          <!-- Mobile -->
          <div class="txBt">
            <div>
              <span class="txLf">Mobile Number:</span
              ><span class="txMuLf">{{
                finalCalculations?.personalInfo?.mobileNumber
              }}</span>
            </div>
          </div>
          <!--Residential Status  -->
          <div class="txBt">
            <span class="txLf">Residential Status: </span
            ><span class="txMuLf">{{
              finalCalculations?.personalInfo?.resStatus
            }}</span>
          </div>
          <div class="txBt">
            <span class="txLf">Return Type:</span
            ><span class="txMuLf">{{
              finalCalculations?.personalInfo?.returnType
            }}</span>
          </div>
          <!-- Address -->
          <div class="txBt" style="border-bottom: none">
            <span class="txLf">Address:</span
            ><span class="txMuLf">{{
              finalCalculations?.personalInfo?.Address
            }}</span>
          </div>

          <hr />
          <!-- status -->
          <div
            *ngIf="finalCalculations?.personalInfo?.Status"
            class="txBt"
            style="border-bottom: none"
          >
            <span class="txLf">Status:</span
            ><span class="txMuLf">{{
              finalCalculations?.personalInfo?.Status === "H"
                ? "HUF"
                : "INDIVIDUAL"
            }}</span>
          </div>
        </div>
        <div class="card__col-xs-12 card__col-sm-4 card__col-md-4">
          <!-- DOB -->
          <div class="txBt">
            <span class="txLf">Date of Birth:</span
            ><span class="txMuLf">{{
              finalCalculations?.personalInfo?.dob | date
            }}</span>
          </div>
          <!-- PAN -->
          <div class="txBt">
            <span class="txLf">PAN Card:</span
            ><span class="txMuLf">{{
              finalCalculations?.personalInfo?.panNumber
            }}</span>
          </div>

          <!-- Email Id  -->
          <div class="txBt">
            <span class="txLf">Email ID:</span
            ><span class="txMuLf">{{
              finalCalculations?.personalInfo?.email
            }}</span>
          </div>
          <!-- ITR Form -->
          <div class="txBt">
            <span class="txLf">ITR Form:</span>
            <span class="txMuLf">{{
              finalCalculations?.personalInfo?.itrType
            }}</span>
          </div>

          <div class="txBt">
            <span class="txLf">Original Ack No:</span>
            <span class="txMuLf">{{
              finalCalculations?.personalInfo?.orgAckNumber
            }}</span>
          </div>

          <!-- Bank  -->
          <div class="txBt" style="border-bottom: none">
            <span class="txLf">Bank Name:</span
            ><span class="txMuLf">{{
              finalCalculations?.personalInfo?.bankName
            }}</span>
            <span class="txLf">Account Number:</span
            ><span class="txMuLf">{{
              finalCalculations?.personalInfo?.bankAccountNumber
            }}</span>
          </div>
          <hr />

          <!-- jurisdiction details for nri, nor  -->
          <div
            class="txBt"
            *ngIf="
              finalCalculations?.personalInfo?.resStatus === 'Non-Resident' ||
              finalCalculations?.personalInfo?.resStatus ===
                'Non-Ordinary Resident'
            "
          >
            <span class="txLf">Jurisdiction of Residence: </span>
            <br />
            <div>
              <table
                class="simple-table"
                *ngIf="
                  finalCalculations?.personalInfo?.JurisdictionResPrevYrDtls
                "
              >
                <thead>
                  <tr>
                    <th>Sr. No</th>
                    <th>Name</th>
                    <th>TIN Number</th>
                  </tr>
                </thead>
                <tbody>
                  <ng-container
                    *ngFor="
                      let jurisdiction of finalCalculations?.personalInfo
                        ?.JurisdictionResPrevYrDtls;
                      let i = index
                    "
                  >
                    <tr>
                      <td colspan="1">{{ i + 1 }}</td>
                      <td colspan="1">
                        {{ jurisdiction?.JurisdictionResidence }}
                      </td>
                      <td colspan="1">
                        {{ jurisdiction?.TIN }}
                      </td>
                    </tr>
                  </ng-container>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <div class="card__col-xs-12 card__col-sm-4 card__col-md-4">
          <div *ngIf="finalCalculations?.amountPayable > 0">
            <div class="incBx">
              <span class="inTex">Income Tax Payable:</span><br /><br />
              <span class="inNo"
                >{{
                  utilsService.currencyFormatter(
                    finalCalculations?.amountPayable
                  )
                }}.00</span
              >
            </div>
            <p class="paIncTx">
              You must pay the balance tax before proceeding to e-filing. To pay
              your tax
              <a
                href="https://eportal.incometax.gov.in/iec/foservices/#/e-pay-tax-prelogin/user-details"
                target="_new"
                class="LkTx"
                >Click here</a
              >
              and select<br />
              CHALLAN NO/ITNS 280 under NON-TDS/TCS Section
            </p>
          </div>
        </div>

        <div
          class="regime"
          style="background-color: orange; padding: 10px; margin-bottom: 5px"
        >
          {{ ITR_JSON.regime === "NEW" ? "New Tax Regime" : "Old Tax Regime" }}
        </div>

        <div
          class="regime"
          *ngIf="ITR_JSON.itrSummaryJson"
          style="background-color: orange; padding: 10px; margin-bottom: 5px"
        >
          {{
            ITR_JSON.isItrSummaryJsonEdited === true
              ? "Taxbuddy Calculations"
              : "Calculations as per uploaded JSON"
          }}
        </div>

        <div
          class="regime"
          *ngIf="!ITR_JSON.itrSummaryJson"
          style="background-color: orange; padding: 10px; margin-bottom: 5px"
        >
          Taxbuddy Calculations
        </div>

        <div
          class="card__col-xs-12 card__col-sm-4 card__col-md-4"
          style="margin-top: 25px"
          *ngIf="finalCalculations?.amountRefund > 0"
        >
          <div class="incBx">
            <span class="inTex">Income Tax Refund:</span><br /><br />
            <span class="inRef"
              >{{
                utilsService.currencyFormatter(finalCalculations?.amountRefund)
              }}.00</span
            >
          </div>
          <p class="paIncTx">
            Great news...!!! You are getting refund of
            {{
              utilsService.currencyFormatter(finalCalculations?.amountRefund)
            }}.00 of your tax return into your bank account number.
            <b>{{ bankArray?.accountNumber }}</b>
          </p>
        </div>
      </div>

      <div
        *ngIf="finalCalculations?.SeventhProvisio139 === 'Y'"
        class="card__title"
        style="padding: 10px; font-size: 20px"
      >
        Other Details
      </div>

      <div *ngIf="finalCalculations?.SeventhProvisio139 === 'Y'">
        <div class="card__title" style="padding: 10px; font-size: 15px">
          Seventh Provisio Details
        </div>

        <div
          *ngIf="finalCalculations?.AmtSeventhProvisio139i"
          class="bxHed flex justify-between"
          style="margin: 0px; border: 1px solid rgba(59, 130, 246, 0.1)"
        >
          <div>
            Deposited amount or aggregate of amounts exceeding â‚¹ 1 crore in one
            or more current account during the previous year
          </div>
          <div style="float: right">
            {{ finalCalculations?.AmtSeventhProvisio139i }}
          </div>
        </div>

        <div
          *ngIf="finalCalculations?.AmtSeventhProvisio139ii"
          class="bxHed flex justify-between"
          style="margin: 0px; border: 1px solid rgba(59, 130, 246, 0.1)"
        >
          <div>
            Have you incurred expenditure of an amount or aggregate of amount
            exceeding Rs. 2 lakhs for travel to a foreign country for yourself
            or for any other person?
          </div>
          <div style="float: right">
            {{ finalCalculations?.AmtSeventhProvisio139ii }}
          </div>
        </div>

        <div
          *ngIf="finalCalculations?.AmtSeventhProvisio139iii"
          class="bxHed flex justify-between"
          style="margin: 0px; border: 1px solid rgba(59, 130, 246, 0.1)"
        >
          <div>
            Have you incurred expenditure of amount or aggregate of amount
            exceeding Rs. 1 lakh on consumption of electricity during the
            previous year?
          </div>
          <div style="float: right">
            {{ finalCalculations?.AmtSeventhProvisio139iii }}
          </div>
        </div>

        <ng-container *ngIf="finalCalculations?.clauseiv7provisio139iDtls">
          <div
            class="bxHed flex justify-between"
            style="margin: 0px; border: 1px solid rgba(59, 130, 246, 0.1)"
            *ngFor="
              let clauseIV of finalCalculations?.clauseiv7provisio139iDtls;
              let i = index
            "
          >
            <div>
              {{ clauseIV?.clauseiv7provisio139iNature }}
            </div>
            <div style="float: right; width: 25%; text-align: end">
              {{ clauseIV?.clauseiv7provisio139iAmount }}
            </div>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
  <br />
  <hr />
  <app-update-status [userId]="ITR_JSON.userId"></app-update-status>
  <hr />
  <!-- <div _ngcontent-c4="" class="sub_btn mvBtU"><button _ngcontent-c4="" class="btn prvBut"
        routerlink="/warning" type="button" tabindex="0" ng-reflect-router-link="/warning">Previous</button>
      <button _ngcontent-c4="" class="btn grBut" type="button" style="cursor: pointer;"><i _ngcontent-c4=""
          class="fas fa-download"></i> Download </button></div> -->

  <div class="flex flex-col">
    <div class="sub_btn lwBtDn" *ngIf="show">
      <!-- <button type="button" class="btn prvBut" (click)="previousRoute()"
              [disabled]="isPreviousAvailable()">Previous</button> -->
      <!-- <button type="button" *ngIf="ITR_JSON.eFillingCompleted" routerLink="/taxreturn" class="btn save"> Back
              To My ITR(s)</button> -->

      <!-- <button *ngIf="!ITR_JSON.eFillingCompleted" type="button" (click)="downloadXML()" class="btn grBut"
                [disabled]="taxable && taxable > 0" [style.cursor]="(taxable && taxable > 0) ? 'not-allowed':'pointer'"> <i
                  class="fas fa-download"></i> Download XML</button> -->
      <!-- TODO -->
      <button
        type="button"
        *ngIf="isValidItr"
        (click)="confirmSubmitITR()"
        class="btn grBut pull-right"
        [style.cursor]="!isValidateJson ? 'not-allowed' : 'pointer'"
        style="background-color: red"
        [disabled]="!isValidateJson"
      >
        File ITR
      </button>
      <!-- <button *ngIf="isValidateJson" type="button" (click)="confirmSubmitITR()"
              class="btn grBut pull-right" [disabled]="(taxable && taxable > 0) || isPreviousAvailable()"
              [style.cursor]="((taxable && taxable > 0) || isPreviousAvailable()) ? 'not-allowed':'pointer'"
              style="background-color: red;"> File
              ITR</button> -->
      <!-- <button type="button" (click)="downloadXML()" class="btn grBut" style="background-color: orange;">
              Download XML</button> -->
      <!--  [disabled]="taxable && taxable > 0"  [style.cursor]="(taxable && taxable > 0) ? 'not-allowed':'pointer'"  *ngIf="ITR_JSON.isDefective === 'Y'" -->
      <button type="button" (click)="downloadPDF()" class="btn grBut">
        Download PDF
      </button>
      <button
        type="button"
        class="btn kommBut"
        (click)="sendPdf('kommunicate')"
      >
        Send PDF to Kommunicate
      </button>

      <button
        type="button"
        class="btn whatsAppBut"
        (click)="sendPdf('whatsapp')"
      >
        Send PDF to WhatsApp
      </button>
      <button
        type="button"
        class="btn whatsAppBut"
        style="background-color: #05a3bc; border: #05a3bc solid 1px"
        (click)="downloadJson()"
      >
        Download JSON
      </button>
      <button
        type="button"
        (click)="validateITR()"
        class="btn grBut"
        style="background-color: orange"
      >
        Validate ITR
      </button>
      <button
        *ngIf="
          ITR_JSON.itrSummaryJson &&
          this.utilsService.isNonEmpty(ITR_JSON.itrSummaryJson)
        "
        type="button"
        (click)="updateManually()"
        class="btn grBut"
        style="background-color: #39670b"
      >
        Manual Update
      </button>
    </div>

    <div>
      <div class="flex flex-row justify-between items-start">
        <h3>Computation of Income and Tax</h3>
        <!-- <div>
          <mat-slide-toggle [(ngModel)]="summaryToolChecked"></mat-slide-toggle>
          <span> Use Summary Tool instead </span>
        </div> -->
      </div>
    </div>
  </div>

  <div class="container" *ngIf="show">
    <div class="row">
      <div class="col-sm-12">
        <table>
          <tbody>
            <tr>
              <td colspan="4" class="padding-panel">
                <mat-accordion>
                  <!-- *************** Income from Salary ********************-->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="
                      finalCalculations?.salary?.salaryTotalIncome === 0
                        ? true
                        : false
                    "
                    #salary
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div
                            class="col-lg-8 col-md-8 col-sm-8 col-xs-8 whieTx"
                          >
                            1. Income from Salary
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!salary.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="salary.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>

                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i>&nbsp;
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.salary?.salaryTotalIncome
                                )
                              }}
                            </label>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <div>
                      <table
                        class="table table-bordered table-striped table-hover"
                        style="margin-top: 20px"
                      >
                        <tbody>
                          <tr>
                            <th>Particulars</th>
                            <th
                              *ngFor="
                                let salary of finalCalculations?.salary
                                  ?.employers;
                                let i = index
                              "
                            >
                              Employer {{ i + 1 }}
                            </th>
                          </tr>
                          <tr>
                            <td>1. Employer's Name</td>
                            <td
                              *ngFor="
                                let salary of finalCalculations?.salary
                                  ?.employers;
                                let i = index
                              "
                            >
                              {{
                                utilsService.isNonEmpty(salary.employerName)
                                  ? salary?.employerName
                                  : "Employer " + (i + 1)
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>2. Gross Salary</td>
                            <td
                              *ngFor="
                                let salary of finalCalculations?.salary
                                  ?.employers;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  salary.grossSalary
                                )
                              }}
                              <mat-icon
                                *ngIf="
                                  finalCalculations?.salary?.employers[i]
                                    ?.salaryBifurcations ||
                                  finalCalculations?.salary?.employers[i]
                                    ?.perquisitiesBifurcation ||
                                  finalCalculations?.salary?.employers[i]
                                    ?.profitsInLieuBifurcation
                                "
                                class="arrow-icon"
                                (click)="toggleSalaryBifurcations($event, i)"
                              >
                                keyboard_arrow_down
                              </mat-icon>
                            </td>
                          </tr>

                          <ng-container
                            *ngFor="
                              let salary of finalCalculations?.salary
                                ?.employers;
                              let i = index
                            "
                          >
                            <!-- salary171 -->
                            <ng-container
                              *ngIf="
                                finalCalculations?.salary?.employers[i]
                                  ?.salaryBifurcations
                              "
                            >
                              <tr
                                *ngIf="
                                  finalCalculations?.salary?.employers[i]
                                    ?.salaryBifurcations &&
                                  SalaryBifurcationsExpanded[i]
                                "
                              >
                                <td colspan="1">
                                  {{ "Salary 17(1)" }}
                                </td>
                                <td>
                                  {{
                                    finalCalculations?.salary?.employers[i]
                                      ?.salaryBifurcationsTotal
                                  }}
                                  <mat-icon
                                    class="arrow-icon"
                                    (click)="
                                      toggleSalaryBifurcations171($event, i)
                                    "
                                  >
                                    keyboard_arrow_down
                                  </mat-icon>
                                </td>
                              </tr>

                              <ng-container
                                *ngIf="SalaryBifurcations171Expanded[i]"
                              >
                                <ng-container
                                  *ngFor="
                                    let salaryAllow of finalCalculations?.salary
                                      ?.employers[i]?.salaryBifurcations;
                                    let i = index
                                  "
                                >
                                  <tr>
                                    <td>
                                      {{ i + 1 }}.
                                      {{ salaryAllow?.NatureDesc }}
                                    </td>
                                    <td>{{ salaryAllow?.OthAmount }}</td>
                                  </tr>
                                </ng-container>
                              </ng-container>
                            </ng-container>

                            <!-- salary 172 -->
                            <ng-container
                              *ngIf="
                                finalCalculations?.salary?.employers[i]
                                  ?.perquisitiesBifurcation
                              "
                            >
                              <tr
                                *ngIf="
                                  finalCalculations?.salary?.employers[i]
                                    ?.perquisitiesBifurcation &&
                                  SalaryBifurcationsExpanded[i]
                                "
                              >
                                <td colspan="1">
                                  {{ "Salary 17(2)" }}
                                </td>
                                <td>
                                  {{
                                    finalCalculations?.salary?.employers[i]
                                      ?.perquisitiesBifurcationTotal
                                  }}
                                  <mat-icon
                                    class="arrow-icon"
                                    (click)="
                                      togglePerquisitiesBifurcation($event, i)
                                    "
                                  >
                                    keyboard_arrow_down
                                  </mat-icon>
                                </td>
                              </tr>

                              <ng-container
                                *ngIf="perquisitiesBifurcationExpanded[i]"
                              >
                                <ng-container
                                  *ngFor="
                                    let perqAllow of finalCalculations?.salary
                                      ?.employers[i]?.perquisitiesBifurcation;
                                    let i = index
                                  "
                                >
                                  <tr>
                                    <td>
                                      {{ i + 1 }}.
                                      {{ perqAllow?.NatureDesc }}
                                    </td>
                                    <td>{{ perqAllow?.OthAmount }}</td>
                                  </tr>
                                </ng-container>
                              </ng-container>
                            </ng-container>

                            <!-- salary171 -->
                            <ng-container
                              *ngIf="
                                finalCalculations?.salary?.employers[i]
                                  ?.profitsInLieuBifurcation
                              "
                            >
                              <tr
                                *ngIf="
                                  finalCalculations?.salary?.employers[i]
                                    ?.profitsInLieuBifurcation &&
                                  SalaryBifurcationsExpanded[i]
                                "
                              >
                                <td colspan="1">
                                  {{ "Salary 17(3)" }}
                                </td>
                                <td>
                                  {{
                                    finalCalculations?.salary?.employers[i]
                                      ?.profitsInLieuBifurcationTotal
                                  }}
                                  <mat-icon
                                    class="arrow-icon"
                                    (click)="
                                      toggleProfitsInLieuBifurcation($event, i)
                                    "
                                  >
                                    keyboard_arrow_down
                                  </mat-icon>
                                </td>
                              </tr>

                              <ng-container
                                *ngIf="profitsInLieuBifurcationExpanded[i]"
                              >
                                <ng-container
                                  *ngFor="
                                    let salaryAllow of finalCalculations?.salary
                                      ?.employers[i]?.profitsInLieuBifurcation;
                                    let i = index
                                  "
                                >
                                  <tr>
                                    <td>
                                      {{ i + 1 }}.
                                      {{ salaryAllow?.NatureDesc }}
                                    </td>
                                    <td>{{ salaryAllow?.OthAmount }}</td>
                                  </tr>
                                </ng-container>
                              </ng-container>
                            </ng-container>
                          </ng-container>

                          <tr>
                            <td>3. Less: Exempt Allowance</td>
                            <td
                              *ngFor="
                                let salary of finalCalculations?.salary
                                  ?.employers;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  salary.exemptAllowance
                                )
                              }}
                              <mat-icon
                                *ngIf="
                                  finalCalculations?.salary?.employers[i]
                                    ?.exemptAllowances
                                "
                                class="arrow-icon"
                                (click)="toggleExemptAllowance($event, i)"
                              >
                                keyboard_arrow_down
                              </mat-icon>
                            </td>
                          </tr>
                          <ng-container
                            *ngFor="
                              let salary of finalCalculations?.salary
                                ?.employers;
                              let i = index
                            "
                          >
                            <ng-container
                              *ngIf="
                                exemptAllowanceExpanded[i] &&
                                finalCalculations?.salary?.employers[i]
                                  ?.exemptAllowances
                              "
                            >
                              <ng-container
                                *ngFor="
                                  let salaryAllow of finalCalculations?.salary
                                    ?.employers[i]?.exemptAllowances;
                                  let i = index
                                "
                              >
                                <tr>
                                  <td>
                                    {{ i + 1 }}.
                                    {{ salaryAllow?.SalNatureDesc }}
                                  </td>
                                  <td>{{ salaryAllow?.SalOthAmount }}</td>
                                </tr>
                              </ng-container>
                            </ng-container>
                          </ng-container>
                          <tr>
                            <td>4. Less: Professional Tax</td>
                            <td
                              *ngFor="
                                let salary of finalCalculations?.salary
                                  ?.employers;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  salary.professionalTax
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>5. Less: Entertainment Allowance</td>
                            <td
                              *ngFor="
                                let salary of finalCalculations?.salary
                                  ?.employers;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  salary.entAllowance
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>5. Less: Relief u/s 89A</td>
                            <td
                              *ngFor="
                                let salary of finalCalculations?.salary
                                  ?.employers;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  salary.Increliefus89A
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>6. Less: Standard Deduction</td>
                            <td
                              *ngFor="
                                let salary of finalCalculations?.salary
                                  ?.employers;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  salary.standardDeduction
                                )
                              }}
                            </td>
                          </tr>

                          <tr>
                            <th>7. Taxable Salary</th>
                            <td
                              *ngFor="
                                let salary of finalCalculations?.salary
                                  ?.employers;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  salary.taxableSalary
                                )
                              }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </mat-expansion-panel>

                  <!-- *******************Income from House Property ************************** -->
                  <mat-expansion-panel class="color-panel accordion-border" #HP>
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            2. Income from House Property
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr">
                              <mat-icon *ngIf="!HP.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="HP.expanded"
                                >keyboard_arrow_up</mat-icon
                              >
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.houseProperties
                                    ?.hpTotalIncome
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <div>
                      <table
                        class="table table-bordered table-striped table-hover"
                        style="margin-top: 20px"
                      >
                        <tbody>
                          <tr>
                            <th>Particulars</th>
                            <th
                              *ngFor="
                                let hp of finalCalculations?.houseProperties
                                  ?.houseProps;
                                let i = index
                              "
                            >
                              {{ hp.typeOfHp }}
                            </th>
                          </tr>
                          <tr>
                            <td>1. Gross Rent Received</td>
                            <td
                              *ngFor="
                                let hp of finalCalculations?.houseProperties
                                  ?.houseProps;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  hp.grossRentReceived
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>2. Taxes Paid</td>
                            <td
                              *ngFor="
                                let hp of finalCalculations?.houseProperties
                                  ?.houseProps;
                                let i = index
                              "
                            >
                              Rs
                              {{ utilsService.currencyFormatter(hp.taxesPaid) }}
                            </td>
                          </tr>
                          <tr>
                            <td>3. Annual Value (1-2)</td>
                            <td
                              *ngFor="
                                let hp of finalCalculations?.houseProperties
                                  ?.houseProps;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(hp.annualValue)
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>4. Standard Deduction @30%</td>
                            <td
                              *ngFor="
                                let hp of finalCalculations?.houseProperties
                                  ?.houseProps;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  hp.hpStandardDeduction
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>5. Arrears unrealized rent received</td>
                            <td
                              *ngFor="
                                let hp of finalCalculations?.houseProperties
                                  ?.houseProps;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  hp.ArrearsUnrealizedRentRcvd
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>5. Interest On Home Loan</td>
                            <td
                              *ngFor="
                                let hp of finalCalculations?.houseProperties
                                  ?.houseProps;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(hp.hpinterest)
                              }}
                            </td>
                          </tr>
                          <tr>
                            <th>6. Net Income (3-4-5)</th>
                            <td
                              *ngFor="
                                let hp of finalCalculations?.houseProperties
                                  ?.houseProps;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(hp.hpNetIncome)
                              }}
                            </td>
                          </tr>
                          <tr *ngIf="hpPtiValue">
                            <th>7. Income from PTI</th>
                            <td>
                              Rs
                              {{ hpPtiValue }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </mat-expansion-panel>

                  <!-- ************************** Income from Business ****************************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    #business
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            3. Income from Business
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr">
                              <mat-icon *ngIf="!business.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="business.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.businessIncome
                                    ?.businessIncomeTotal ||
                                    finalCalculations?.businessIncome
                                      ?.businessIncomeTotal === 0
                                    ? finalCalculations?.businessIncome
                                        ?.businessIncomeTotal +
                                        finalCalculations?.businessIncome
                                          ?.businessIncomeDetails
                                          ?.totalCryptoIncome
                                    : 0
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <!-- spec non-spec -->
                    <div>
                      <table
                        class="table table-bordered table-striped table-hover"
                        style="margin-top: 20px"
                        *ngIf="
                          (finalCalculations?.businessIncome
                            ?.businessIncomeDetails?.nonSpecIncome
                            ?.grossTurnover &&
                            finalCalculations?.businessIncome
                              ?.businessIncomeDetails?.nonSpecIncome
                              ?.grossTurnover !== 0) ||
                          finalCalculations?.businessIncome
                            ?.businessIncomeDetails?.nonSpecIncomePl
                        "
                      >
                        <tbody>
                          <tr>
                            <th>Business section</th>
                            <th>Nature Of Business Code</th>
                            <th>Trade Name</th>
                            <th>Gross Turnover/Receipt</th>
                            <th>Taxable Income</th>
                          </tr>
                        </tbody>
                        <!-- Non speculative Income  -->
                        <tr
                          *ngIf="
                            finalCalculations?.businessIncome
                              ?.businessIncomeDetails?.nonSpecIncome
                              ?.grossTurnover &&
                            finalCalculations?.businessIncome
                              ?.businessIncomeDetails?.nonSpecIncome
                              ?.grossTurnover !== 0
                          "
                        >
                          <td>
                            {{
                              finalCalculations?.businessIncome
                                ?.businessIncomeDetails?.nonSpecIncome
                                ?.businessSection
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.businessIncome
                                ?.businessIncomeDetails?.nonSpecIncome
                                ?.natureOfBusinessCode
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.businessIncome
                                ?.businessIncomeDetails?.nonSpecIncome
                                ?.tradeName
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.businessIncome
                                ?.businessIncomeDetails?.nonSpecIncome
                                ?.grossTurnover
                            }}
                          </td>
                          <td>
                            {{
                              utilsService.currencyFormatter(
                                finalCalculations?.businessIncome
                                  ?.businessIncomeDetails?.nonSpecIncome
                                  ?.TaxableIncome
                              )
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            finalCalculations?.businessIncome
                              ?.businessIncomeDetails?.nonSpecIncomePl
                          "
                        >
                          <td colspan="4">P&L details</td>
                          <td>
                            {{
                              utilsService.currencyFormatter(
                                finalCalculations?.businessIncome
                                  ?.businessIncomeDetails?.nonSpecIncomePl
                              )
                            }}
                          </td>
                        </tr>

                        <!-- speculative Income  -->

                        <tr
                          *ngIf="
                            finalCalculations?.businessIncome
                              ?.businessIncomeDetails?.specIncome
                              ?.grossTurnover &&
                            finalCalculations?.businessIncome
                              ?.businessIncomeDetails?.specIncome
                              ?.grossTurnover !== 0
                          "
                        >
                          <td>
                            {{
                              finalCalculations?.businessIncome
                                ?.businessIncomeDetails?.specIncome
                                ?.businessSection
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.businessIncome
                                ?.businessIncomeDetails?.specIncome
                                ?.natureOfBusinessCode
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.businessIncome
                                ?.businessIncomeDetails?.specIncome?.tradeName
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              finalCalculations?.businessIncome
                                ?.businessIncomeDetails?.specIncome
                                ?.grossTurnover
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                finalCalculations?.businessIncome
                                  ?.businessIncomeDetails?.specIncome
                                  ?.TaxableIncome
                              )
                            }}
                          </td>
                        </tr>
                      </table>
                    </div>

                    <div>
                      <table
                        class="table table-bordered table-striped table-hover"
                        style="margin-top: 20px"
                        *ngIf="
                          finalCalculations?.businessIncome
                            ?.businessIncomeDetails?.business44AD?.length > 0 ||
                          finalCalculations?.businessIncome
                            ?.businessIncomeDetails?.business44ADA?.length >
                            0 ||
                          (finalSummary?.assessment?.summaryIncome
                            ?.summaryBusinessIncome.totalIncomeFromFirm &&
                            finalSummary?.assessment?.summaryIncome
                              ?.summaryBusinessIncome.totalIncomeFromFirm !== 0)
                        "
                      >
                        <tbody>
                          <tr>
                            <th>Section No.</th>
                            <th>Nature Of Business Code</th>
                            <th>Trade Name</th>
                            <th>Description</th>
                            <th>Gross Turnover/Receipt</th>
                            <th>Taxable Income</th>
                          </tr>

                          <!-- businessIncome - bank  -->
                          <ng-container
                            *ngIf="
                              finalCalculations?.businessIncome
                                ?.businessIncomeDetails?.business44AD?.length >
                              0
                            "
                          >
                            <tr
                              *ngFor="
                                let business of finalCalculations
                                  ?.businessIncome?.businessIncomeDetails
                                  ?.business44AD
                              "
                            >
                              <ng-container
                                *ngIf="
                                  business.grossTurnover > 0 &&
                                  business.TaxableIncome > 0
                                "
                              >
                                <td>
                                  {{ business?.businessSection }}
                                </td>
                                <td>
                                  {{ business?.natureOfBusinessCode }} -
                                  {{ business?.natureOfBusinessCodeName }}
                                </td>
                                <td>{{ business?.tradeName }}</td>
                                <td>{{ business?.description }}</td>
                                <td>Rs {{ business?.grossTurnover }}</td>
                                <td>
                                  Rs
                                  {{ business?.TaxableIncome }}
                                </td>
                              </ng-container>
                            </tr>
                          </ng-container>

                          <!-- professionalIncome  -->
                          <ng-container
                            *ngIf="
                              finalCalculations?.businessIncome
                                ?.businessIncomeDetails?.business44ADA?.length >
                              0
                            "
                          >
                            <tr
                              *ngFor="
                                let business of finalCalculations
                                  ?.businessIncome?.businessIncomeDetails
                                  ?.business44ADA
                              "
                            >
                              <ng-container
                                *ngIf="
                                  business.grossTurnover > 0 ||
                                  business.TaxableIncome > 0
                                "
                              >
                                <td>
                                  {{ business?.businessSection }}
                                </td>
                                <td>
                                  {{ business?.natureOfBusinessCode }} -
                                  {{ business?.natureOfBusinessCodeName }}
                                </td>
                                <td>{{ business?.tradeName }}</td>
                                <td>{{ business?.description }}</td>
                                <td>Rs {{ business?.grossTurnover }}</td>
                                <td>
                                  Rs
                                  {{ business?.TaxableIncome }}
                                </td>
                              </ng-container>
                            </tr>
                          </ng-container>

                          <ng-container
                            *ngIf="
                              finalSummary?.assessment?.summaryIncome
                                ?.summaryBusinessIncome.totalIncomeFromFirm &&
                              finalSummary?.assessment?.summaryIncome
                                ?.summaryBusinessIncome.totalIncomeFromFirm !==
                                0
                            "
                          >
                            <tr>
                              <td>Income From Firm</td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td>
                                Rs
                                {{
                                  utilsService.currencyFormatter(
                                    finalSummary?.assessment?.summaryIncome
                                      ?.summaryBusinessIncome
                                      .totalIncomeFromFirm
                                  )
                                }}
                              </td>
                            </tr>
                          </ng-container>
                        </tbody>
                      </table>
                    </div>

                    <div
                      class="bxHed"
                      *ngIf="
                        finalSummary?.assessment?.summaryIncome
                          ?.summaryBusinessIncome.totalIncomeFromFirm &&
                        finalSummary?.assessment?.summaryIncome
                          ?.summaryBusinessIncome.totalIncomeFromFirm !== 0
                      "
                    >
                      Partner's Remuneration
                      <span style="float: right">{{
                        finalSummary?.assessment?.summaryIncome
                          ?.summaryBusinessIncome.totalIncomeFromFirm
                      }}</span>
                    </div>

                    <div
                      *ngIf="
                        finalSummary?.assessment?.summaryIncome
                          ?.summaryBusinessIncome.totalIncomeFromFirm &&
                        finalSummary?.assessment?.summaryIncome
                          ?.summaryBusinessIncome.totalIncomeFromFirm !== 0
                      "
                    >
                      <table
                        class="table table-bordered table-striped table-hover"
                        style="margin-top: 20px"
                      >
                        <tbody>
                          <tr>
                            <th>Salary</th>
                            <th>Bonus</th>
                            <th>Commission</th>
                            <th>Interest</th>
                            <th>Others</th>
                          </tr>
                          <ng-container
                            *ngIf="
                              finalSummary?.assessment?.summaryIncome
                                ?.summaryBusinessIncome.totalIncomeFromFirm !==
                              0
                            "
                          >
                            <tr>
                              <td>
                                Rs
                                {{
                                  utilsService.currencyFormatter(
                                    finalCalculations?.businessIncome
                                      ?.businessIncomeDetails?.incomeFromFirm
                                      .salary
                                  )
                                }}
                              </td>
                              <td>
                                Rs
                                {{
                                  utilsService.currencyFormatter(
                                    finalCalculations?.businessIncome
                                      ?.businessIncomeDetails?.incomeFromFirm
                                      .bonus
                                  )
                                }}
                              </td>
                              <td>
                                Rs
                                {{
                                  utilsService.currencyFormatter(
                                    finalCalculations?.businessIncome
                                      ?.businessIncomeDetails?.incomeFromFirm
                                      .commission
                                  )
                                }}
                              </td>
                              <td>
                                Rs
                                {{
                                  utilsService.currencyFormatter(
                                    finalCalculations?.businessIncome
                                      ?.businessIncomeDetails?.incomeFromFirm
                                      .interest
                                  )
                                }}
                              </td>
                              <td>
                                Rs
                                {{
                                  utilsService.currencyFormatter(
                                    finalCalculations?.businessIncome
                                      ?.businessIncomeDetails?.incomeFromFirm
                                      .others
                                  )
                                }}
                              </td>
                            </tr>
                          </ng-container>
                        </tbody>
                      </table>
                    </div>

                    <!-- crypto gains  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.businessIncome?.businessIncomeDetails
                          ?.crypto?.cryptoDetails?.length > 0
                      "
                    >
                      Income from crypto
                      <span style="float: right">{{
                        finalCalculations?.businessIncome?.businessIncomeDetails
                          ?.totalCryptoIncome
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.businessIncome?.businessIncomeDetails
                          ?.crypto?.cryptoDetails &&
                        finalCalculations?.businessIncome?.businessIncomeDetails
                          ?.crypto?.cryptoDetails?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Sr. No</th>
                          <th style="font-weight: bold">Head of income</th>
                          <th style="font-weight: bold">Buy Value</th>
                          <th style="font-weight: bold">Sale Value</th>
                          <th style="font-weight: bold">Income</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.businessIncome
                              ?.businessIncomeDetails?.crypto?.cryptoDetails;
                            let i = index
                          "
                        >
                          <td>{{ slabRate?.srNo }}</td>
                          <td>
                            {{ slabRate?.headOfIncome }}
                          </td>
                          <td>
                            Rs
                            {{ slabRate?.buyValue }}
                          </td>
                          <td>
                            Rs
                            {{ slabRate?.SaleValue }}
                          </td>
                          <td>
                            Rs
                            {{ slabRate?.income }}
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <!-- 44ae  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.businessIncome?.businessIncomeDetails
                          ?.business44AE?.businessDetails?.length > 0
                      "
                    >
                      Presumptive Income 44AE
                      <span style="float: right">{{
                        finalCalculations?.businessIncome?.businessIncomeDetails
                          ?.business44AE?.totalPresInc
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.businessIncome?.businessIncomeDetails
                          ?.business44AE?.businessDetails?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Sr. No</th>
                          <th style="font-weight: bold">Section</th>
                          <th style="font-weight: bold">Name of Business</th>
                          <th style="font-weight: bold">Business Code</th>
                          <th style="font-weight: bold">Description</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let businessDetail of finalCalculations
                              ?.businessIncome?.businessIncomeDetails
                              ?.business44AE?.businessDetails;
                            let i = index
                          "
                        >
                          <td>{{ i + 1 }}</td>
                          <td>
                            {{ businessDetail?.businessSection }}
                          </td>
                          <td>
                            {{ businessDetail?.NameOfBusiness }}
                          </td>
                          <td>
                            {{ businessDetail?.CodeAE }} -
                            {{ businessDetail?.natureOfBusinessCodeName }}
                          </td>
                          <td>
                            {{ businessDetail?.description }}
                          </td>
                        </tr>

                        <!-- 44ae income details  -->
                        <ng-container
                          *ngIf="
                            finalCalculations?.businessIncome
                              ?.businessIncomeDetails?.business44AE
                              ?.GoodsDtlsUs44AE?.length > 0
                          "
                        >
                          <tr>
                            <th class="bxHed">44AE Income Details</th>
                            <th class="bxHed"></th>
                            <th class="bxHed"></th>
                            <th class="bxHed"></th>
                            <th class="bxHed"></th>
                          </tr>
                          <tr>
                            <th style="font-weight: bold; width: 20%">
                              Registration no. of goods carriage
                            </th>
                            <th style="font-weight: bold; width: 20%">
                              Whether owned/leased/hired
                            </th>
                            <th style="font-weight: bold; width: 20%">
                              Tonnage capacity of goods carriage
                            </th>
                            <th style="font-weight: bold; width: 20%">
                              Number of months
                            </th>
                            <th style="font-weight: bold; width: 20%">
                              Presumptive Income
                            </th>
                          </tr>
                          <tr
                            *ngFor="
                              let businessDetail of finalCalculations
                                ?.businessIncome?.businessIncomeDetails
                                ?.business44AE?.GoodsDtlsUs44AE
                            "
                          >
                            <td>
                              {{ businessDetail?.RegNumberGoodsCarriage }}
                            </td>
                            <td>
                              {{ businessDetail?.OwnedLeasedHiredFlag }}
                            </td>
                            <td>
                              {{ businessDetail?.TonnageCapacity }}
                            </td>
                            <td>{{ businessDetail?.HoldingPeriod }}</td>
                            <td>{{ businessDetail?.PresumptiveIncome }}</td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>
                  </mat-expansion-panel>

                  <!-- ************************** Income from Capital Gain ****************************** -->
                  <!-- <mat-expansion-panel
                    class="color-panel accordion-border"
                    #CG
                  >
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            4. Income from Capital Gain
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!CG.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="CG.expanded"
                                >keyboard_arrow_up</mat-icon
                              >
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  keys?.TotalCapGains
                                    ? keys?.TotalCapGains
                                    : summaryDetail?.capitalGain
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header> -->
                  <!-- <label>Short term</label> -->
                  <!-- Content goes here -->
                  <!-- <div class="bxHed" *ngIf="slab(-1, 'INPUT').length > 0">
                      Short term capital gain @ slab rate
                      <span style="float: right">{{
                        keys?.ShortTermAppRate
                          ? keys?.ShortTermAppRate
                          : getSlabWiseTotal(-1)
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="slab(-1, 'INPUT').length > 0"
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th> -->
                  <!-- <th style="font-weight:bold;">Description</th> -->
                  <!-- <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of slab(-1, 'INPUT');
                            let i = index
                          "
                        >
                          <td>{{ getNameFromCode(slabRate?.assetType) }}</td> -->
                  <!-- <td>{{slabRate.description}}</td> -->
                  <!-- <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(slabRate?.cgIncome)
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                getTotalInvestments(slabRate)
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.cgIncome -
                                  getTotalInvestments(slabRate)
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <div class="bxHed" *ngIf="slab(15, 'INPUT').length > 0">
                      Short term capital gain @ 15%
                      <span style="float: right">{{
                        keys?.ShortTerm15Per
                          ? keys?.ShortTerm15Per
                          : getSlabWiseTotal(15)
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="slab(15, 'INPUT').length > 0"
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th> -->
                  <!-- <th style="font-weight:bold;">Description</th> -->
                  <!-- <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of slab(15, 'INPUT');
                            let i = index
                          "
                        >
                          <td>{{ getNameFromCode(slabRate?.assetType) }}</td> -->
                  <!-- <td>{{slabRate.description}}</td> -->
                  <!-- <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(slabRate?.cgIncome)
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                getTotalInvestments(slabRate)
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.cgIncome -
                                  getTotalInvestments(slabRate)
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table> -->

                  <!-- <div class="bxHed" *ngIf="slab(10, 'INPUT').length > 0">
                      Long term capital gain @ 10%
                      <span style="float: right">{{
                        keys?.LongTerm10Per
                          ? keys?.LongTerm10Per
                          : getSlabWiseTotal(10)
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="slab(10, 'INPUT').length > 0"
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th> -->
                  <!-- <th style="font-weight:bold;">Description</th> -->
                  <!-- <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of slab(10, 'INPUT');
                            let i = index
                          "
                        >
                          <td>{{ getNameFromCode(slabRate?.assetType) }}</td> -->
                  <!-- <td>{{slabRate.description}}</td> -->
                  <!-- <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(slabRate?.cgIncome)
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                getTotalInvestments(slabRate)
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.cgIncome -
                                  getTotalInvestments(slabRate)
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table> -->

                  <!-- <div class="bxHed" *ngIf="slab(20, 'INPUT').length > 0">
                      Long term capital gain @ 20%
                      <span style="float: right">{{
                        keys?.LongTerm20Per
                          ? keys?.LongTerm20Per
                          : getSlabWiseTotal(20)
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="slab(20, 'INPUT').length > 0"
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th> -->
                  <!-- <th style="font-weight:bold;">Description</th> -->
                  <!-- <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of slab(20, 'INPUT');
                            let i = index
                          "
                        >
                          <td>{{ getNameFromCode(slabRate?.assetType) }}</td> -->
                  <!-- <td>{{slabRate.description}}</td> -->
                  <!-- <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(slabRate?.cgIncome)
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                getTotalInvestments(slabRate)
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.cgIncome -
                                  getTotalInvestments(slabRate)
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table> -->

                  <!-- Content goes here -->
                  <!-- <table class="table" style="width: 100%">
                      <tbody> -->
                  <!--  <tr *ngFor="let cg of capitalGain.capitalGain;let i=index">
                            <td>{{displayLabel(cg.taxRate)}}</td>
                            <td class="tbl-lbl-right">
                              <i
                                class="material-icons icRup">&#8377;</i>&nbsp;{{totalCg(cg.cgIncome,cg.belAdjustmentAmount,cg.setOffAmount,cg.hpSetOff ,cg.pastYearSetOffAmount)}}
                            </td>
                          </tr> -->
                  <!-- <tr>
                              <td>Short-term chargeable at application rate</td>
                              <td class="tbl-lbl-right">
                                <i class="material-icons"
                                  style="font-size:15px;">&#8377;</i>&nbsp;{{capitalGain.summaryBucketCGST.bucketCGSTsAR.finalTotalTaxableIncome}}
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <label>Total short-term</label>
                              </td>
                              <td class="tbl-lbl-right">
                                <i class="material-icons"
                                  style="font-size:15px;">&#8377;</i>&nbsp;{{capitalGain.summaryBucketCGST.taxableIncome}}
                              </td>
                            </tr> -->
                  <!-- </tbody>
                    </table> -->
                  <!-- <hr> -->
                  <!-- <label>Long term</label> -->
                  <!-- <table class="table" style="width:100%">
                          <tbody>
                            <tr>
                              <td>Long-term chargeable at 10%</td>
                              <td class="tbl-lbl-right">
                                <i class="material-icons"
                                  style="font-size:15px;">&#8377;</i>&nbsp;{{capitalGain.summaryBucketCGLT.bucket10s.finalTotalTaxableIncome}}
                              </td>
                            </tr>
                            <tr>
                              <td>Long-term chargeable at 20%</td>
                              <td class="tbl-lbl-right">
                                <i class="material-icons"
                                  style="font-size:15px;">&#8377;</i>&nbsp;{{capitalGain.summaryBucketCGLT.bucket20s.finalTotalTaxableIncome}}
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <label>Total long-term</label>
                              </td>
                              <td class="tbl-lbl-right">
                                <i class="material-icons"
                                  style="font-size:15px;">&#8377;</i>&nbsp;{{capitalGain.summaryBucketCGLT.taxableIncome}}
                              </td>
                            </tr>
                          </tbody>
                        </table> -->
                  <!-- </mat-expansion-panel> -->

                  <!-- ************************** Income from Capital Gain ****************************** -->
                  <mat-expansion-panel class="color-panel accordion-border" #CG>
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            4. Income from Capital Gain
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!CG.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="CG.expanded"
                                >keyboard_arrow_up</mat-icon
                              >
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.capitalGain
                                    ?.totalCapitalGain -
                                    finalCalculations?.businessIncome
                                      ?.businessIncomeDetails?.totalCryptoIncome
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <!-- short term -1 slab rate  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTermAppSlabRate?.length > 0
                      "
                    >
                      Short term capital gain @ slab rate
                      <span style="float: right">{{
                        utilsService.currencyFormatter(
                          finalCalculations?.capitalGain?.shortTerm
                            ?.ShortTermAppSlabRateTotal
                        )
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTermAppSlabRate?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th>
                          <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.capitalGain
                              ?.shortTerm?.ShortTermAppSlabRate;
                            let i = index
                          "
                        >
                          <td>{{ slabRate?.nameOfAsset }}</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.capitalGain
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.Deduction
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.netCapitalGain
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <!-- Deemed short term gain -->
                    <div
                      class="bxHed"
                      style="margin-top: 0px"
                      *ngIf="
                        finalCalculations?.capitalGain?.shortTerm
                          ?.shortTermDeemed?.length > 0
                      "
                    >
                      Total amount deemed to be short term capital gain @ slab
                      rate
                      <span style="float: right">{{
                        finalCalculations?.capitalGain?.shortTerm
                          ?.TotalAmtDeemedStcg
                      }}</span>
                    </div>

                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.capitalGain?.shortTerm
                          ?.shortTermDeemed?.length > 0
                      "
                      style="margin-bottom: 0px"
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Sr. No</th>
                          <th style="font-weight: bold">
                            Previous year in which asset transferred
                          </th>
                          <th style="font-weight: bold">
                            Section under which deduction claimed in that year
                          </th>
                          <th style="font-weight: bold">
                            Year in which asset is constructed
                          </th>
                          <th style="font-weight: bold">
                            Amount utilised out of capital gains account
                          </th>
                          <th style="font-weight: bold">
                            Amount not used for new asset or remained unutilised
                            in capital gains account
                          </th>
                        </tr>
                      </thead>

                      <tbody>
                        <tr
                          *ngFor="
                            let deemedInc of finalCalculations?.capitalGain
                              ?.shortTerm?.shortTermDeemed;
                            let i = index
                          "
                        >
                          <td>{{ i + 1 }}</td>
                          <td>
                            {{ deemedInc?.PrvYrInWhichAsstTrnsfrd }}
                          </td>
                          <td>
                            Rs.
                            {{ deemedInc?.SectionClmd }}
                          </td>
                          <td>
                            Rs.
                            {{ deemedInc?.YrInWhichAssetAcq }}
                          </td>
                          <td>
                            Rs.
                            {{ deemedInc?.AmtUtilized }}
                          </td>
                          <td>
                            Rs.
                            {{ deemedInc?.AmtUnutilized }}
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <div
                      class="bxHed"
                      style="margin-top: 0px"
                      *ngIf="
                        finalCalculations?.capitalGain?.shortTerm
                          ?.shortTermDeemed?.length > 0
                      "
                    >
                      Amount deemed to be short term capital gain
                      <span style="float: right">{{
                        finalCalculations?.capitalGain?.shortTerm?.AmtDeemedStcg
                      }}</span>
                    </div>

                    <!-- short term -15 rate  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTerm15Per?.length > 0
                      "
                    >
                      Short term capital gain @ 15% rate
                      <span style="float: right">{{
                        utilsService.currencyFormatter(
                          finalCalculations?.capitalGain?.shortTerm
                            ?.ShortTerm15PerTotal
                        )
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTerm15Per?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th>
                          <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.capitalGain
                              ?.shortTerm?.ShortTerm15Per;
                            let i = index
                          "
                        >
                          <td>{{ slabRate?.nameOfAsset }}</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.capitalGain
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.Deduction
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.netCapitalGain
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                    <!-- short term 30 rate  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTerm30Per?.length > 0 &&
                        this.utilsService.isNonEmpty(
                          this.ITR_JSON.itrSummaryJson
                        ) &&
                        this.ITR_JSON.isItrSummaryJsonEdited === false
                      "
                    >
                      Short term capital gain @ 30% rate
                      <span style="float: right">{{
                        utilsService.currencyFormatter(
                          finalCalculations?.capitalGain?.shortTerm
                            ?.ShortTerm30PerTotal
                        )
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTerm30Per?.length > 0 &&
                        this.utilsService.isNonEmpty(
                          this.ITR_JSON.itrSummaryJson
                        ) &&
                        this.ITR_JSON.isItrSummaryJsonEdited === false
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th>
                          <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.capitalGain
                              ?.shortTerm?.ShortTerm30Per;
                            let i = index
                          "
                        >
                          <td>{{ slabRate?.nameOfAsset }}</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.capitalGain
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.Deduction
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.netCapitalGain
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <!-- short term special rate  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTermSplRateDTAA?.length > 0 &&
                        this.utilsService.isNonEmpty(
                          this.ITR_JSON.itrSummaryJson
                        ) &&
                        this.ITR_JSON.isItrSummaryJsonEdited === false
                      "
                    >
                      Short term capital gain @ special rate
                      <span style="float: right">{{
                        utilsService.currencyFormatter(
                          finalCalculations?.capitalGain?.shortTerm
                            ?.ShortTermSplRateDTAATotal
                        )
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTermSplRateDTAA?.length > 0 &&
                        this.utilsService.isNonEmpty(
                          this.ITR_JSON.itrSummaryJson
                        ) &&
                        this.ITR_JSON.isItrSummaryJsonEdited === false
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th>
                          <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.capitalGain
                              ?.shortTerm?.ShortTermSplRateDTAA;
                            let i = index
                          "
                        >
                          <td>{{ slabRate?.nameOfAsset }}</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.capitalGain
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.Deduction
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.netCapitalGain
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <!-- long term 10 rate  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.capitalGain?.longTerm?.LongTerm10Per
                          .length > 0
                      "
                    >
                      Long term capital gain @ 10% rate
                      <span style="float: right">{{
                        utilsService.currencyFormatter(
                          finalCalculations?.capitalGain?.longTerm
                            ?.LongTerm10PerTotal
                        )
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.capitalGain?.longTerm?.LongTerm10Per
                          .length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th>
                          <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.capitalGain
                              ?.longTerm?.LongTerm10Per;
                            let i = index
                          "
                        >
                          <td>{{ slabRate?.nameOfAsset }}</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.capitalGain
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.Deduction
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.netCapitalGain
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <!-- long term 20 rate  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.capitalGain?.longTerm?.LongTerm20Per
                          ?.length > 0
                      "
                    >
                      Long term capital gain @ 20% rate
                      <span style="float: right">{{
                        utilsService.currencyFormatter(
                          finalCalculations?.capitalGain?.longTerm
                            ?.LongTerm20PerTotal
                        )
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.capitalGain?.longTerm?.LongTerm20Per
                          ?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th>
                          <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.capitalGain
                              ?.longTerm?.LongTerm20Per;
                            let i = index
                          "
                        >
                          <td>{{ slabRate?.nameOfAsset }}</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.capitalGain
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.Deduction
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.netCapitalGain
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <!-- Deemed long term gain -->
                    <div
                      class="bxHed"
                      style="margin-top: 0px"
                      *ngIf="
                        finalCalculations?.capitalGain?.longTerm?.longTermDeemed
                          ?.length > 0
                      "
                    >
                      Total amount deemed to be long term capital gain @ 20%
                      <span style="float: right">{{
                        finalCalculations?.capitalGain?.longTerm
                          ?.TotalAmtDeemedLtcg
                      }}</span>
                    </div>

                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.capitalGain?.longTerm?.longTermDeemed
                          ?.length > 0
                      "
                      style="margin-bottom: 0px"
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Sr. No</th>
                          <th style="font-weight: bold">
                            Previous year in which asset transferred
                          </th>
                          <th style="font-weight: bold">
                            Section under which deduction claimed in that year
                          </th>
                          <th style="font-weight: bold">
                            Year in which asset is constructed
                          </th>
                          <th style="font-weight: bold">
                            Amount utilised out of capital gains account
                          </th>
                          <th style="font-weight: bold">
                            Amount not used for new asset or remained unutilised
                            in capital gains account
                          </th>
                        </tr>
                      </thead>

                      <tbody>
                        <tr
                          *ngFor="
                            let deemedInc of finalCalculations?.capitalGain
                              ?.longTerm?.longTermDeemed;
                            let i = index
                          "
                        >
                          <td>{{ i + 1 }}</td>
                          <td>
                            {{ deemedInc?.PrvYrInWhichAsstTrnsfrd }}
                          </td>
                          <td>
                            Rs.
                            {{ deemedInc?.SectionClmd }}
                          </td>
                          <td>
                            Rs.
                            {{ deemedInc?.YrInWhichAssetAcq }}
                          </td>
                          <td>
                            Rs.
                            {{ deemedInc?.AmtUtilized }}
                          </td>
                          <td>
                            Rs.
                            {{ deemedInc?.AmtUnutilized }}
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <div
                      class="bxHed"
                      style="margin-top: 0px"
                      *ngIf="
                        finalCalculations?.capitalGain?.longTerm?.longTermDeemed
                          ?.length > 0
                      "
                    >
                      Amount deemed to be long term capital gain
                      <span style="float: right">{{
                        finalCalculations?.capitalGain?.longTerm?.AmtDeemedLtcg
                      }}</span>
                    </div>

                    <!-- long term special rate  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.capitalGain?.longTerm
                          ?.LongTermSplRateDTAA?.length > 0 &&
                        this.utilsService.isNonEmpty(
                          this.ITR_JSON.itrSummaryJson
                        ) &&
                        this.ITR_JSON.isItrSummaryJsonEdited === false
                      "
                    >
                      Long term capital gain @ special rate
                      <span style="float: right">{{
                        finalCalculations?.capitalGain?.longTerm
                          ?.LongTermSplRateDTAATotal
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.capitalGain?.longTerm
                          ?.LongTermSplRateDTAA?.length > 0 &&
                        this.utilsService.isNonEmpty(
                          this.ITR_JSON.itrSummaryJson
                        ) &&
                        this.ITR_JSON.isItrSummaryJsonEdited === false
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th>
                          <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.capitalGain
                              ?.longTerm?.LongTermSplRateDTAA;
                            let i = index
                          "
                        >
                          <td>{{ slabRate?.nameOfAsset }}</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.capitalGain
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.Deduction
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.netCapitalGain
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <!-- crypto gains  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.capitalGain?.crypto?.cryptoDetails
                          ?.length > 0
                      "
                    >
                      Income from crypto
                      <span style="float: right">{{
                        utilsService.currencyFormatter(
                          finalCalculations?.capitalGain?.totalCryptoIncome
                        )
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.capitalGain?.crypto?.cryptoDetails
                          ?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Sr. No</th>
                          <th style="font-weight: bold">Head of income</th>
                          <th style="font-weight: bold">Buy Value</th>
                          <th style="font-weight: bold">Sale Value</th>
                          <th style="font-weight: bold">Income</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.capitalGain
                              ?.crypto?.cryptoDetails;
                            let i = index
                          "
                        >
                          <td>{{ slabRate?.srNo }}</td>
                          <td>
                            {{ slabRate?.headOfIncome }}
                          </td>
                          <td>
                            Rs
                            {{ slabRate?.buyValue }}
                          </td>
                          <td>
                            Rs
                            {{ slabRate?.SaleValue }}
                          </td>
                          <td>
                            Rs
                            {{ slabRate?.income }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </mat-expansion-panel>

                  <!-- ***************************** Income from Other Source ***************************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="
                      finalCalculations?.otherIncome?.otherIncomeTotal === 0
                    "
                    #otherIncome
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            5. Income from Other Source
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!otherIncome.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="otherIncome.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome
                                    ?.otherIncomeTotal
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <div>
                      <table
                        class="table table-bordered table-striped table-hover"
                        style="margin-top: 20px"
                      >
                        <tbody>
                          <tr>
                            <th>Particulars</th>
                            <th>Amount</th>
                          </tr>
                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.saving ||
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.intFromDeposit ||
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.taxRefund ||
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.anyOtherInterest
                            "
                          >
                            <th colspan="2">Interest Income</th>
                          </tr>
                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.saving
                            "
                          >
                            <td>Saving Bank Accounts</td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.saving
                                )
                              }}
                            </td>
                          </tr>
                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.intFromDeposit
                            "
                          >
                            <td>Fixed/Recurring Deposits</td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.intFromDeposit
                                )
                              }}
                            </td>
                          </tr>
                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.taxRefund
                            "
                          >
                            <td>Income Tax Refund</td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.taxRefund
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.Qqb80
                            "
                          >
                            <td>Royalty for Books/Author/Publishers (80QQB)</td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.Qqb80
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.Rrb80
                            "
                          >
                            <td>Royalty Against Patent (80RRB)</td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.Rrb80
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.pfInterest1011IP
                            "
                          >
                            <td>
                              Interest accrued on contributions to a provident
                              fund to the extent taxable as per the first
                              proviso to section 10(11)
                            </td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.pfInterest1011IP
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.pfInterest1011IIP
                            "
                          >
                            <td>
                              Interest accrued on contributions to a provident
                              fund to the extent taxable as per the second
                              proviso to section 10(11)
                            </td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.pfInterest1011IIP
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.pfInterest1012IP
                            "
                          >
                            <td>
                              Interest accrued on contributions to a provident
                              fund to the extent taxable as per the first
                              proviso to section 10(12)
                            </td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.pfInterest1012IP
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.pfInterest1012IIP
                            "
                          >
                            <td>
                              Interest accrued on contributions to a provident
                              fund to the extent taxable as per the second
                              proviso to section 10(12)
                            </td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.pfInterest1012IIP
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.dividendIncome ||
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.familyPension
                            "
                          >
                            <th colspan="2">Other Income</th>
                          </tr>
                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.dividendIncome
                            "
                          >
                            <td>Dividend Income</td>

                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.dividendIncome
                                )
                              }}
                            </td>
                          </tr>
                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.familyPension
                            "
                          >
                            <td>Family Pension</td>

                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.familyPension
                                )
                              }}
                            </td>
                          </tr>
                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.winningFromLotteries
                            "
                          >
                            <td>Income from lotteries and winings</td>

                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.winningFromLotteries
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.incFromOwnAndMaintHorses
                            "
                          >
                            <td>
                              Income from owning and maintaining race horses
                            </td>

                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.incFromOwnAndMaintHorses
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.anyOtherInterest
                            "
                          >
                            <td>Any Other Income</td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.anyOtherInterest -
                                    (finalCalculations?.otherIncome
                                      ?.otherIncomes?.winningFromLotteries
                                      ? finalCalculations?.otherIncome
                                          ?.otherIncomes?.winningFromLotteries
                                      : 0)
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.aggregateValueWithoutConsideration ||
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.immovablePropertyInadequateConsideration ||
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.immovablePropertyWithoutConsideration ||
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.anyOtherPropertyInadequateConsideration ||
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.anyOtherPropertyWithoutConsideration
                            "
                          >
                            <th colspan="2">Gift Income</th>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.aggregateValueWithoutConsideration
                            "
                          >
                            <td>Money received without consideration</td>

                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.aggregateValueWithoutConsideration
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.immovablePropertyWithoutConsideration
                            "
                          >
                            <td>
                              Immovable property received without consideration
                            </td>

                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.immovablePropertyWithoutConsideration
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.immovablePropertyInadequateConsideration
                            "
                          >
                            <td>
                              Immovable property received for inadequate
                              consideration
                            </td>

                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.immovablePropertyInadequateConsideration
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.anyOtherPropertyWithoutConsideration
                            "
                          >
                            <td>
                              Any Other property received without consideration
                            </td>

                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.anyOtherPropertyWithoutConsideration
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.anyOtherPropertyInadequateConsideration
                            "
                          >
                            <td>
                              Any Other property received for inadequate
                              consideration
                            </td>

                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.anyOtherPropertyInadequateConsideration
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.NOT89A
                            "
                          >
                            <td>
                              Income from retirement benefit account maintained
                              in a notified country u/s 89A
                            </td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.NOT89A
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.OTHNOT89A
                            "
                          >
                            <td>
                              Income from retirement benefit account maintained
                              in a country other than notified country u/s 89A
                            </td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.OTHNOT89A
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes?.OTH
                            "
                          >
                            <td>
                              Income taxable during the previous year on which
                              relief u/s 89A was claimed in any earlier previous
                              year
                            </td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.OTH
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.Increliefus89AOS
                            "
                          >
                            <td>less: Income relief u/s 89A other source</td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.Increliefus89AOS
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.specialRate
                            "
                          >
                            <td>Income at special rate</td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.specialRate
                                )
                              }}
                            </td>
                          </tr>

                          <tr>
                            <th>Total</th>
                            <th>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome
                                    ?.otherIncomeTotal
                                )
                              }}
                            </th>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </mat-expansion-panel>

                  <!-- ********************** Total Income ********************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            <b> 7. Total Income Head Wise (1+2+3+4+5+6)</b>
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.totalHeadWiseIncome
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- **************************** Losses of Current Year Set Off *************************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="
                      finalCalculations?.currentYearLosses
                        ?.totalCurrentYearSetOff === 0
                    "
                    #setOff
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            8. Losses of Current Year Setoff
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!setOff.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="setOff.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.currentYearLosses
                                    ?.totalCurrentYearSetOff
                                )
                              }}
                            </label>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                    <!-- summary json uploaded -->
                    <table
                      class="table table-bordered table-striped table-hover"
                      style="margin-top: 20px"
                      *ngIf="
                        !ITR_JSON.isItrSummaryJsonEdited &&
                        ITR_JSON.itrSummaryJson
                      "
                    >
                      <tbody>
                        <tr>
                          <td><b>Head/Source of Income</b></td>
                          <td><b>Income of current year</b></td>
                          <td>
                            <b
                              >House Property loss of the current year set
                              off</b
                            >
                          </td>
                          <td>
                            <b>Business loss of the current year set off</b>
                          </td>
                          <td>
                            <b
                              >Other source loss excluding race horse of the
                              current year set off</b
                            >
                          </td>
                          <td>
                            <b>Current years Income remaining after set off</b>
                          </td>
                        </tr>

                        <tr
                          *ngFor="
                            let currentYearLoss of finalCalculations
                              ?.currentYearLosses?.currentYearLossesSetOff;
                            let i = index
                          "
                        >
                          <td>
                            {{ currentYearLoss?.headOfIncome }}
                          </td>
                          <td>
                            {{ currentYearLoss?.currentYearInc }}
                          </td>
                          <td>
                            {{ currentYearLoss?.houseProperty }}
                          </td>
                          <td>
                            {{ currentYearLoss?.businessSetOff }}
                          </td>
                          <td>
                            {{ currentYearLoss?.otherThanHpBusiness }}
                          </td>
                          <td>
                            {{ currentYearLoss?.IncOfCurYrAfterSetOff }}
                          </td>
                        </tr>
                        <tr
                          *ngFor="
                            let currentYearLossTotal of finalCalculations
                              ?.currentYearLosses?.totals;
                            let i = index
                          "
                        >
                          <td>{{ currentYearLossTotal.headOfIncome }}</td>
                          <td></td>
                          <td>{{ currentYearLossTotal.HP }}</td>
                          <td>{{ currentYearLossTotal.BUS }}</td>
                          <td>{{ currentYearLossTotal.OTH }}</td>
                          <td></td>
                        </tr>
                      </tbody>
                    </table>

                    <!-- if json not uploaded -->
                    <table
                      class="table table-bordered table-striped table-hover"
                      style="margin-top: 20px"
                      *ngIf="!ITR_JSON.itrSummaryJson"
                    >
                      <tbody>
                        <tr>
                          <td><b>Head/Source of Income</b></td>
                          <td><b>Income of current year</b></td>
                          <td>
                            <b
                              >House Property loss of the current year set
                              off</b
                            >
                          </td>
                          <td>
                            <b>Business loss of the current year set off</b>
                          </td>
                          <td>
                            <b>Current years Income remaining after set off</b>
                          </td>
                        </tr>

                        <tr>
                          <td>Loss to be set off</td>
                          <td></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i>&nbsp;
                            {{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.totalCurrentYearHpLoss
                              )
                            }}
                          </td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i>&nbsp;
                            {{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.totalCurrentYearBusinessLoss
                              )
                            }}
                          </td>
                          <td></td>
                        </tr>
                        <tr>
                          <td><b>Salaries</b></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.salaryCYLA
                                  .incomeCYLA.currentYearIncome
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.salaryCYLA
                                  .incomeCYLA.hpLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i>&nbsp;
                            0
                          </td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.salaryCYLA
                                  .incomeCYLA.currentYearIncomeAfterSetoff
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td><b>House Property</b></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.hpCYLA.incomeCYLA
                                  .currentYearIncome
                              )
                            }}
                          </td>

                          <td>-</td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.hpCYLA.incomeCYLA
                                  .businessLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.hpCYLA.incomeCYLA
                                  .currentYearIncomeAfterSetoff
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td><b>Business Income</b></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.businessProfessionCYLA.incomeCYLA
                                  .currentYearIncome
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.businessProfessionCYLA.incomeCYLA
                                  .hpLossSetoff
                              )
                            }}
                          </td>

                          <td>-</td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.businessProfessionCYLA.incomeCYLA
                                  .currentYearIncomeAfterSetoff
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td><b>Speculative Business Income</b></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.speculativeIncomeCYLA.incomeCYLA
                                  .currentYearIncome
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.speculativeIncomeCYLA.incomeCYLA
                                  .hpLossSetoff
                              )
                            }}
                          </td>

                          <td>-</td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.speculativeIncomeCYLA.incomeCYLA
                                  .currentYearIncomeAfterSetoff
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td><b>Other Income</b></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.otherSourceCYLA
                                  .incomeCYLA.currentYearIncome
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.otherSourceCYLA
                                  .incomeCYLA.hpLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.otherSourceCYLA
                                  .incomeCYLA.businessLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.otherSourceCYLA
                                  .incomeCYLA.currentYearIncomeAfterSetoff
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>
                            <b
                              >Short-term capital gain taxable at applicable
                              rates</b
                            >
                          </td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.stcgAppRateCYLA
                                  .incomeCYLA.currentYearIncome
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.stcgAppRateCYLA
                                  .incomeCYLA.hpLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.stcgAppRateCYLA
                                  .incomeCYLA.businessLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.stcgAppRateCYLA
                                  .incomeCYLA.currentYearIncomeAfterSetoff
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td><b>Long term capital gain taxable @ 20%</b></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.ltcg20PerCYLA
                                  .incomeCYLA.currentYearIncome
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.ltcg20PerCYLA
                                  .incomeCYLA.hpLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.ltcg20PerCYLA
                                  .incomeCYLA.businessLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.ltcg20PerCYLA
                                  .incomeCYLA.currentYearIncomeAfterSetoff
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td><b>Short-term capital gain taxable @ 15%</b></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.stcg15PerCYLA
                                  .incomeCYLA.currentYearIncome
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.stcg15PerCYLA
                                  .incomeCYLA.hpLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.stcg15PerCYLA
                                  .incomeCYLA.businessLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.stcg15PerCYLA
                                  .incomeCYLA.currentYearIncomeAfterSetoff
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td><b>Long term capital gain taxable @ 10%</b></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.ltcg10PerCYLA
                                  .incomeCYLA.currentYearIncome
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.ltcg10PerCYLA
                                  .incomeCYLA.hpLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.ltcg10PerCYLA
                                  .incomeCYLA.businessLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.ltcg10PerCYLA
                                  .incomeCYLA.currentYearIncomeAfterSetoff
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td><b>Total loss set off</b></td>
                          <td></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.totalHpLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.totalBusinessLossSetoff
                              )
                            }}
                          </td>

                          <td></td>
                        </tr>
                        <tr>
                          <td><b>Loss remaining after set off</b></td>
                          <td></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.totalHpLossRemainAfterSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.totalBusinessLossRemainAfterSetoff
                              )
                            }}
                          </td>

                          <td></td>
                        </tr>
                      </tbody>
                    </table>
                  </mat-expansion-panel>

                  <!-- ********************** Balance After Set Off Current Year Losses (6-7) ********************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            9. Balance After Setoff Of Current Year Losses (7-8)
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.balanceAfterSetOffCurrentYearLosses
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- ********************** Brought Forward Losses Set Off  ********************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="
                      finalCalculations?.BroughtFwdLossesSetoff
                        ?.BroughtFwdLossesSetoffTotal === 0
                    "
                    #bflSetOff
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            10. Brought Forward Losses Setoff
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr">
                              <mat-icon *ngIf="!bflSetOff.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="bflSetOff.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                convertToPositive(
                                  finalCalculations?.BroughtFwdLossesSetoff
                                    ?.BroughtFwdLossesSetoffTotal
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <table
                      class="table table-bordered table-striped table-hover"
                      style="margin-top: 20px"
                    >
                      <thead>
                        <tr>
                          <td><b>Losses Of Last Year </b></td>
                          <td><b>Relevant AY</b></td>
                          <td><b>Setoff Against</b></td>
                          <td><b>Amount Adjusted</b></td>
                        </tr>
                      </thead>
                      <tbody
                        *ngFor="
                          let pyl of finalSummary?.assessment?.pastYearLosses
                        "
                      >
                        <tr
                          *ngIf="
                            pyl.housePropertyLoss > 0 &&
                            pyl.setOffWithCurrentYearHPIncome > 0
                          "
                        >
                          <td>House Property Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>House Property Income</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.setOffWithCurrentYearHPIncome
                              )
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            pyl.broughtForwordBusinessLoss > 0 &&
                            pyl.setOffWithCurrentYearBroughtForwordBusinessIncome >
                              0
                          "
                        >
                          <td>Non Speculative Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>Non Speculative Income</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.setOffWithCurrentYearBroughtForwordBusinessIncome
                              )
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            pyl.broughtForwordBusinessLoss > 0 &&
                            pyl.nonSpecBusSetOffWithCurrentYearSpecBusIncome > 0
                          "
                        >
                          <td>Non Speculative Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>Speculative Income</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.nonSpecBusSetOffWithCurrentYearSpecBusIncome
                              )
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            pyl.speculativeBusinessLoss > 0 &&
                            pyl.specBusSetOffWithCurrentYearSpecBusIncome > 0
                          "
                        >
                          <td>Speculative Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>Speculative Income</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.specBusSetOffWithCurrentYearSpecBusIncome
                              )
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            pyl.STCGLoss > 0 &&
                            pyl.setOffWithCurrentYearSTCGAppRateIncome > 0
                          "
                        >
                          <td>Short Term Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>Short Term Capital Gain @ Applicable Rate</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.setOffWithCurrentYearSTCGAppRateIncome
                              )
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            pyl.STCGLoss > 0 &&
                            pyl.setOffWithCurrentYearSTCG15PerIncome > 0
                          "
                        >
                          <td>Short Term Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>Short Term Capital Gain @ 15%</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.setOffWithCurrentYearSTCG15PerIncome
                              )
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            pyl.STCGLoss > 0 &&
                            pyl.stcgSetOffWithCurrentYearLTCG10PerIncome > 0
                          "
                        >
                          <td>Short Term Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>Long Term Capital Gain @ 10%</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.stcgSetOffWithCurrentYearLTCG10PerIncome
                              )
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            pyl.STCGLoss > 0 &&
                            pyl.stcgSetOffWithCurrentYearLTCG20PerIncome > 0
                          "
                        >
                          <td>Short Term Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>Long Term Capital Gain @ 20%</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.stcgSetOffWithCurrentYearLTCG20PerIncome
                              )
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            pyl.LTCGLoss > 0 &&
                            pyl.ltcgSetOffWithCurrentYearLTCG10PerIncome > 0
                          "
                        >
                          <td>Long Term Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>Long Term Capital Gain @ 10%</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.ltcgSetOffWithCurrentYearLTCG10PerIncome
                              )
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            pyl.LTCGLoss > 0 &&
                            pyl.ltcgSetOffWithCurrentYearLTCG20PerIncome > 0
                          "
                        >
                          <td>Long Term Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>Long Term Capital Gain @ 20%</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.ltcgSetOffWithCurrentYearLTCG20PerIncome
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </mat-expansion-panel>

                  <!-- ScheduleBFLA -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    *ngIf="false"
                    #ScheduleBFLA
                  >
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            31. Schedule BFLA
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr">
                              <mat-icon *ngIf="!ScheduleBFLA.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="ScheduleBFLA.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="finalCalculations?.ScheduleBFLA"
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">1. Sr. No</th>
                          <th style="font-weight: bold">
                            2. Head / Source of Income
                          </th>
                          <th style="font-weight: bold">
                            3. Income after set off, if any, of current years
                            losses as per 5 of Schedule CYLA
                          </th>
                          <th style="font-weight: bold">
                            4. Brought forward loss set off
                          </th>
                          <th style="font-weight: bold">
                            5. Brought forward depreciation set off
                          </th>
                          <th style="font-weight: bold">
                            6. Brought forward allowance under section 35(4) set
                            off
                          </th>
                          <th style="font-weight: bold">
                            7. Current years income remaining after set off
                          </th>
                        </tr>
                      </thead>

                      <tbody>
                        <tr>
                          <td>
                            {{ "i" }}
                          </td>
                          <td>
                            {{ "Salaries" }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.Salary?.IncBFLA
                                ?.IncOfCurYrUndHeadFromCYLA
                            }}
                          </td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.Salary?.IncBFLA
                                ?.IncOfCurYrAfterSetOffBFLosses
                            }}
                          </td>
                        </tr>

                        <!-- House property -->
                        <tr>
                          <td>
                            {{ "ii" }}
                          </td>
                          <td>
                            {{ "House Property" }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.HP?.IncBFLA
                                ?.IncOfCurYrUndHeadFromCYLA
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.HP?.IncBFLA
                                ?.BFlossPrevYrUndSameHeadSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.HP?.IncBFLA
                                ?.BFUnabsorbedDeprSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.HP?.IncBFLA
                                ?.BFAllUs35Cl4Setoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.HP?.IncBFLA
                                ?.IncOfCurYrAfterSetOffBFLosses
                            }}
                          </td>
                        </tr>

                        <!-- Business (excluding speculation income and income from specified business) -->
                        <tr>
                          <td>
                            {{ "iii" }}
                          </td>
                          <td>
                            {{
                              "Business (excluding speculation income and income from specified business)"
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA
                                ?.BusProfExclSpecProf?.IncBFLA
                                ?.IncOfCurYrUndHeadFromCYLA
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA
                                ?.BusProfExclSpecProf?.IncBFLA
                                ?.BFlossPrevYrUndSameHeadSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA
                                ?.BusProfExclSpecProf?.IncBFLA
                                ?.BFUnabsorbedDeprSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA
                                ?.BusProfExclSpecProf?.IncBFLA
                                ?.BFAllUs35Cl4Setoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA
                                ?.BusProfExclSpecProf?.IncBFLA
                                ?.IncOfCurYrAfterSetOffBFLosses
                            }}
                          </td>
                        </tr>

                        <!-- speculation income -->
                        <tr>
                          <td>
                            {{ "iv" }}
                          </td>
                          <td>
                            {{ "Speculation Income" }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.SpeculativeInc
                                ?.IncBFLA?.IncOfCurYrUndHeadFromCYLA
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.SpeculativeInc
                                ?.IncBFLA?.BFlossPrevYrUndSameHeadSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.SpeculativeInc
                                ?.IncBFLA?.BFUnabsorbedDeprSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.SpeculativeInc
                                ?.IncBFLA?.BFAllUs35Cl4Setoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.SpeculativeInc
                                ?.IncBFLA?.IncOfCurYrAfterSetOffBFLosses
                            }}
                          </td>
                        </tr>

                        <!-- specified business income -->
                        <tr>
                          <td>
                            {{ "v" }}
                          </td>
                          <td>
                            {{ "Specified Business Income" }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.SpecifiedInc
                                ?.IncBFLA?.IncOfCurYrUndHeadFromCYLA
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.SpecifiedInc
                                ?.IncBFLA?.BFlossPrevYrUndSameHeadSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.SpecifiedInc
                                ?.IncBFLA?.BFUnabsorbedDeprSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.SpecifiedInc
                                ?.IncBFLA?.BFAllUs35Cl4Setoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.SpecifiedInc
                                ?.IncBFLA?.IncOfCurYrAfterSetOffBFLosses
                            }}
                          </td>
                        </tr>

                        <!-- stcg @15% -->
                        <tr>
                          <td>
                            {{ "vi" }}
                          </td>
                          <td>
                            {{ "Short term capital gain @15%" }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCG15Per
                                ?.IncBFLA?.IncOfCurYrUndHeadFromCYLA
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCG15Per
                                ?.IncBFLA?.BFlossPrevYrUndSameHeadSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCG15Per
                                ?.IncBFLA?.BFUnabsorbedDeprSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCG15Per
                                ?.IncBFLA?.BFAllUs35Cl4Setoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCG15Per
                                ?.IncBFLA?.IncOfCurYrAfterSetOffBFLosses
                            }}
                          </td>
                        </tr>

                        <!-- stcg @30% -->
                        <tr>
                          <td>
                            {{ "vii" }}
                          </td>
                          <td>
                            {{ "Short term capital gain @30%" }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCG30Per
                                ?.IncBFLA?.IncOfCurYrUndHeadFromCYLA
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCG30Per
                                ?.IncBFLA?.BFlossPrevYrUndSameHeadSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCG30Per
                                ?.IncBFLA?.BFUnabsorbedDeprSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCG30Per
                                ?.IncBFLA?.BFAllUs35Cl4Setoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCG30Per
                                ?.IncBFLA?.IncOfCurYrAfterSetOffBFLosses
                            }}
                          </td>
                        </tr>

                        <!-- stcg @slab rate -->
                        <tr>
                          <td>
                            {{ "viii" }}
                          </td>
                          <td>
                            {{ "Short term capital gain at appicable rates" }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCGAppRate
                                ?.IncBFLA?.IncOfCurYrUndHeadFromCYLA
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCGAppRate
                                ?.IncBFLA?.BFlossPrevYrUndSameHeadSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCGAppRate
                                ?.IncBFLA?.BFUnabsorbedDeprSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCGAppRate
                                ?.IncBFLA?.BFAllUs35Cl4Setoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCGAppRate
                                ?.IncBFLA?.IncOfCurYrAfterSetOffBFLosses
                            }}
                          </td>
                        </tr>

                        <!-- Short-term capital gain taxable at special rates in India as per DTAA	 -->
                        <tr>
                          <td>
                            {{ "ix" }}
                          </td>
                          <td>
                            {{
                              "Short-term capital gain taxable at special rates in India as per DTAA"
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCGDTAARate
                                ?.IncBFLA?.IncOfCurYrUndHeadFromCYLA
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCGDTAARate
                                ?.IncBFLA?.BFlossPrevYrUndSameHeadSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCGDTAARate
                                ?.IncBFLA?.BFUnabsorbedDeprSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCGDTAARate
                                ?.IncBFLA?.BFAllUs35Cl4Setoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.STCGDTAARate
                                ?.IncBFLA?.IncOfCurYrAfterSetOffBFLosses
                            }}
                          </td>
                        </tr>

                        <!-- Long term capital gain taxable @ 10%		 -->
                        <tr>
                          <td>
                            {{ "x" }}
                          </td>
                          <td>
                            {{
                              "Long term capital gain taxable @ 10%	                                                                                                    "
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.LTCG10Per
                                ?.IncBFLA?.IncOfCurYrUndHeadFromCYLA
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.LTCG10Per
                                ?.IncBFLA?.BFlossPrevYrUndSameHeadSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.LTCG10Per
                                ?.IncBFLA?.BFUnabsorbedDeprSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.LTCG10Per
                                ?.IncBFLA?.BFAllUs35Cl4Setoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.LTCG10Per
                                ?.IncBFLA?.IncOfCurYrAfterSetOffBFLosses
                            }}
                          </td>
                        </tr>

                        <!-- Long term capital gain taxable @ 20%			 -->
                        <tr>
                          <td>
                            {{ "xi" }}
                          </td>
                          <td>
                            {{
                              "Long term capital gain taxable @ 20%	                                                                                                    "
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.LTCG20Per
                                ?.IncBFLA?.IncOfCurYrUndHeadFromCYLA
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.LTCG20Per
                                ?.IncBFLA?.BFlossPrevYrUndSameHeadSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.LTCG20Per
                                ?.IncBFLA?.BFUnabsorbedDeprSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.LTCG20Per
                                ?.IncBFLA?.BFAllUs35Cl4Setoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.LTCG20Per
                                ?.IncBFLA?.IncOfCurYrAfterSetOffBFLosses
                            }}
                          </td>
                        </tr>

                        <!-- Long term capital gains taxable at special rates in India as per DTAA				 -->
                        <tr>
                          <td>
                            {{ "xii" }}
                          </td>
                          <td>
                            {{
                              "Long term capital gains taxable at special rates in India as per DTAA	                                                                                                    "
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.LTCGDTAARate
                                ?.IncBFLA?.IncOfCurYrUndHeadFromCYLA
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.LTCGDTAARate
                                ?.IncBFLA?.BFlossPrevYrUndSameHeadSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.LTCGDTAARate
                                ?.IncBFLA?.BFUnabsorbedDeprSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.LTCGDTAARate
                                ?.IncBFLA?.BFAllUs35Cl4Setoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.LTCGDTAARate
                                ?.IncBFLA?.IncOfCurYrAfterSetOffBFLosses
                            }}
                          </td>
                        </tr>

                        <!-- Net income from other sources chargeable at normal applicable rates				 -->
                        <tr>
                          <td>
                            {{ "xiii" }}
                          </td>
                          <td>
                            {{
                              "Net income from other sources chargeable at normal applicable rates	                                                                                                    "
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA
                                ?.OthSrcExclRaceHorse?.IncBFLA
                                ?.IncOfCurYrUndHeadFromCYLA
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA
                                ?.OthSrcExclRaceHorse?.IncBFLA
                                ?.BFlossPrevYrUndSameHeadSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA
                                ?.OthSrcExclRaceHorse?.IncBFLA
                                ?.BFUnabsorbedDeprSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA
                                ?.OthSrcExclRaceHorse?.IncBFLA
                                ?.BFAllUs35Cl4Setoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA
                                ?.OthSrcExclRaceHorse?.IncBFLA
                                ?.IncOfCurYrAfterSetOffBFLosses
                            }}
                          </td>
                        </tr>

                        <!-- Profit from owning and maintaining race horses					 -->
                        <tr>
                          <td>
                            {{ "xiv" }}
                          </td>
                          <td>
                            {{
                              "Profit from owning and maintaining race horses		                                                                                                    "
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.OthSrcRaceHorse
                                ?.IncBFLA?.IncOfCurYrUndHeadFromCYLA
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.OthSrcRaceHorse
                                ?.IncBFLA?.BFlossPrevYrUndSameHeadSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.OthSrcRaceHorse
                                ?.IncBFLA?.BFUnabsorbedDeprSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.OthSrcRaceHorse
                                ?.IncBFLA?.BFAllUs35Cl4Setoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.OthSrcRaceHorse
                                ?.IncBFLA?.IncOfCurYrAfterSetOffBFLosses
                            }}
                          </td>
                        </tr>

                        <!-- Income from other sources income taxable at special rates in India as per DTAA				 -->
                        <tr>
                          <td>
                            {{ "xv" }}
                          </td>
                          <td>
                            {{
                              "Income from other sources income taxable at special rates in India as per DTAA		                                                                                                    "
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.IncOSDTAA
                                ?.IncBFLA?.IncOfCurYrUndHeadFromCYLA
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.IncOSDTAA
                                ?.IncBFLA?.BFlossPrevYrUndSameHeadSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.IncOSDTAA
                                ?.IncBFLA?.BFUnabsorbedDeprSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.IncOSDTAA
                                ?.IncBFLA?.BFAllUs35Cl4Setoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.IncOSDTAA
                                ?.IncBFLA?.IncOfCurYrAfterSetOffBFLosses
                            }}
                          </td>
                        </tr>

                        <!-- Total -->
                        <tr>
                          <td>
                            {{ "xvi" }}
                          </td>
                          <td colspan="2">
                            {{
                              "Total of brought forward loss set off (2ii + 2iii + 2iv + 2v + 2vi+ 2vii +2viii + 2ix + 2x + 2xi + 2xii + 2xiv)			                                                                                                    "
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.TotalBFLossSetOff
                                ?.TotBFLossSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.TotalBFLossSetOff
                                ?.TotUnabsorbedDeprSetoff
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA?.TotalBFLossSetOff
                                ?.TotAllUs35cl4Setoff
                            }}
                          </td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>{{ "xvii" }}</td>
                          <td colspan="5">
                            Current year's income remaining after set off Total
                            of (5i + 5ii + 5iii + 5iv + 5v+ 5vi + 5vii + 5viii+
                            5ix + 5x + 5xi + 5xii + 5xiii + 5xiv + 5xv)
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleBFLA
                                ?.IncomeOfCurrYrAftCYLABFLA
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </mat-expansion-panel>

                  <!-- ********************** Gross Total Income (8-9) ********************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            <b> 11. Gross Total Income (9-10)</b>
                            <i
                              >(Round of to nearest
                              <i class="material-icons icRup">&#8377;</i> 10)</i
                            >
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.grossTotalIncome
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- ********************** Income Chargeable To Tax At Special Rate Under Section 111A, 112 etc. ********************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            12. Income Chargeable to Tax at Special Rate Under
                            Section 111A, 112 etc.
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.totalSpecialRateIncome
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- ********************** Deductions Under Chapter VI-A ********************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="
                      finalCalculations?.deductions?.deductionTotal === 0
                        ? true
                        : false
                    "
                    #deductionVI
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            13. Deductions Under Chapter VI-A
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!deductionVI.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="deductionVI.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.deductions?.deductionTotal
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <div>
                      <table
                        class="table table-bordered table-striped table-hover"
                        style="margin-top: 20px"
                      >
                        <tbody>
                          <tr>
                            <td><b>Particular</b></td>
                            <td><b>Amount</b></td>
                          </tr>
                          <tr
                            *ngFor="
                              let deduction of finalCalculations?.deductions
                                ?.deductionDtls;
                              let i = index
                            "
                          >
                            <td *ngIf="deduction.amount > 0">
                              {{ deduction.name }}
                            </td>
                            <td *ngIf="deduction.amount > 0">
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  deduction?.amount
                                )
                              }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </mat-expansion-panel>

                  <!-- ********************** Total Income (10-12) ********************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            <b>14. Total Income (11-13)</b>
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.totalIncome
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- ********************** Income Chargeable At Special Rates After Adjusting Basic Exemption Limit ********************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            15. Income Chargeable at Special Rates After
                            Adjusting Basic Exemption Limit
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.specialRateChargeable
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- ************************* Net Agriculture Income ************************* -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            16. Net Agriculture Income
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.netAgricultureIncome
                                )
                              }}
                            </label>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- ************************ Aggregate Income (13-14+15) ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            <b>17. Aggregate Income (14-15+16)</b>
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.aggregateIncome
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- ************************ Losses To Be Carried Forward  ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="
                      finalCalculations?.lossesToBeCarriedForward?.cflTotal ===
                      0
                    "
                    #lossCarryFwd
                  >
                    <mat-expansion-panel-header hidden>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            18. Losses To Be Carried Forward
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!lossCarryFwd.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="lossCarryFwd.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.lossesToBeCarriedForward
                                    ?.cflTotal
                                    ? finalCalculations
                                        ?.lossesToBeCarriedForward?.cflTotal
                                    : 0
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <table
                      class="table table-bordered table-striped table-hover"
                      style="margin-top: 20px"
                    >
                      <thead>
                        <tr>
                          <th>
                            <b>Year</b>
                          </th>
                          <th>
                            <b>House Property Loss</b>
                          </th>
                          <th>
                            <b>Short Term Capital Loss</b>
                          </th>
                          <th>
                            <b>Long Term Capital Loss</b>
                          </th>
                          <th>
                            <b>Other than Speculative Business Loss</b>
                          </th>
                          <th>
                            <b>Loss from Speculative Business</b>
                          </th>
                          <th>
                            <b>Loss from Specified Business</b>
                          </th>
                          <th>
                            <b>other Losses</b>
                          </th>
                          <th>
                            <b>Losses Set Off During The Year</b>
                          </th>
                          <th>
                            <b>Carried Forward To Next Year</b>
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <ng-container
                          *ngFor="
                            let losses of finalCalculations
                              ?.lossesToBeCarriedForward?.cflDtls;
                            let i = index
                          "
                        >
                          <tr>
                            <td>
                              {{
                                losses?.assessmentPastYear
                                  ? losses?.assessmentPastYear
                                  : 0
                              }}
                            </td>
                            <td>
                              {{
                                utilsService.currencyFormatter(
                                  losses?.housePropertyLoss
                                    ? losses?.housePropertyLoss
                                    : 0
                                )
                              }}
                            </td>
                            <td>
                              {{
                                utilsService.currencyFormatter(
                                  losses?.STCGLoss ? losses?.STCGLoss : 0
                                )
                              }}
                            </td>
                            <td>
                              {{
                                utilsService.currencyFormatter(
                                  losses?.LTCGLoss ? losses?.LTCGLoss : 0
                                )
                              }}
                            </td>
                            <td>
                              {{
                                utilsService.currencyFormatter(
                                  losses?.BusLossOthThanSpecLossCF
                                    ? losses?.BusLossOthThanSpecLossCF
                                    : 0
                                )
                              }}
                            </td>
                            <td>
                              {{
                                utilsService.currencyFormatter(
                                  losses?.LossFrmSpecBusCF
                                    ? losses?.LossFrmSpecBusCF
                                    : 0
                                )
                              }}
                            </td>
                            <td>
                              {{
                                utilsService.currencyFormatter(
                                  losses?.LossFrmSpecifiedBusCF
                                    ? losses?.LossFrmSpecifiedBusCF
                                    : 0
                                )
                              }}
                            </td>
                            <td>
                              {{
                                utilsService.currencyFormatter(
                                  losses?.OthSrcLoss ? losses?.OthSrcLoss : 0
                                )
                              }}
                            </td>
                            <td>
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.lossesToBeCarriedForward
                                    ?.lossSetOffDuringYear
                                    ? finalCalculations
                                        ?.lossesToBeCarriedForward
                                        ?.lossSetOffDuringYear
                                    : 0
                                )
                              }}
                            </td>
                            <td>
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.lossesToBeCarriedForward
                                    ?.cflTotal
                                    ? finalCalculations
                                        ?.lossesToBeCarriedForward?.cflTotal
                                    : 0
                                )
                              }}
                            </td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>
                  </mat-expansion-panel>

                  <!-- ****************************** Schedule cfl ************************************* -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="
                      finalCalculations?.scheduleCflDetails
                        ?.TotalOfAllLossCFSummary === 0
                    "
                    #lossCarryFwd
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            18. Losses To Be Carried Forward (CFL)
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!lossCarryFwd.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="lossCarryFwd.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.scheduleCflDetails
                                    ?.TotalOfAllLossCFSummary
                                    ? finalCalculations?.scheduleCflDetails
                                        ?.TotalOfAllLossCFSummary
                                    : 0
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <table
                      class="table table-bordered table-striped table-hover"
                      style="margin-top: 20px"
                    >
                      <thead>
                        <tr>
                          <th>
                            <b>Assessment Year</b>
                          </th>
                          <th>
                            <b>Date of Filing</b>
                          </th>
                          <th>
                            <b>House property loss</b>
                          </th>
                          <th>
                            <b
                              >Other than speculative & specified business
                              loss</b
                            >
                          </th>
                          <th>
                            <b>Loss from speculative business</b>
                          </th>
                          <th>
                            <b>Loss from specified business</b>
                          </th>
                          <th>
                            <b>Short term capital loss</b>
                          </th>
                          <th>
                            <b>Long term capital loss</b>
                          </th>
                          <th>
                            <b>Loss from owning & maintaining horses</b>
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <!-- 12th Assessment Year -->
                        <tr
                          *ngIf="
                            finalCalculations?.scheduleCflDetails
                              ?.LossCFFromPrev11thYearFromAY
                              ?.LossFrmSpecifiedBusCF > 0
                          "
                        >
                          <!-- Assessment year -->
                          <td>2012-2013</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev11thYearFromAY?.dateOfFiling
                            }}
                            <!-- house property loss -->
                          </td>

                          <td>0</td>
                          <!-- Other than speculative and specified business -->
                          <td>0</td>
                          <!-- loss from speculative business  -->
                          <td>0</td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev11thYearFromAY
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>0</td>
                          <!-- long term capital loss  -->
                          <td>0</td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>0</td>
                        </tr>

                        <!-- 11th Assessment Year -->
                        <tr
                          *ngIf="
                            finalCalculations?.scheduleCflDetails
                              ?.LossCFFromPrev10thYearFromAY
                              ?.LossFrmSpecifiedBusCF > 0
                          "
                        >
                          <!-- Assessment year -->
                          <td>2013-2014</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev10thYearFromAY?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>0</td>
                          <!-- Other than speculative and specified business -->
                          <td>0</td>
                          <!-- loss from speculative business  -->
                          <td>0</td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev10thYearFromAY
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>0</td>
                          <!-- long term capital loss  -->
                          <td>0</td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>0</td>
                        </tr>

                        <!-- 10th Assessment Year -->
                        <tr
                          *ngIf="
                            finalCalculations?.scheduleCflDetails
                              ?.LossCFFromPrev9thYearFromAY
                              ?.LossFrmSpecifiedBusCF > 0
                          "
                        >
                          <!-- Assessment year -->
                          <td>2014-2015</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev9thYearFromAY?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>0</td>
                          <!-- Other than speculative and specified business -->
                          <td>0</td>
                          <!-- loss from speculative business  -->
                          <td>0</td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev9thYearFromAY
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>0</td>
                          <!-- long term capital loss  -->
                          <td>0</td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>0</td>
                        </tr>

                        <!-- 9th Assessment Year -->
                        <tr
                          *ngIf="
                            finalCalculations?.scheduleCflDetails
                              ?.LossCFFromPrev8thYearFromAY
                              ?.LossFrmSpecifiedBusCF > 0
                          "
                        >
                          <!-- Assessment year -->
                          <td>2014-2015</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev8thYearFromAY?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>0</td>
                          <!-- Other than speculative and specified business -->
                          <td>0</td>
                          <!-- loss from speculative business  -->
                          <td>0</td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev8thYearFromAY
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>0</td>
                          <!-- long term capital loss  -->
                          <td>0</td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>0</td>
                        </tr>

                        <!-- 8th Assessment Year -->
                        <tr>
                          <!-- Assessment year -->
                          <td>2015-2016</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev7thYearFromAY?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev7thYearFromAY?.hpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev7thYearFromAY
                                ?.broughtForwardBusLoss
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>0</td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev7thYearFromAY
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev7thYearFromAY?.stcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev7thYearFromAY?.ltcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>0</td>
                        </tr>

                        <!-- 7th Assessment Year -->
                        <tr>
                          <!-- Assessment year -->
                          <td>2016-2017</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev6thYearFromAY?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev6thYearFromAY?.hpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev6thYearFromAY
                                ?.broughtForwardBusLoss
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>0</td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev6thYearFromAY
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev6thYearFromAY?.stcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev6thYearFromAY?.ltcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>0</td>
                        </tr>

                        <!-- 6th Assessment Year -->
                        <tr>
                          <!-- Assessment year -->
                          <td>2017-2018</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev5thYearFromAY?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev5thYearFromAY?.hpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev5thYearFromAY
                                ?.broughtForwardBusLoss
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>0</td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev5thYearFromAY
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev5thYearFromAY?.stcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev5thYearFromAY?.ltcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>0</td>
                        </tr>

                        <!-- 5th Assessment Year -->
                        <tr>
                          <!-- Assessment year -->
                          <td>2018-2019</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev4thYearFromAY?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev4thYearFromAY?.hpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev4thYearFromAY
                                ?.broughtForwardBusLoss
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>0</td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev4thYearFromAY
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev4thYearFromAY?.stcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev4thYearFromAY?.ltcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>0</td>
                        </tr>

                        <!-- 4th Assessment Year -->
                        <tr>
                          <!-- Assessment year -->
                          <td>2019-2020</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev3rdYearFromAY?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev3rdYearFromAY?.hpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev3rdYearFromAY
                                ?.broughtForwardBusLoss
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev3rdYearFromAY
                                ?.lossFromSpeculativeBus
                            }}
                          </td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev3rdYearFromAY
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev3rdYearFromAY?.stcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev3rdYearFromAY?.ltcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev3rdYearFromAY
                                ?.OthSrcLossRaceHorseCF
                            }}
                          </td>
                        </tr>

                        <!-- 3rd Assessment Year -->
                        <tr>
                          <!-- Assessment year -->
                          <td>2020-2021</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFPrevAssmntYear?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFPrevAssmntYear?.hpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFPrevAssmntYear?.broughtForwardBusLoss
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFPrevAssmntYear?.lossFromSpeculativeBus
                            }}
                          </td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFPrevAssmntYear?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFPrevAssmntYear?.stcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFPrevAssmntYear?.ltcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFPrevAssmntYear?.OthSrcLossRaceHorseCF
                            }}
                          </td>
                        </tr>

                        <!-- previous Assessment Year -->
                        <tr>
                          <!-- Assessment year -->
                          <td>2021-2022</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear?.hpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear?.broughtForwardBusLoss
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear
                                ?.lossFromSpeculativeBus
                            }}
                          </td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear?.stcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear?.ltcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear?.OthSrcLossRaceHorseCF
                            }}
                          </td>
                        </tr>

                        <!--current Assessment Year -->
                        <tr>
                          <!-- Assessment year -->
                          <td>2022-2023</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear2023?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear2023?.hpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear2023
                                ?.broughtForwardBusLoss
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear2023
                                ?.lossFromSpeculativeBus
                            }}
                          </td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear2023
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear2023?.stcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear2023?.ltcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear2023
                                ?.OthSrcLossRaceHorseCF
                            }}
                          </td>
                        </tr>

                        <!-- total of earlier losses brought forward -->
                        <tr>
                          <!-- Assessment year -->
                          <td><strong>Total of earlier losses b/f</strong></td>
                          <!-- date of filing -->
                          <td></td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalOfBFLossesEarlierYrs
                                ?.totalBroughtForwardHpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalOfBFLossesEarlierYrs
                                ?.totalBroughtForwardBusLoss
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalOfBFLossesEarlierYrs
                                ?.totalBroughtForwardLossSpeculativeBus
                            }}
                          </td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalOfBFLossesEarlierYrs
                                ?.totalBroughtForwardLossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalOfBFLossesEarlierYrs
                                ?.totalBroughtForwardStcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalOfBFLossesEarlierYrs
                                ?.totalBroughtForwardLtcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalOfBFLossesEarlierYrs
                                ?.totalBroughtForwardOthSrcLossRaceHorseCF
                            }}
                          </td>
                        </tr>

                        <!-- adjustment of above losses in bfla -->
                        <tr>
                          <!-- Assessment year -->
                          <td>
                            <strong>Adjustment of above losses in BFLA</strong>
                          </td>
                          <!-- date of filing -->
                          <td></td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.AdjTotBFLossInBFLA?.adjInBflHpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.AdjTotBFLossInBFLA
                                ?.adjInBflBusLossOthThanSpecifiedLossCF
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.AdjTotBFLossInBFLA?.adjInBflSpeculativeBus
                            }}
                          </td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.AdjTotBFLossInBFLA
                                ?.adjInBflLossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.AdjTotBFLossInBFLA?.adjInBflStcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.AdjTotBFLossInBFLA?.adjInBflLtcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.AdjTotBFLossInBFLA
                                ?.adjInBflOthSrcLossRaceHorseCF
                            }}
                          </td>
                        </tr>

                        <!-- current year losses to be carried forward -->
                        <tr>
                          <!-- Assessment year -->
                          <td>
                            <strong
                              >Current year losses to be carried forward</strong
                            >
                          </td>
                          <!-- date of filing -->
                          <td></td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.CurrentAYloss?.currentAyHpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.CurrentAYloss
                                ?.currentAyBusLossOthThanSpecifiedLossCF
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.CurrentAYloss?.currentAySpeculativeBus
                            }}
                          </td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.CurrentAYloss?.currentAyLossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.CurrentAYloss?.currentAyStcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.CurrentAYloss?.currentAyLtcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.CurrentAYloss?.currentAyOthSrcLossRaceHorseCF
                            }}
                          </td>
                        </tr>

                        <!-- total loss carried forward to future years -->
                        <tr>
                          <!-- Assessment year -->
                          <td>
                            <strong
                              >Total loss carried forward to future
                              years</strong
                            >
                          </td>
                          <!-- date of filing -->
                          <td></td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalLossCFSummary?.totalLossCFHpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalLossCFSummary
                                ?.totalLossCFBusLossOthThanSpecifiedLossCF
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalLossCFSummary?.totalLossCFSpeculativeBus
                            }}
                          </td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalLossCFSummary
                                ?.totalLossCFLossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalLossCFSummary?.totalLossCFStcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalLossCFSummary?.totalLossCFLtcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalLossCFSummary
                                ?.totalLossCFOthSrcLossRaceHorseCF
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </mat-expansion-panel>
                  <!-- *********************** Total Tax (A+B-C) ********************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="finalCalculations?.totalTax?.totalTax === 0"
                    #totalTax
                  >
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            19. Total Tax (A+B-C)
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!totalTax.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="totalTax.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.totalTax?.totalTax
                                )
                              }}
                            </label>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <div>
                      <table
                        class="table table-bordered table-striped table-hover"
                        style="margin-top: 20px"
                      >
                        <tbody>
                          <tr>
                            <td><b>Particular</b></td>
                            <td><b>Amount</b></td>
                          </tr>
                          <tr>
                            <td>Tax at normal rate - A</td>
                            <td>
                              <i class="material-icons" style="font-size: 15px"
                                >â‚¹</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.totalTax?.taxAtNormalRate
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>Tax at special rate - B</td>
                            <td>
                              <i class="material-icons" style="font-size: 15px"
                                >â‚¹</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.totalTax?.taxAtSpecialRate
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>Rebate on agriculture income - C</td>
                            <td>
                              <i class="material-icons" style="font-size: 15px"
                                >â‚¹</i
                              >&nbsp;-{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.totalTax
                                    ?.rebateOnAgricultureIncome
                                )
                              }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </mat-expansion-panel>

                  <!-- *********************** Rebate Under Section 87A ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            20. Rebate Under Section 87A
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.rebateUnderSection87A
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- *************************** Tax After Rebate (18-19) *************************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            21. Tax After Rebate (19-20)
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.taxAfterRebate
                                )
                              }}
                            </label>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- *********************** Surcharge ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            22. Surcharge
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.surcharge
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- *********************** Education Cess, Including Secondary and Higher Education Cess ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            23. Health and Education Cess
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.eductionCess
                                )
                              }}
                            </label>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- *********************** Gross Tax Liability (20+21+22) ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            24. Gross Tax Liability (21+22+23)
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.grossTaxLiability
                                )
                              }}
                            </label>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- *********************** Tax Relief ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="finalCalculations?.taxRelief?.totalRelief === 0"
                    #taxRelief
                  >
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            25. Tax Relief
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr">
                              <mat-icon *ngIf="!taxRelief.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="taxRelief.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.taxRelief?.totalRelief
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                    <table
                      class="table table-bordered table-striped table-hover accoTab"
                    >
                      <tbody>
                        <tr>
                          <td><b>Particular</b></td>
                          <td><b>Amount</b></td>
                        </tr>
                        <tr>
                          <td>Under 89</td>
                          <td class="">
                            <i class="material-icons icRup">&#8377;</i>&nbsp;{{
                              utilsService.currencyFormatter(
                                finalCalculations?.taxRelief?.taxReliefUnder89
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Under 90/ 90A</td>
                          <td class="">
                            <i class="material-icons icRup">&#8377;</i>&nbsp;{{
                              utilsService.currencyFormatter(
                                finalCalculations?.taxRelief
                                  ?.taxReliefUnder90_90A
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Under 91</td>
                          <td class="">
                            <i class="material-icons">&#8377;</i>&nbsp;{{
                              utilsService.currencyFormatter(
                                finalCalculations?.taxRelief?.taxReliefUnder91
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </mat-expansion-panel>

                  <!-- *********************** Net Tax Liability (23-24) ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            26. Net Tax Liability (24-25)
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.netTaxLiability
                                )
                              }}
                            </label>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- *********************** Interest and Fee Payable ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="
                      finalCalculations?.interestAndFee?.totalInterestAndFee ===
                      0
                    "
                    #interestFee
                  >
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            <b> 27. Interest and Fee Payable</b>
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!interestFee.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="interestFee.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.interestAndFee
                                    ?.totalInterestAndFee
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                    <table class="table table-bordered table-hover accoTab">
                      <tbody>
                        <tr>
                          <td><b>Particular</b></td>
                          <td><b>Amount</b></td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q1 > 0
                            "
                          >
                            <b>Q1</b>
                          </td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q2 > 0
                            "
                          >
                            <b>Q2</b>
                          </td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q3 > 0
                            "
                          >
                            <b>Q3</b>
                          </td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q4 > 0
                            "
                          >
                            <b>Q4</b>
                          </td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q5 > 0
                            "
                          >
                            <b>Q5</b>
                          </td>
                        </tr>
                        <tr>
                          <td>Interest for late filing u/s 234A</td>
                          <td class="">
                            <i class="material-icons" style="font-size: 15px"
                              >â‚¹</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalCalculations?.interestAndFee?.total234A
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>
                            Interest for non-payment of advance tax u/s 234B
                          </td>
                          <td class="">
                            <i class="material-icons" style="font-size: 15px"
                              >â‚¹</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalCalculations?.interestAndFee?.total234B
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>
                            Interest for delay in payment of advance tax u/s
                            234C
                          </td>
                          <td class="">
                            <i class="material-icons" style="font-size: 15px"
                              >â‚¹</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalCalculations?.interestAndFee?.total234C
                              )
                            }}
                          </td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q1 > 0
                            "
                          >
                            {{
                              utilsService.currencyFormatter(
                                finalCalculations?.interestAndFee?.interest234C
                                  ?.q1
                              )
                            }}
                          </td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q2 > 0
                            "
                          >
                            {{
                              utilsService.currencyFormatter(
                                finalCalculations?.interestAndFee?.interest234C
                                  ?.q2
                              )
                            }}
                          </td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q3 > 0
                            "
                          >
                            {{
                              utilsService.currencyFormatter(
                                finalCalculations?.interestAndFee?.interest234C
                                  ?.q3
                              )
                            }}
                          </td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q4 > 0
                            "
                          >
                            {{
                              utilsService.currencyFormatter(
                                finalCalculations?.interestAndFee?.interest234C
                                  ?.q4
                              )
                            }}
                          </td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q5 > 0
                            "
                          >
                            {{
                              utilsService.currencyFormatter(
                                finalCalculations?.interestAndFee?.interest234C
                                  ?.q5
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Penalty for late filing u/s 234F</td>
                          <td class="">
                            <i class="material-icons" style="font-size: 15px"
                              >â‚¹</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalCalculations?.interestAndFee?.total234F
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </mat-expansion-panel>

                  <!-- *********************** Aggregate Liability (25+26) ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            28. Aggregate Liability (26+27)
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.aggregateLiability
                                )
                              }}
                            </label>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- *********************** Tax Paid ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="
                      finalCalculations?.taxPaid?.totalTaxesPaid === 0
                    "
                    #taxPaid
                  >
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            29. Tax Paid
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr">
                              <mat-icon *ngIf="!taxPaid.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="taxPaid.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.taxPaid?.totalTaxesPaid
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                    <!-- SALARY TDS -->
                    <div>
                      <div class="bxHed">TDS (On Salary)</div>
                      <table
                        class="table table-bordered table-striped table-hover"
                      >
                        <thead>
                          <tr>
                            <th style="font-weight: bold; width: 20%">
                              Name Of Deductor
                            </th>
                            <th style="font-weight: bold; width: 25%">
                              TAN Of Deductor
                            </th>
                            <th style="font-weight: bold; width: 35%">
                              Amount Of Which TDS Deducted
                            </th>
                            <th style="font-weight: bold; width: 20%">
                              Total Tax Amount
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr
                            *ngFor="
                              let onSalary of finalCalculations?.taxPaid
                                ?.onSalary
                            "
                          >
                            <td>{{ onSalary?.deductorName }}</td>
                            <td>{{ onSalary?.deductorTAN }}</td>
                            <td>
                              Rs.
                              {{
                                utilsService.currencyFormatter(
                                  onSalary?.totalAmountCredited
                                )
                              }}
                            </td>
                            <td>
                              Rs.
                              {{
                                utilsService.currencyFormatter(
                                  onSalary?.totalTdsDeposited
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <th>Total Amount</th>
                            <th></th>
                            <th></th>
                            <th>
                              Rs.
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.taxPaid?.totalOnSalary
                                )
                              }}
                            </th>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                    <!-- OTHER THAN SALARY -->
                    <div>
                      <div class="bxHed">TDS (Other Than Salary)</div>
                      <table
                        class="table table-bordered table-striped table-hover"
                      >
                        <thead>
                          <tr>
                            <th style="font-weight: bold; width: 20%">
                              Name Of Deductor
                            </th>
                            <th style="font-weight: bold; width: 25%">
                              TAN Of Deductor
                            </th>
                            <th style="font-weight: bold; width: 35%">
                              Amount Of Which TDS Deducted
                            </th>
                            <th style="font-weight: bold; width: 20%">
                              Total Tax Deducted
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr
                            *ngFor="
                              let otherThanSalary16A of finalCalculations
                                ?.taxPaid?.otherThanSalary16A
                            "
                          >
                            <td>{{ otherThanSalary16A?.deductorName }}</td>
                            <td>{{ otherThanSalary16A?.deductorTAN }}</td>
                            <td>
                              Rs.
                              {{
                                utilsService.currencyFormatter(
                                  otherThanSalary16A?.totalAmountCredited
                                )
                              }}
                            </td>
                            <td>
                              Rs.
                              {{
                                utilsService.currencyFormatter(
                                  otherThanSalary16A?.totalTdsDeposited
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <th>Total Amount</th>
                            <th></th>
                            <th></th>
                            <th>
                              Rs.
                              {{
                                finalCalculations?.taxPaid
                                  ?.totalOtherThanSalary16A
                              }}
                            </th>
                          </tr>

                          <!-- TDS B/F details -->
                          <ng-container
                            *ngIf="
                              finalCalculations?.taxPaid
                                ?.otherThanSalary16AAmtCarriedFwd
                            "
                          >
                            <tr>
                              <th class="bxHed">
                                TDS B/F Details
                                <br />
                                (Other Than Salary)
                              </th>
                              <th class="bxHed"></th>
                              <th class="bxHed"></th>
                              <th class="bxHed"></th>
                            </tr>

                            <tr>
                              <th style="font-weight: bold; width: 20%">
                                Year of TDS Deduction
                              </th>
                              <th style="font-weight: bold; width: 25%">
                                TDS Amount
                              </th>
                              <th style="font-weight: bold; width: 35%">
                                Income
                              </th>
                              <th style="font-weight: bold; width: 20%">
                                TDS Credit claimed this year
                              </th>
                            </tr>

                            <tr
                              *ngFor="
                                let otherThanSalary16A of finalCalculations
                                  ?.taxPaid?.otherThanSalary16A
                              "
                            >
                              <td>{{ otherThanSalary16A?.DeductedYr }}</td>
                              <td>
                                {{ otherThanSalary16A?.BroughtFwdTDSAmt }}
                              </td>
                              <td>
                                Rs.
                                {{
                                  utilsService.currencyFormatter(
                                    otherThanSalary16A?.totalAmountCredited
                                  )
                                }}
                              </td>
                              <td>
                                Rs.
                                {{
                                  utilsService.currencyFormatter(
                                    otherThanSalary16A?.totalTdsDeposited
                                  )
                                }}
                              </td>
                            </tr>
                          </ng-container>
                        </tbody>
                      </table>
                    </div>

                    <!-- 26QB -->

                    <div>
                      <div class="bxHed">TDS (Other Than Salary 26QB)</div>
                      <table
                        class="table table-bordered table-striped table-hover"
                      >
                        <thead>
                          <tr>
                            <th style="font-weight: bold; width: 20%">
                              Name Of Deductor
                            </th>
                            <th style="font-weight: bold; width: 25%">
                              PAN Of Deductor
                            </th>
                            <th style="font-weight: bold; width: 35%">
                              Amount Of Which TDS Deducted
                            </th>
                            <th style="font-weight: bold; width: 20%">
                              Total Tax Deducted
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr
                            *ngFor="
                              let otherThanSalary26QB of finalCalculations
                                ?.taxPaid?.otherThanSalary26QB
                            "
                          >
                            <td>{{ otherThanSalary26QB?.deductorName }}</td>
                            <td>{{ otherThanSalary26QB?.deductorTAN }}</td>
                            <td>
                              Rs.
                              {{
                                utilsService.currencyFormatter(
                                  otherThanSalary26QB?.totalAmountCredited
                                )
                              }}
                            </td>
                            <td>
                              Rs.
                              {{
                                utilsService.currencyFormatter(
                                  otherThanSalary26QB?.totalTdsDeposited
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <th>Total Amount</th>
                            <th></th>
                            <th></th>
                            <th>
                              Rs.
                              {{
                                finalCalculations?.taxPaid
                                  ?.totalOtherThanSalary26QB
                              }}
                            </th>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                    <!-- tcs -->
                    <div>
                      <div class="bxHed">TCS</div>
                      <table
                        class="table table-bordered table-striped table-hover"
                      >
                        <thead>
                          <tr>
                            <th style="font-weight: bold; width: 20%">
                              Name Of Collector
                            </th>
                            <th style="font-weight: bold; width: 25%">
                              TAN Of Collector
                            </th>
                            <th style="font-weight: bold; width: 35%">
                              Amount Of Which TCS Collected
                            </th>
                            <th style="font-weight: bold; width: 20%">
                              Total Tax Collected
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr
                            *ngFor="let tcs of finalCalculations?.taxPaid?.tcs"
                          >
                            <td>{{ tcs?.deductorName }}</td>
                            <td>{{ tcs?.deductorTAN }}</td>
                            <td>
                              Rs.
                              {{
                                utilsService.currencyFormatter(
                                  tcs?.totalAmountCredited
                                )
                              }}
                            </td>
                            <td>
                              Rs.
                              {{
                                utilsService.currencyFormatter(
                                  tcs?.totalTdsDeposited
                                )
                              }}
                            </td>
                          </tr>

                          <tr>
                            <th>Total Amount</th>
                            <th></th>
                            <th></th>
                            <th>
                              Rs.
                              {{ finalCalculations?.taxPaid?.totalTcs }}
                            </th>
                          </tr>

                          <!-- TCS B/F Details -->
                          <ng-container
                            *ngIf="
                              finalCalculations?.taxPaid?.tcsBroughtFwdTDSAmt
                            "
                          >
                            <tr>
                              <th class="bxHed">TCS B/F Details</th>
                              <th class="bxHed"></th>
                              <th class="bxHed"></th>
                              <th class="bxHed"></th>
                            </tr>
                            <tr>
                              <th style="font-weight: bold; width: 20%">
                                Year of TDS Deduction
                              </th>
                              <th style="font-weight: bold; width: 25%">
                                TDS Amount
                              </th>
                              <th style="font-weight: bold; width: 35%">
                                Income
                              </th>
                              <th style="font-weight: bold; width: 20%">
                                TDS credit claimed this year
                              </th>
                            </tr>
                            <tr
                              *ngFor="
                                let tcs of finalCalculations?.taxPaid?.tcs
                              "
                            >
                              <td>{{ tcs?.DeductedYr }}</td>
                              <td>
                                {{
                                  utilsService.currencyFormatter(
                                    tcs?.BroughtFwdTDSAmt
                                  )
                                }}
                              </td>
                              <td>
                                Rs.
                                {{
                                  utilsService.currencyFormatter(
                                    tcs?.TCSAmtCollOwnHand
                                  )
                                }}
                              </td>
                              <td>
                                Rs.
                                {{
                                  utilsService.currencyFormatter(
                                    tcs?.TCSAmtCollOwnHand
                                  )
                                }}
                              </td>
                            </tr>
                          </ng-container>
                        </tbody>
                      </table>
                    </div>

                    <!-- othertanTDSTCS -->
                    <div>
                      <div class="bxHed">
                        Advance / Self Assessment Tax Paid
                      </div>
                      <table
                        class="table table-bordered table-striped table-hover"
                      >
                        <thead>
                          <tr>
                            <th style="font-weight: bold; width: 20%">
                              BRS Code
                            </th>
                            <th style="font-weight: bold; width: 25%">Date</th>
                            <th style="font-weight: bold; width: 35%">
                              Challan No.
                            </th>
                            <th style="font-weight: bold; width: 20%">
                              Tax Deposited
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr
                            *ngFor="
                              let advance of finalCalculations?.taxPaid
                                ?.otherThanTDSTCS
                            "
                          >
                            <td>{{ advance.bsrCode }}</td>
                            <td>
                              {{ advance.date | date : "dd MMM yyyy" }}
                            </td>
                            <td>{{ advance.challanNo }}</td>
                            <td>
                              Rs.
                              {{
                                utilsService.currencyFormatter(advance.amount)
                              }}
                            </td>
                          </tr>
                          <tr>
                            <th>Total Amount</th>
                            <th></th>
                            <th></th>
                            <th>
                              Rs.
                              {{
                                finalCalculations?.taxPaid?.totalOtherThanTDSTCS
                              }}
                            </th>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </mat-expansion-panel>

                  <!-- *********************** Amount Payable / (Refund) (27-28)  ************************* -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            <b>30. Amount Payable/(Refund) (28-29)</b>
                            <i
                              >(Round of to nearest
                              <i class="material-icons icRup">&#8377;</i> 10)</i
                            >
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                finalCalculations?.amountPayable > 0
                                  ? finalCalculations?.amountPayable
                                  : "(" + finalCalculations?.amountRefund + ")"
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- *********************** Schedule AMT  ************************* -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    *ngIf="
                      !ITR_JSON.isItrSummaryJsonEdited &&
                      ITR_JSON.itrSummaryJson
                    "
                    #scheduleAMT
                  >
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            31. Schedule AMT
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr">
                              <mat-icon *ngIf="!scheduleAMT.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="scheduleAMT.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <table
                      class="table table-bordered table-striped table-hover"
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold" colspan="1">
                            1. Total Income as per PARTB-TI
                          </th>
                          <th style="font-weight: bold" colspan="1">
                            2. Adjustment as per section 115JC(2) -
                            <br />
                            a. Deduction under C-deduction in respect of certain
                            incomes under chapter VI-A
                          </th>
                          <th style="font-weight: bold" colspan="1">
                            3. Adjusted total income under section 115JC(1)
                          </th>
                          <th style="font-weight: bold" colspan="1">
                            4. Tax payable under section 115JC (18.5% of 3)
                          </th>
                        </tr>
                      </thead>

                      <tbody>
                        <tr>
                          <td>
                            {{
                              finalCalculations?.ScheduleAMT
                                ?.TotalIncItemPartBTI
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleAMT
                                ?.DeductionClaimUndrAnySec
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleAMT
                                ?.AdjustedUnderSec115JC
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleAMT
                                ?.TaxPayableUnderSec115JC
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </mat-expansion-panel>

                  <!-- ScheduleAMTC -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    *ngIf="
                      !ITR_JSON.isItrSummaryJsonEdited &&
                      ITR_JSON.itrSummaryJson
                    "
                    #ScheduleAMTC
                  >
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            32. Schedule AMTC
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr">
                              <mat-icon *ngIf="!ScheduleAMTC.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="ScheduleAMTC.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <div
                      class="bxHed"
                      style="
                        margin: 0px;
                        border: 1px solid rgba(59, 130, 246, 0.5);
                      "
                    >
                      1. Tax under section 115JC in assessment year 2023-24
                      <span style="float: right">{{
                        finalCalculations?.ScheduleAMTC?.TaxSection115JC
                      }}</span>
                    </div>

                    <div
                      class="bxHed"
                      style="
                        margin: 0px;
                        border: 1px solid rgba(59, 130, 246, 0.5);
                      "
                    >
                      2. Tax under other provisions of the Act in assessment
                      year 2023-24
                      <span style="float: right">{{
                        finalCalculations?.ScheduleAMTC?.TaxOthProvisions
                      }}</span>
                    </div>

                    <div
                      class="bxHed"
                      style="
                        margin: 0px;
                        border: 1px solid rgba(59, 130, 246, 0.5);
                      "
                    >
                      3. Amount of tax against which credit is available
                      <span style="float: right">{{
                        finalCalculations?.ScheduleAMTC?.AmtTaxCreditAvailable
                      }}</span>
                    </div>

                    <div
                      class="bxHed"
                      style="
                        margin: 0px;
                        border: 1px solid rgba(59, 130, 246, 0.5);
                      "
                    >
                      4. Utilisation of AMT credit Available (Sum of AMT credit
                      utilized during the current year is subject to maximum of
                      amount mentioned in 3 above and cannot exceed the sum of
                      AMT Credit Brought Forward)
                    </div>

                    <table
                      class="table table-bordered table-striped table-hover"
                      style="margin-bottom: 0px"
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold" colspan="1">Sr. No</th>
                          <th style="font-weight: bold" colspan="1">
                            A. Assessment Year
                          </th>
                          <th style="font-weight: bold" colspan="1">
                            B1. Gross - AMT Credit
                          </th>
                          <th style="font-weight: bold" colspan="1">
                            B2. Set off in earlies assessment years - AMT Credit
                          </th>
                          <th style="font-weight: bold" colspan="1">
                            B3. Balance brought forward to the current
                            assessment year - AMT Credit
                          </th>
                          <th style="font-weight: bold" colspan="1">
                            C. AMT Credit utilised during the current assessment
                            year - AMT Credit
                          </th>
                          <th style="font-weight: bold" colspan="1">
                            D. Balance AMT Credit carried forward - AMT Credit
                            (D = D3 - C)
                          </th>
                        </tr>
                      </thead>

                      <tbody>
                        <tr
                          *ngFor="
                            let amtc of finalCalculations?.ScheduleAMTC
                              ?.ScheduleAMTCDtls;
                            let i = index
                          "
                        >
                          <td>
                            {{ i + 1 }}
                          </td>
                          <td>
                            {{ amtc?.AssYr }}
                          </td>
                          <td>
                            {{ amtc?.Gross }}
                          </td>
                          <td>
                            {{ amtc?.AmtCreditSetOfEy }}
                          </td>
                          <td>
                            {{ amtc?.AmtCreditBalBroughtFwd }}
                          </td>
                          <td>
                            {{ amtc?.AmtCreditUtilized }}
                          </td>
                          <td>
                            {{ amtc?.BalAmtCreditCarryFwd }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                    <div
                      class="bxHed"
                      style="
                        margin: 0px;
                        border: 1px solid rgba(59, 130, 246, 0.5);
                      "
                    >
                      5. Amount of tax credit under section 115JD utilised
                      during the year
                      <span style="float: right">{{
                        finalCalculations?.ScheduleAMTC?.TotAmtCreditUtilisedCY
                      }}</span>
                    </div>
                    <div
                      class="bxHed"
                      style="
                        margin: 0px;
                        border: 1px solid rgba(59, 130, 246, 0.5);
                      "
                    >
                      6. Amount of AMT liability available for credit in
                      subsequent assessment years
                      <span style="float: right">{{
                        finalCalculations?.ScheduleAMTC?.AmtLiabilityAvailable
                      }}</span>
                    </div>
                  </mat-expansion-panel>

                  <!-- ESOP -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    *ngIf="
                      !ITR_JSON.isItrSummaryJsonEdited &&
                      ITR_JSON.itrSummaryJson
                    "
                    #ScheduleESOP
                  >
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            32. Schedule ESOP
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr">
                              <mat-icon *ngIf="!ScheduleESOP.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="ScheduleESOP.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <table
                      class="table table-bordered table-striped table-hover"
                      style="margin-bottom: 0px"
                    >
                      <thead class="table-header">
                        <tr class="table-head">
                          <th style="font-weight: bold" colspan="1" rowspan="3">
                            1. Sr. No
                          </th>
                          <th style="font-weight: bold" colspan="1" rowspan="3">
                            2. Assessment Year
                          </th>
                          <th style="font-weight: bold" colspan="1" rowspan="3">
                            3. Amount of Tax deferred brought forward from
                            earlier A.Y.
                          </th>
                          <th style="font-weight: bold" colspan="5" rowspan="1">
                            4. Has any of the following events occurred during
                            the previous year relevant to current assessment
                            year
                          </th>
                          <th style="font-weight: bold" colspan="1" rowspan="3">
                            7. Amount of tax payable in the current Assessment
                            Year
                          </th>
                          <th style="font-weight: bold" colspan="1" rowspan="3">
                            8. Balance amount of tax deferred to be carried
                            forward to the next Assessment years Col (3 âˆ’ 7)
                          </th>
                        </tr>
                        <tr>
                          <th style="font-weight: bold" colspan="2" rowspan="1">
                            Such specified security or sweat equity shares were
                            sold (Specify the date and amount of tax attributed
                            to such sale out of Col 3)
                          </th>
                          <th style="font-weight: bold" colspan="2" rowspan="1">
                            Ceased to be the employee of the employer who
                            allotted or transferred such specified security or
                            sweat equity share?
                          </th>
                          <th style="font-weight: bold" colspan="1" rowspan="2">
                            6. Forty-eight months have expired from the end of
                            the relevant assessment year in which specified
                            security or sweat equity shares referred to in the
                            said *clause were allotted. If yes, specify date
                          </th>
                        </tr>
                        <tr>
                          <th style="font-weight: bold" colspan="1" rowspan="1">
                            (4i) Option Selected
                          </th>
                          <th style="font-weight: bold" colspan="1" rowspan="1">
                            (4ii) Total Amount of Tax Attributed out of the sale
                          </th>
                          <th style="font-weight: bold" colspan="1" rowspan="1">
                            (5i) Option selected
                          </th>
                          <th style="font-weight: bold" colspan="1" rowspan="1">
                            (5ii) Date of Ceased to be employee
                          </th>
                        </tr>
                      </thead>

                      <tbody>
                        <tr>
                          <td>
                            {{ 1 }}
                          </td>
                          <td>
                            {{ 2021 + "-" + 22 }}
                          </td>
                          <td>
                            {{ 0 }}
                          </td>
                          <td></td>
                          <td>
                            {{ 0 }}
                          </td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td>
                            {{ 0 }}
                          </td>
                          <td>
                            {{ 0 }}
                          </td>
                        </tr>
                        <tr>
                          <td>
                            {{ 2 }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleESOP
                                ?.ScheduleESOP2223_Type?.AssessmentYear
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleESOP
                                ?.ScheduleESOP2223_Type?.TaxDeferredBFEarlierAY
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleESOP
                                ?.ScheduleESOP2223_Type?.ScheduleESOPEventDtls
                                ?.SecurityType
                            }}
                          </td>
                          <td>
                            {{finalCalculations?.ScheduleESOP?.ScheduleESOP2223_Type?.ScheduleESOPEventDtls?.ScheduleESOPEventDtlsType?.[0]?.TaxAttributedAmt}}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleESOP
                                ?.ScheduleESOP2223_Type?.ScheduleESOPEventDtls
                                ?.CeasedEmployee
                            }}
                          </td>
                          <td></td>
                          <td></td>
                          <td>
                            {{
                              finalCalculations?.ScheduleESOP
                                ?.ScheduleESOP2223_Type?.TaxPayableCurrentAY
                            }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleESOP
                                ?.ScheduleESOP2223_Type?.BalanceTaxCF
                            }}
                          </td>
                        </tr>

                        <tr>
                          <td>
                            {{ 3 }}
                          </td>
                          <td>
                            {{
                              finalCalculations?.ScheduleESOP
                                ?.ScheduleESOP2324_Type?.AssessmentYear
                            }}
                          </td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                        </tr>

                        <tr>
                          <td></td>
                          <td>
                            {{ "Total" }}
                          </td>
                          <td></td>
                          <td></td>
                          <td>
                            {{
                              finalCalculations?.ScheduleESOP
                                ?.TotalTaxAttributedAmt
                            }}
                          </td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                        </tr>
                      </tbody>
                    </table>
                  </mat-expansion-panel>

                  <!-- *********************** Schedule PTI  ************************* -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    *ngIf="
                      !ITR_JSON.isItrSummaryJsonEdited &&
                      ITR_JSON.itrSummaryJson &&
                      finalCalculations?.SchedulePTI?.SchedulePTIDtls?.length >
                        0
                    "
                    #SchedulePTI
                  >
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            31. Schedule PTI
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr">
                              <mat-icon *ngIf="!SchedulePTI.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="SchedulePTI.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngFor="
                        let pti of finalCalculations?.SchedulePTI
                          ?.SchedulePTIDtls;
                        let i = index
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">1. Sr. No</th>
                          <th style="font-weight: bold">
                            2. Investment entity covered by section 115UA/115UB
                          </th>
                          <th style="font-weight: bold">
                            3. Name of business trust/ investment fund
                          </th>
                          <th style="font-weight: bold">
                            4. PAN of the business trust/ investment fund
                          </th>
                          <th style="font-weight: bold">5. Sr. No</th>
                          <th style="font-weight: bold">6. Head of income</th>
                          <th style="font-weight: bold">
                            7. Current year income
                          </th>
                          <th style="font-weight: bold">
                            8. Share of current year loss distributed by
                            Investment fund
                          </th>
                          <th style="font-weight: bold">
                            9. Net Income / Loss (7-8)
                          </th>
                          <th style="font-weight: bold">
                            9. TDS on such amount, if any
                          </th>
                        </tr>
                      </thead>

                      <tbody>
                        <!-- row 1 -->
                        <tr>
                          <td rowspan="15">
                            {{ i + 1 }}
                          </td>
                          <td rowspan="15">
                            {{
                              pti?.InvstmntCvrdUs115UA115UB === "A"
                                ? "115UA"
                                : "115UB"
                            }}
                          </td>
                          <td rowspan="15">
                            {{ pti?.BusinessName }}
                          </td>
                          <td rowspan="15">
                            {{ pti?.BusinessPAN }}
                          </td>
                          <td rowspan="1">
                            {{ "i" }}
                          </td>
                          <td rowspan="1">
                            {{ "House Property" }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.IncFromHP?.AmountOfInc }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.IncFromHP?.CurrYrLossShareByInvstFund }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.IncFromHP?.NetIncomeLoss }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.IncFromHP?.TDSAmount }}
                          </td>
                        </tr>

                        <!-- row 2 -->
                        <tr>
                          <td rowspan="7" colspan="1">
                            {{ "ii" }}
                          </td>
                          <td rowspan="1" colspan="5">
                            {{ "Capital gains" }}
                          </td>
                        </tr>

                        <!-- row 3 -->
                        <tr>
                          <td rowspan="1">
                            {{ "ai. Short term" }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.CapitalGainsPTI?.ShortTermCG?.AmountOfInc }}
                          </td>
                          <td rowspan="1">
                            {{
                              pti?.CapitalGainsPTI?.ShortTermCG
                                ?.CurrYrLossShareByInvstFund
                            }}
                          </td>
                          <td rowspan="1">
                            {{
                              pti?.CapitalGainsPTI?.ShortTermCG?.NetIncomeLoss
                            }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.CapitalGainsPTI?.ShortTermCG?.TDSAmount }}
                          </td>
                        </tr>

                        <!-- row 4 -->
                        <tr>
                          <td rowspan="1">
                            {{ "aii. Section 111A" }}
                          </td>
                          <td rowspan="1">
                            {{
                              pti?.CapitalGainsPTI?.STCG_Sec111A?.AmountOfInc
                            }}
                          </td>
                          <td rowspan="1">
                            {{
                              pti?.CapitalGainsPTI?.STCG_Sec111A
                                ?.CurrYrLossShareByInvstFund
                            }}
                          </td>
                          <td rowspan="1">
                            {{
                              pti?.CapitalGainsPTI?.STCG_Sec111A?.NetIncomeLoss
                            }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.CapitalGainsPTI?.STCG_Sec111A?.TDSAmount }}
                          </td>
                        </tr>

                        <!-- row 5 -->
                        <tr>
                          <td rowspan="1">
                            {{ "aiii. Other than Section 111A" }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.CapitalGainsPTI?.STCG_Others?.AmountOfInc }}
                          </td>
                          <td rowspan="1">
                            {{
                              pti?.CapitalGainsPTI?.STCG_Others
                                ?.CurrYrLossShareByInvstFund
                            }}
                          </td>
                          <td rowspan="1">
                            {{
                              pti?.CapitalGainsPTI?.STCG_Others?.NetIncomeLoss
                            }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.CapitalGainsPTI?.STCG_Others?.TDSAmount }}
                          </td>
                        </tr>

                        <!-- row 6 -->
                        <tr>
                          <td rowspan="1">
                            {{ "b. Long term" }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.CapitalGainsPTI?.LongTermCG?.AmountOfInc }}
                          </td>
                          <td rowspan="1">
                            {{
                              pti?.CapitalGainsPTI?.LongTermCG
                                ?.CurrYrLossShareByInvstFund
                            }}
                          </td>
                          <td rowspan="1">
                            {{
                              pti?.CapitalGainsPTI?.LongTermCG?.NetIncomeLoss
                            }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.CapitalGainsPTI?.LongTermCG?.TDSAmount }}
                          </td>
                        </tr>

                        <!-- row 7 -->
                        <tr>
                          <td rowspan="1">
                            {{ "bi. Section 112A" }}
                          </td>
                          <td rowspan="1">
                            {{
                              pti?.CapitalGainsPTI?.LTCG_Sec112A?.AmountOfInc
                            }}
                          </td>
                          <td rowspan="1">
                            {{
                              pti?.CapitalGainsPTI?.LTCG_Sec112A
                                ?.CurrYrLossShareByInvstFund
                            }}
                          </td>
                          <td rowspan="1">
                            {{
                              pti?.CapitalGainsPTI?.LTCG_Sec112A?.NetIncomeLoss
                            }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.CapitalGainsPTI?.LTCG_Sec112A?.TDSAmount }}
                          </td>
                        </tr>

                        <!-- row 8 -->
                        <tr>
                          <td rowspan="1">
                            {{ "bii. Other than Section 112A" }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.CapitalGainsPTI?.LTCG_Others?.AmountOfInc }}
                          </td>
                          <td rowspan="1">
                            {{
                              pti?.CapitalGainsPTI?.LTCG_Others
                                ?.CurrYrLossShareByInvstFund
                            }}
                          </td>
                          <td rowspan="1">
                            {{
                              pti?.CapitalGainsPTI?.LTCG_Others?.NetIncomeLoss
                            }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.CapitalGainsPTI?.LTCG_Others?.TDSAmount }}
                          </td>
                        </tr>

                        <!-- row 9 -->
                        <tr>
                          <td rowspan="3" colspan="1">
                            {{ "iii" }}
                          </td>
                          <td rowspan="1" colspan="5">
                            {{ "Other Sources" }}
                          </td>
                        </tr>

                        <!-- row 10 -->
                        <tr>
                          <td rowspan="1">
                            {{ "a. Dividend" }}
                          </td>
                          <td rowspan="1" colspan="2">
                            {{ pti?.OS_Dividend?.AmountOfInc }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.OS_Dividend?.NetIncomeLoss }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.OS_Dividend?.TDSAmount }}
                          </td>
                        </tr>

                        <!-- row 11 -->
                        <tr>
                          <td rowspan="1">
                            {{ "b. Others" }}
                          </td>
                          <td rowspan="1" colspan="2">
                            {{ pti?.OS_Others?.AmountOfInc }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.OS_Others?.NetIncomeLoss }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.OS_Others?.TDSAmount }}
                          </td>
                        </tr>

                        <!-- row 12 -->
                        <tr>
                          <td rowspan="4" colspan="1">
                            {{ "iv" }}
                          </td>
                          <td rowspan="1" colspan="5">
                            {{ "Income claimed to be exempt" }}
                          </td>
                        </tr>

                        <!-- row 13 -->
                        <tr>
                          <td rowspan="1">
                            {{ "a. u/s 10(23FBB)" }}
                          </td>
                          <td rowspan="1" colspan="2">
                            {{ pti?.IncClmdPTI?.Sec23FBB?.AmountOfInc }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.IncClmdPTI?.Sec23FBB?.NetIncomeLoss }}
                          </td>
                          <td rowspan="1">
                            {{ pti?.IncClmdPTI?.Sec23FBB?.TDSAmount }}
                          </td>
                        </tr>

                        <!-- row 14 -->
                        <tr>
                          <td rowspan="1">
                            {{
                              pti?.IncClmdPTI?.SecBIncExmptDtl?.SectionCode ===
                              "b"
                                ? "u/s b"
                                : null
                            }}
                          </td>
                          <td rowspan="1" colspan="2">
                            {{
                              pti?.IncClmdPTI?.SecBIncExmptDtl?.SecBCIncExmptDtl
                                ?.AmountOfInc
                            }}
                          </td>
                          <td rowspan="1">
                            {{
                              pti?.IncClmdPTI?.SecBIncExmptDtl?.SecBCIncExmptDtl
                                ?.NetIncomeLoss
                            }}
                          </td>
                          <td rowspan="1">
                            {{
                              pti?.IncClmdPTI?.SecBIncExmptDtl?.SecBCIncExmptDtl
                                ?.TDSAmount
                            }}
                          </td>
                        </tr>

                        <!-- row 15 -->
                        <tr>
                          <td rowspan="1">
                            {{
                              pti?.IncClmdPTI?.SecCIncExmptDtl?.SectionCode ===
                              "c"
                                ? "u/s c"
                                : null
                            }}
                          </td>
                          <td rowspan="1" colspan="2">
                            {{
                              pti?.IncClmdPTI?.SecCIncExmptDtl?.SecBCIncExmptDtl
                                ?.AmountOfInc
                            }}
                          </td>
                          <td rowspan="1">
                            {{
                              pti?.IncClmdPTI?.SecCIncExmptDtl?.SecBCIncExmptDtl
                                ?.NetIncomeLoss
                            }}
                          </td>
                          <td rowspan="1">
                            {{
                              pti?.IncClmdPTI?.SecCIncExmptDtl?.SecBCIncExmptDtl
                                ?.TDSAmount
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </mat-expansion-panel>

                  <!-- *********************** Schedule ForeignIncome  ************************* -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    *ngIf="
                      !ITR_JSON.isItrSummaryJsonEdited &&
                      ITR_JSON.itrSummaryJson &&
                      finalCalculations?.ScheduleFSIDtls
                    "
                    #scheduleForeignInc
                  >
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            31. Schedule Foreing Income
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr">
                              <mat-icon *ngIf="!scheduleForeignInc.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="scheduleForeignInc.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <div
                      class="bxHed"
                      *ngIf="finalCalculations?.ScheduleFSIDtls?.length > 0"
                    >
                      Schedule FSI
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="finalCalculations?.ScheduleFSIDtls?.length > 0"
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">1. Sr. No</th>
                          <th style="font-weight: bold">2. Country Code</th>
                          <th style="font-weight: bold">
                            3. Taxpayer Identification Number
                          </th>
                          <th style="font-weight: bold">4. Sr. No</th>
                          <th style="font-weight: bold">5. Head of Income</th>
                          <th style="font-weight: bold">
                            6. Income from outside India
                          </th>
                          <th style="font-weight: bold">
                            7. Tax paid outside India
                          </th>
                          <th style="font-weight: bold">
                            8. Tax payable on such income under normal
                            provisions India
                          </th>
                          <th style="font-weight: bold">
                            9. Tax relief available in India
                          </th>
                          <th style="font-weight: bold">
                            10. Relevant Article of DTAA if relief claimed u/s
                            90 or 90A
                          </th>
                        </tr>
                      </thead>

                      <tbody>
                        <ng-container
                          *ngFor="
                            let fsi of finalCalculations?.ScheduleFSIDtls;
                            let i = index
                          "
                        >
                          <tr>
                            <td rowspan="5">
                              {{ i + 1 }}
                            </td>
                            <td rowspan="5">
                              {{ fsi?.CountryCodeExcludingIndia }} -
                              {{ fsi?.CountryName }}
                            </td>
                            <td rowspan="5">
                              {{ fsi?.TaxIdentificationNo }}
                            </td>
                            <!-- income content -->
                            <td>
                              {{ "i" }}
                            </td>
                            <td>
                              {{ "Salary" }}
                            </td>
                            <td>
                              {{ fsi?.IncFromSal?.IncFrmOutsideInd }}
                            </td>
                            <td>
                              {{ fsi?.IncFromSal?.TaxPaidOutsideInd }}
                            </td>
                            <td>
                              {{ fsi?.IncFromSal?.TaxPayableinInd }}
                            </td>
                            <td>
                              {{ fsi?.IncFromSal?.TaxReliefinInd }}
                            </td>
                            <td>
                              {{ fsi?.IncFromSal?.DTAAReliefUs90or90A }}
                            </td>
                          </tr>
                          <tr>
                            <td>
                              {{ "ii" }}
                            </td>
                            <td>
                              {{ "House Property" }}
                            </td>
                            <td>
                              {{ fsi?.IncFromHP?.IncFrmOutsideInd }}
                            </td>
                            <td>
                              {{ fsi?.IncFromHP?.TaxPaidOutsideInd }}
                            </td>
                            <td>
                              {{ fsi?.IncFromHP?.TaxPayableinInd }}
                            </td>
                            <td>
                              {{ fsi?.IncFromHP?.TaxReliefinInd }}
                            </td>
                            <td>
                              {{ fsi?.IncFromHP?.DTAAReliefUs90or90A }}
                            </td>
                          </tr>
                          <tr>
                            <td>
                              {{ "iii" }}
                            </td>
                            <td>
                              {{ "Capital gain" }}
                            </td>
                            <td>
                              {{ fsi?.IncCapGain?.IncFrmOutsideInd }}
                            </td>
                            <td>
                              {{ fsi?.IncCapGain?.TaxPaidOutsideInd }}
                            </td>
                            <td>
                              {{ fsi?.IncCapGain?.TaxPayableinInd }}
                            </td>
                            <td>
                              {{ fsi?.IncCapGain?.TaxReliefinInd }}
                            </td>
                            <td>
                              {{ fsi?.IncCapGain?.DTAAReliefUs90or90A }}
                            </td>
                          </tr>
                          <tr>
                            <td>
                              {{ "iv" }}
                            </td>
                            <td>
                              {{ "Other sources" }}
                            </td>
                            <td>
                              {{ fsi?.IncOthSrc?.IncFrmOutsideInd }}
                            </td>
                            <td>
                              {{ fsi?.IncOthSrc?.TaxPaidOutsideInd }}
                            </td>
                            <td>
                              {{ fsi?.IncOthSrc?.TaxPayableinInd }}
                            </td>
                            <td>
                              {{ fsi?.IncOthSrc?.TaxReliefinInd }}
                            </td>
                            <td>
                              {{ fsi?.IncOthSrc?.DTAAReliefUs90or90A }}
                            </td>
                          </tr>
                          <tr>
                            <td colspan="2">
                              {{ "Total" }}
                            </td>
                            <td>
                              {{ fsi?.TotalCountryWise?.IncFrmOutsideInd }}
                            </td>
                            <td>
                              {{ fsi?.TotalCountryWise?.TaxPaidOutsideInd }}
                            </td>
                            <td>
                              {{ fsi?.TotalCountryWise?.TaxPayableinInd }}
                            </td>
                            <td>
                              {{ fsi?.TotalCountryWise?.TaxReliefinInd }}
                            </td>
                            <td>
                              {{ fsi?.TotalCountryWise?.DTAAReliefUs90or90A }}
                            </td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>

                    <!-- schedule TR -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.ScheduleTR1?.ScheduleTR?.length > 0
                      "
                    >
                      Schedule TR (Summary of tax relief claimed)
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.ScheduleTR1?.ScheduleTR?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">
                            1. Country / Region Code
                          </th>
                          <th style="font-weight: bold">
                            2. Taxpayer Identification Number
                          </th>
                          <th style="font-weight: bold">
                            3. Total proportionate taxes paid outside India
                          </th>
                          <th style="font-weight: bold">
                            4. Total tax relief available
                          </th>
                          <th style="font-weight: bold">
                            5. Tax relief claimed under section (90, 90A, 91)
                          </th>
                        </tr>
                      </thead>

                      <tbody>
                        <ng-container
                          *ngFor="
                            let tr of finalCalculations?.ScheduleTR1
                              ?.ScheduleTR;
                            let i = index
                          "
                        >
                          <tr>
                            <td>
                              {{ tr?.CountryCodeExcludingIndia }} -
                              {{ tr?.CountryName }}
                            </td>
                            <td>
                              {{ tr?.TaxIdentificationNo }}
                            </td>
                            <td>
                              {{ tr?.TaxPaidOutsideIndia }}
                            </td>
                            <td>
                              {{ tr?.TaxReliefOutsideIndia }}
                            </td>
                            <td>
                              {{ tr?.ReliefClaimedUsSection }}
                            </td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>

                    <!-- schedule FA -->
                    <div class="bxHed" *ngIf="finalCalculations?.ScheduleFA">
                      Schedule FA (Details of Foreign Assets and Income from any
                      source outside India)
                    </div>

                    <!-- DetailsForiegnBank -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.ScheduleFA?.DetailsForiegnBank
                          ?.length > 0
                      "
                    >
                      Details of Foreign Depository Accounts held (including any
                      beneficial interest) at any time during the calendar year
                      ending as on 31st December, 2022
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.ScheduleFA?.DetailsForiegnBank
                          ?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">1. Sr. No</th>
                          <th style="font-weight: bold">
                            2. Country / Region Name
                          </th>
                          <th style="font-weight: bold">
                            3. Country / Region code
                          </th>
                          <th style="font-weight: bold">
                            4. Name of financial institution
                          </th>
                          <th style="font-weight: bold">
                            5. Address of financial institution
                          </th>
                          <th style="font-weight: bold">6. ZIP Code</th>
                          <th style="font-weight: bold">7. Account number</th>
                          <th style="font-weight: bold">8. Status</th>
                          <th style="font-weight: bold">
                            9. Account opening date
                          </th>
                          <th style="font-weight: bold">
                            10. Peak balance during the period
                          </th>
                          <th style="font-weight: bold">11. Closing balance</th>
                          <th style="font-weight: bold">
                            12. Gross interest paid/credited to the account
                            during the period
                          </th>
                        </tr>
                      </thead>

                      <tbody>
                        <ng-container
                          *ngFor="
                            let foreignBank of finalCalculations?.ScheduleFA
                              ?.DetailsForiegnBank;
                            let i = index
                          "
                        >
                          <tr>
                            <td>
                              {{ i + 1 }}
                            </td>
                            <td>
                              {{ foreignBank?.CountryCodeExcludingIndia }} -
                              {{ foreignBank?.CountryName }}
                            </td>
                            <td>
                              {{ foreignBank?.CountryCodeExcludingIndia }}
                            </td>
                            <td>
                              {{ foreignBank?.Bankname }}
                            </td>
                            <td>
                              {{ foreignBank?.AddressOfBank }}
                            </td>
                            <td>
                              {{ foreignBank?.ZipCode }}
                            </td>
                            <td>
                              {{ foreignBank?.ForeignAccountNumber }}
                            </td>
                            <td>
                              {{ foreignBank?.OwnerStatus }}
                            </td>
                            <td>
                              {{ foreignBank?.AccOpenDate }}
                            </td>
                            <td>
                              {{ foreignBank?.PeakBalanceDuringYear }}
                            </td>
                            <td>
                              {{ foreignBank?.ClosingBalance }}
                            </td>
                            <td>
                              {{ foreignBank?.IntrstAccured }}
                            </td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>

                    <!-- DtlsForeignCustodialAcc -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.ScheduleFA?.DtlsForeignCustodialAcc
                          ?.length > 0
                      "
                    >
                      Details of Foreign Custodial Accounts held (including any
                      beneficial interest) at any time during the calendar year
                      ending as on 31st December, 2022
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.ScheduleFA?.DtlsForeignCustodialAcc
                          ?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">1. Sr. No</th>
                          <th style="font-weight: bold">
                            2. Country / Region Name
                          </th>
                          <th style="font-weight: bold">
                            3. Country / Region code
                          </th>
                          <th style="font-weight: bold">
                            4. Name of financial institution
                          </th>
                          <th style="font-weight: bold">
                            5. Address of financial institution
                          </th>
                          <th style="font-weight: bold">6. ZIP Code</th>
                          <th style="font-weight: bold">7. Account number</th>
                          <th style="font-weight: bold">8. Status</th>
                          <th style="font-weight: bold">
                            9. Account opening date
                          </th>
                          <th style="font-weight: bold">
                            10. Peak balance during the period
                          </th>
                          <th style="font-weight: bold">11. Closing balance</th>
                          <th style="font-weight: bold">
                            12. Gross interest paid/credited to the account
                            during the period
                          </th>
                        </tr>
                      </thead>

                      <tbody>
                        <ng-container
                          *ngFor="
                            let DtlsForeignCustodialAcc of finalCalculations
                              ?.ScheduleFA?.DtlsForeignCustodialAcc;
                            let i = index
                          "
                        >
                          <tr>
                            <td>
                              {{ i + 1 }}
                            </td>
                            <td>
                              {{
                                DtlsForeignCustodialAcc?.CountryCodeExcludingIndia
                              }}
                              - {{ DtlsForeignCustodialAcc?.CountryName }}
                            </td>
                            <td>
                              {{
                                DtlsForeignCustodialAcc?.CountryCodeExcludingIndia
                              }}
                            </td>
                            <td>
                              {{ DtlsForeignCustodialAcc?.FinancialInstName }}
                            </td>
                            <td>
                              {{
                                DtlsForeignCustodialAcc?.FinancialInstAddress
                              }}
                            </td>
                            <td>
                              {{ DtlsForeignCustodialAcc?.ZipCode }}
                            </td>
                            <td>
                              {{ DtlsForeignCustodialAcc?.AccountNumber }}
                            </td>
                            <td>
                              {{ DtlsForeignCustodialAcc?.Status }}
                            </td>
                            <td>
                              {{ DtlsForeignCustodialAcc?.AccOpenDate }}
                            </td>
                            <td>
                              {{
                                DtlsForeignCustodialAcc?.PeakBalanceDuringPeriod
                              }}
                            </td>
                            <td>
                              {{ DtlsForeignCustodialAcc?.ClosingBalance }}
                            </td>
                            <td>
                              {{
                                DtlsForeignCustodialAcc?.GrossAmtPaidCredited
                              }}
                            </td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>

                    <!-- DtlsForeignEquityDebtInterest -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.ScheduleFA
                          ?.DtlsForeignEquityDebtInterest?.length > 0
                      "
                    >
                      Details of Foreign Equity and Debt Interest held
                      (including any beneficial interest) in any entity at any
                      time during the calendar year ending as on 31st December,
                      2022
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.ScheduleFA
                          ?.DtlsForeignEquityDebtInterest?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">1. Sr. No</th>
                          <th style="font-weight: bold">
                            2. Country / Region Name
                          </th>
                          <th style="font-weight: bold">
                            3. Country / Region code
                          </th>
                          <th style="font-weight: bold">4. Name of entity</th>
                          <th style="font-weight: bold">
                            5. Address of entity
                          </th>
                          <th style="font-weight: bold">6. ZIP Code</th>
                          <th style="font-weight: bold">7. Nature of entity</th>
                          <th style="font-weight: bold">
                            8. Date of acquiring the interest
                          </th>
                          <th style="font-weight: bold">
                            9. Initial value of the investment
                          </th>
                          <th style="font-weight: bold">
                            10. Peak value of investment during the period
                          </th>
                          <th style="font-weight: bold">11. Closing balance</th>
                          <th style="font-weight: bold">
                            12. Total gross amount paid/credited with respect to
                            the holding during the period
                          </th>
                          <th style="font-weight: bold">
                            13. Total gross proceeds from sale or redemption of
                            investment during the period
                          </th>
                        </tr>
                      </thead>

                      <tbody>
                        <ng-container
                          *ngFor="
                            let DtlsForeignEquityDebtInterest of finalCalculations
                              ?.ScheduleFA?.DtlsForeignEquityDebtInterest;
                            let i = index
                          "
                        >
                          <tr>
                            <td>
                              {{ i + 1 }}
                            </td>
                            <td>
                              {{
                                DtlsForeignEquityDebtInterest?.CountryCodeExcludingIndia
                              }}
                              - {{ DtlsForeignEquityDebtInterest?.CountryName }}
                            </td>
                            <td>
                              {{
                                DtlsForeignEquityDebtInterest?.CountryCodeExcludingIndia
                              }}
                            </td>
                            <td>
                              {{ DtlsForeignEquityDebtInterest?.NameOfEntity }}
                            </td>
                            <td>
                              {{
                                DtlsForeignEquityDebtInterest?.AddressOfEntity
                              }}
                            </td>
                            <td>
                              {{ DtlsForeignEquityDebtInterest?.ZipCode }}
                            </td>
                            <td>
                              {{
                                DtlsForeignEquityDebtInterest?.NatureOfEntity
                              }}
                            </td>
                            <td>
                              {{
                                DtlsForeignEquityDebtInterest?.InterestAcquiringDate
                              }}
                            </td>
                            <td>
                              {{
                                DtlsForeignEquityDebtInterest?.InitialValOfInvstmnt
                              }}
                            </td>
                            <td>
                              {{
                                DtlsForeignEquityDebtInterest?.PeakBalanceDuringPeriod
                              }}
                            </td>
                            <td>
                              {{
                                DtlsForeignEquityDebtInterest?.ClosingBalance
                              }}
                            </td>
                            <td>
                              {{
                                DtlsForeignEquityDebtInterest?.TotGrossAmtPaidCredited
                              }}
                            </td>
                            <td>
                              {{
                                DtlsForeignEquityDebtInterest?.TotGrossProceeds
                              }}
                            </td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>

                    <!-- DtlsForeignCashValueInsurance -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.ScheduleFA
                          ?.DtlsForeignCashValueInsurance?.length > 0
                      "
                    >
                      Details of Foreign Cash Value Insurance Contract or
                      Annuity Contract held (including any beneficial interest)
                      at any time during the calendar year ending as on 31st
                      December, 2022
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.ScheduleFA
                          ?.DtlsForeignCashValueInsurance?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">1. Sr. No</th>
                          <th style="font-weight: bold">
                            2. Country / Region Name
                          </th>
                          <th style="font-weight: bold">
                            3. Country / Region code
                          </th>
                          <th style="font-weight: bold">
                            4. Name of financial institution in which insurance
                            contract held
                          </th>
                          <th style="font-weight: bold">
                            5. Address of financial institution
                          </th>
                          <th style="font-weight: bold">6. ZIP Code</th>
                          <th style="font-weight: bold">7. Date of contract</th>
                          <th style="font-weight: bold">
                            8. The cash value or surrender value of the contract
                          </th>
                          <th style="font-weight: bold">
                            9. Total gross amount paid/credited with respect to
                            the contract during the period
                          </th>
                        </tr>
                      </thead>

                      <tbody>
                        <ng-container
                          *ngFor="
                            let DtlsForeignCashValueInsurance of finalCalculations
                              ?.ScheduleFA?.DtlsForeignCashValueInsurance;
                            let i = index
                          "
                        >
                          <tr>
                            <td>
                              {{ i + 1 }}
                            </td>
                            <td>
                              {{
                                DtlsForeignCashValueInsurance?.CountryCodeExcludingIndia
                              }}
                              - {{ DtlsForeignCashValueInsurance?.CountryName }}
                            </td>
                            <td>
                              {{
                                DtlsForeignCashValueInsurance?.CountryCodeExcludingIndia
                              }}
                            </td>
                            <td>
                              {{
                                DtlsForeignCashValueInsurance?.FinancialInstName
                              }}
                            </td>
                            <td>
                              {{
                                DtlsForeignCashValueInsurance?.FinancialInstAddress
                              }}
                            </td>
                            <td>
                              {{ DtlsForeignCashValueInsurance?.ZipCode }}
                            </td>
                            <td>
                              {{ DtlsForeignCashValueInsurance?.ContractDate }}
                            </td>
                            <td>
                              {{
                                DtlsForeignCashValueInsurance?.CashValOrSurrenderVal
                              }}
                            </td>
                            <td>
                              {{
                                DtlsForeignCashValueInsurance?.TotGrossAmtPaidCredited
                              }}
                            </td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>

                    <!-- DetailsFinancialInterest -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.ScheduleFA?.DetailsFinancialInterest
                          ?.length > 0
                      "
                    >
                      Details of Financial Interest in any Entity held
                      (including any beneficial interest) at any time during the
                      calendar year ending as on 31st December, 2022
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.ScheduleFA?.DetailsFinancialInterest
                          ?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold" rowspan="2">
                            1. Sr. No
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            2. Country / Region Name
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            3. ZIP Code
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            4. Nature of entity
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            5. Name and address of entity
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            6. Nature of interest
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            7. Date since held
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            8. Total investment
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            9. Income accrued from such interest
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            10. Nature of Income
                          </th>
                          <th style="font-weight: bold" rowspan="1" colspan="3">
                            11. Income taxable and offered in this return
                          </th>
                        </tr>
                        <tr>
                          <th style="font-weight: bold" rowspan="1">
                            11a. Amount
                          </th>
                          <th style="font-weight: bold" rowspan="1">
                            11b. Schedule where in offered
                          </th>
                          <th style="font-weight: bold" rowspan="1">
                            11c. Item number of Schedule
                          </th>
                        </tr>
                      </thead>

                      <tbody>
                        <ng-container
                          *ngFor="
                            let DetailsFinancialInterest of finalCalculations
                              ?.ScheduleFA?.DetailsFinancialInterest;
                            let i = index
                          "
                        >
                          <tr>
                            <td>
                              {{ i + 1 }}
                            </td>
                            <td>
                              {{
                                DetailsFinancialInterest?.CountryCodeExcludingIndia
                              }}
                              - {{ DetailsFinancialInterest?.CountryName }}
                            </td>
                            <td>
                              {{ DetailsFinancialInterest?.ZipCode }}
                            </td>
                            <td>
                              {{ DetailsFinancialInterest?.NatureOfEntity }}
                            </td>
                            <td>
                              {{ DetailsFinancialInterest?.NameOfEntity }} -
                              {{ DetailsFinancialInterest?.AddressOfEntity }}
                            </td>
                            <td>
                              {{ DetailsFinancialInterest?.NatureOfInt }}
                            </td>
                            <td>
                              {{ DetailsFinancialInterest?.DateHeld }}
                            </td>
                            <td>
                              {{ DetailsFinancialInterest?.TotalInvestment }}
                            </td>
                            <td>
                              {{ DetailsFinancialInterest?.IncFromInt }}
                            </td>
                            <td>
                              {{ DetailsFinancialInterest?.NatureOfInc }}
                            </td>
                            <td>
                              {{ DetailsFinancialInterest?.IncTaxAmt }}
                            </td>
                            <td>
                              {{ DetailsFinancialInterest?.IncTaxSch }}
                            </td>
                            <td>
                              {{ DetailsFinancialInterest?.IncTaxSchNo }}
                            </td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>

                    <!-- DetailsImmovableProperty -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.ScheduleFA?.DetailsImmovableProperty
                          ?.length > 0
                      "
                    >
                      Details of Immovable Property held (including any
                      beneficial interest) at any time during the calendar year
                      ending as on 31st December, 2022
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.ScheduleFA?.DetailsImmovableProperty
                          ?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold" rowspan="2">
                            1. Sr. No
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            2. Country / Region Name and code
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            3. Zip code
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            4. Address of the property
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            5. Ownership
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            6. Date of acquisition
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            7. Total investment
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            8. Income derived from the property
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            9. Nature of income
                          </th>
                          <th style="font-weight: bold" rowspan="1" colspan="3">
                            10. Income taxable and offered in this return
                          </th>
                        </tr>
                        <tr>
                          <th style="font-weight: bold" rowspan="1">
                            10a. Amount
                          </th>
                          <th style="font-weight: bold" rowspan="1">
                            10b. Schedule where offered
                          </th>
                          <th style="font-weight: bold" rowspan="1">
                            1oc. Item number of schedule
                          </th>
                        </tr>
                      </thead>

                      <tbody>
                        <ng-container
                          *ngFor="
                            let DetailsImmovableProperty of finalCalculations
                              ?.ScheduleFA?.DetailsImmovableProperty;
                            let i = index
                          "
                        >
                          <tr>
                            <td>
                              {{ i + 1 }}
                            </td>
                            <td>
                              {{
                                DetailsImmovableProperty?.CountryCodeExcludingIndia
                              }}
                              - {{ DetailsImmovableProperty?.CountryName }}
                            </td>
                            <td>
                              {{ DetailsImmovableProperty?.ZipCode }}
                            </td>
                            <td>
                              {{ DetailsImmovableProperty?.AddressOfProperty }}
                            </td>
                            <td>
                              {{ DetailsImmovableProperty?.Ownership }}
                            </td>
                            <td>
                              {{ DetailsImmovableProperty?.DateOfAcq }}
                            </td>
                            <td>
                              {{ DetailsImmovableProperty?.TotalInvestment }}
                            </td>
                            <td>
                              {{ DetailsImmovableProperty?.IncDrvProperty }}
                            </td>
                            <td>
                              {{ DetailsImmovableProperty?.NatureOfInc }}
                            </td>
                            <td>
                              {{ DetailsImmovableProperty?.IncTaxAmt }}
                            </td>
                            <td>
                              {{ DetailsImmovableProperty?.IncTaxSch }}
                            </td>
                            <td>
                              {{ DetailsImmovableProperty?.IncTaxSchNo }}
                            </td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>

                    <!-- DetailsOthAssets -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.ScheduleFA?.DetailsOthAssets
                          ?.length > 0
                      "
                    >
                      Details of any other Capital Asset held (including any
                      beneficial interest) at any time during the calendar year
                      ending as on 31st December, 2022
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.ScheduleFA?.DetailsOthAssets
                          ?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold" rowspan="2">
                            1. Sr. No
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            2. Country / Region Name and code
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            3. Zip code
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            4. Nature of asset
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            5. Ownership
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            6. Date of acquisition
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            7. Total investment
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            8. Income derived from the asset
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            9. Nature of income
                          </th>
                          <th style="font-weight: bold" rowspan="1" colspan="3">
                            10. Income taxable and offered in this return
                          </th>
                        </tr>
                        <tr>
                          <th style="font-weight: bold" rowspan="1">
                            10a. Amount
                          </th>
                          <th style="font-weight: bold" rowspan="1">
                            10b. Schedule where offered
                          </th>
                          <th style="font-weight: bold" rowspan="1">
                            1oc. Item number of schedule
                          </th>
                        </tr>
                      </thead>

                      <tbody>
                        <ng-container
                          *ngFor="
                            let DetailsOthAssets of finalCalculations
                              ?.ScheduleFA?.DetailsOthAssets;
                            let i = index
                          "
                        >
                          <tr>
                            <td>
                              {{ i + 1 }}
                            </td>
                            <td>
                              {{ DetailsOthAssets?.CountryCodeExcludingIndia }}
                              - {{ DetailsOthAssets?.CountryName }}
                            </td>
                            <td>
                              {{ DetailsOthAssets?.ZipCode }}
                            </td>
                            <td>
                              {{ DetailsOthAssets?.NatureOfAsset }}
                            </td>
                            <td>
                              {{ DetailsOthAssets?.Ownership }}
                            </td>
                            <td>
                              {{ DetailsOthAssets?.DateOfAcq }}
                            </td>
                            <td>
                              {{ DetailsOthAssets?.TotalInvestment }}
                            </td>
                            <td>
                              {{ DetailsOthAssets?.IncDrvAsset }}
                            </td>
                            <td>
                              {{ DetailsOthAssets?.NatureOfInc }}
                            </td>
                            <td>
                              {{ DetailsOthAssets?.IncTaxAmt }}
                            </td>
                            <td>
                              {{ DetailsOthAssets?.IncTaxSch }}
                            </td>
                            <td>
                              {{ DetailsOthAssets?.IncTaxSchNo }}
                            </td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>

                    <!-- DetailsOfAccntsHvngSigningAuth -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.ScheduleFA
                          ?.DetailsOfAccntsHvngSigningAuth?.length > 0
                      "
                    >
                      Details of account(s) in which you have signing authority
                      held (including any beneficial interest) at any time
                      during the calendar year ending as on 31st December, 2022
                      and which has not been included in A to D above.
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.ScheduleFA
                          ?.DetailsOfAccntsHvngSigningAuth?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold" rowspan="2">
                            1. Sr. No
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            2. Name of the Institution in which the account is
                            held
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            3. Address of the Institution
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            4. Country/Region Name and Code
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            5. Zip Code
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            6. Name of the account holder
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            7. Account number
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            8. Peak Balance/ Investment during the year(in
                            rupees)
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            9. Whether income accrued is taxable in your hands?
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            10. If (7) is yes, Income accrued in the account
                          </th>
                          <th style="font-weight: bold" rowspan="1" colspan="3">
                            11. If (7) is yes, Income offered in this return
                          </th>
                        </tr>
                        <tr>
                          <th style="font-weight: bold" rowspan="1">
                            10a. Amount
                          </th>
                          <th style="font-weight: bold" rowspan="1">
                            10b. Schedule where offered
                          </th>
                          <th style="font-weight: bold" rowspan="1">
                            1oc. Item number of schedule
                          </th>
                        </tr>
                      </thead>

                      <tbody>
                        <ng-container
                          *ngFor="
                            let DetailsOfAccntsHvngSigningAuth of finalCalculations
                              ?.ScheduleFA?.DetailsOfAccntsHvngSigningAuth;
                            let i = index
                          "
                        >
                          <tr>
                            <td>
                              {{ i + 1 }}
                            </td>
                            <td>
                              {{
                                DetailsOfAccntsHvngSigningAuth?.NameOfInstitution
                              }}
                            </td>
                            <td>
                              {{
                                DetailsOfAccntsHvngSigningAuth?.AddressOfInstitution
                              }}
                            </td>
                            <td>
                              {{
                                DetailsOfAccntsHvngSigningAuth?.CountryCodeExcludingIndia
                              }}
                              -
                              {{ DetailsOfAccntsHvngSigningAuth?.CountryName }}
                            </td>
                            <td>
                              {{ DetailsOfAccntsHvngSigningAuth?.ZipCode }}
                            </td>
                            <td>
                              {{
                                DetailsOfAccntsHvngSigningAuth?.NameMentionedInAccnt
                              }}
                            </td>
                            <td>
                              {{
                                DetailsOfAccntsHvngSigningAuth?.InstitutionAccountNumber
                              }}
                            </td>
                            <td>
                              {{
                                DetailsOfAccntsHvngSigningAuth?.PeakBalanceOrInvestment
                              }}
                            </td>
                            <td>
                              {{
                                DetailsOfAccntsHvngSigningAuth?.IncAccuredTaxFlag
                              }}
                            </td>
                            <td>
                              {{
                                DetailsOfAccntsHvngSigningAuth?.IncAccuredInAcc
                              }}
                            </td>
                            <td>
                              {{
                                DetailsOfAccntsHvngSigningAuth?.IncOfferedAmt
                              }}
                            </td>
                            <td>
                              {{
                                DetailsOfAccntsHvngSigningAuth?.IncOfferedSch
                              }}
                            </td>
                            <td>
                              {{
                                DetailsOfAccntsHvngSigningAuth?.IncOfferedSchNo
                              }}
                            </td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>

                    <!-- DetailsOfTrustOutIndiaTrustee -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.ScheduleFA
                          ?.DetailsOfTrustOutIndiaTrustee?.length > 0
                      "
                    >
                      Details of trusts, created under the laws of a country
                      outside India, in which you are a trustee, beneficiary or
                      settlor
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.ScheduleFA
                          ?.DetailsOfTrustOutIndiaTrustee?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold" rowspan="2">
                            1. Sr. No
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            2. Country/Region Name and code
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            3. Zip Code
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            4. Name and address of the trust
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            5. Name and address of trustees
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            6. Name and address of Settlor
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            7. Name and address of Beneficiaries
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            8. Date since position held
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            9. Whether income derived is taxable in your hands?
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            10. If (8) is yes, Income derived from the trust
                          </th>
                          <th style="font-weight: bold" rowspan="1" colspan="3">
                            11. If (8) is yes, Income offered in this return
                          </th>
                        </tr>
                        <tr>
                          <th style="font-weight: bold" rowspan="1">
                            10a. Amount
                          </th>
                          <th style="font-weight: bold" rowspan="1">
                            10b. Schedule where offered
                          </th>
                          <th style="font-weight: bold" rowspan="1">
                            10c. Item number of schedule
                          </th>
                        </tr>
                      </thead>

                      <tbody>
                        <ng-container
                          *ngFor="
                            let DetailsOfTrustOutIndiaTrustee of finalCalculations
                              ?.ScheduleFA?.DetailsOfTrustOutIndiaTrustee;
                            let i = index
                          "
                        >
                          <tr>
                            <td>
                              {{ i + 1 }}
                            </td>
                            <td>
                              {{
                                DetailsOfTrustOutIndiaTrustee?.CountryCodeExcludingIndia
                              }}
                              - {{ DetailsOfTrustOutIndiaTrustee?.CountryName }}
                            </td>
                            <td>
                              {{ DetailsOfTrustOutIndiaTrustee?.ZipCode }}
                            </td>
                            <td>
                              {{ DetailsOfTrustOutIndiaTrustee?.NameOfTrust }}
                              -
                              {{
                                DetailsOfTrustOutIndiaTrustee?.AddressOfTrust
                              }}
                            </td>
                            <td>
                              {{
                                DetailsOfTrustOutIndiaTrustee?.NameOfOtherTrustees
                              }}
                              -
                              {{
                                DetailsOfTrustOutIndiaTrustee?.AddressOfOtherTrustees
                              }}
                            </td>
                            <td>
                              {{ DetailsOfTrustOutIndiaTrustee?.NameOfSettlor }}
                              {{
                                DetailsOfTrustOutIndiaTrustee?.AddressOfSettlor
                              }}
                            </td>
                            <td>
                              {{
                                DetailsOfTrustOutIndiaTrustee?.NameOfBeneficiaries
                              }}
                              -
                              {{
                                DetailsOfTrustOutIndiaTrustee?.AddressOfBeneficiaries
                              }}
                            </td>
                            <td>
                              {{ DetailsOfTrustOutIndiaTrustee?.DateHeld }}
                            </td>
                            <td>
                              {{ DetailsOfTrustOutIndiaTrustee?.IncDrvTaxFlag }}
                            </td>
                            <td>
                              {{
                                DetailsOfTrustOutIndiaTrustee?.IncDrvFromTrust
                              }}
                            </td>
                            <td>
                              {{ DetailsOfTrustOutIndiaTrustee?.IncOfferedAmt }}
                            </td>
                            <td>
                              {{ DetailsOfTrustOutIndiaTrustee?.IncOfferedSch }}
                            </td>
                            <td>
                              {{
                                DetailsOfTrustOutIndiaTrustee?.IncOfferedSchNo
                              }}
                            </td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>

                    <!-- DetailsOfOthSourcesIncOutsideIndia -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.ScheduleFA
                          ?.DetailsOfOthSourcesIncOutsideIndia?.length > 0
                      "
                    >
                      Details of any other income derived from any source
                      outside India which is not included in,- (i) items A to F
                      above and, (ii) income under the head business or
                      profession
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.ScheduleFA
                          ?.DetailsOfOthSourcesIncOutsideIndia?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold" rowspan="2">
                            1. Sr. No
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            2. Country/Region Name and code
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            3. Zip Code
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            4. Name and address of the person from whom derived
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            5. Income derived
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            6. Nature of Income
                          </th>
                          <th style="font-weight: bold" rowspan="2">
                            7. Whether taxable in your hands?
                          </th>
                          <th style="font-weight: bold" rowspan="1" colspan="3">
                            8. If (6) is yes, Income offered in this return
                          </th>
                        </tr>
                        <tr>
                          <th style="font-weight: bold" rowspan="1">
                            8a. Amount
                          </th>
                          <th style="font-weight: bold" rowspan="1">
                            8b. Schedule where offered
                          </th>
                          <th style="font-weight: bold" rowspan="1">
                            8c. Item number of schedule
                          </th>
                        </tr>
                      </thead>

                      <tbody>
                        <ng-container
                          *ngFor="
                            let DetailsOfOthSourcesIncOutsideIndia of finalCalculations
                              ?.ScheduleFA?.DetailsOfOthSourcesIncOutsideIndia;
                            let i = index
                          "
                        >
                          <tr>
                            <td>
                              {{ i + 1 }}
                            </td>
                            <td>
                              {{
                                DetailsOfOthSourcesIncOutsideIndia?.CountryCodeExcludingIndia
                              }}
                              -
                              {{
                                DetailsOfOthSourcesIncOutsideIndia?.CountryName
                              }}
                            </td>
                            <td>
                              {{ DetailsOfOthSourcesIncOutsideIndia?.ZipCode }}
                            </td>
                            <td>
                              {{
                                DetailsOfOthSourcesIncOutsideIndia?.NameOfPerson
                              }}
                              -
                              {{
                                DetailsOfOthSourcesIncOutsideIndia?.AddressOfPerson
                              }}
                            </td>
                            <td>
                              {{
                                DetailsOfOthSourcesIncOutsideIndia?.IncDerived
                              }}
                            </td>
                            <td>
                              {{
                                DetailsOfOthSourcesIncOutsideIndia?.NatureOfInc
                              }}
                            </td>
                            <td>
                              {{
                                DetailsOfOthSourcesIncOutsideIndia?.IncDrvTaxFlag
                              }}
                            </td>
                            <td>
                              {{
                                DetailsOfOthSourcesIncOutsideIndia?.IncOfferedAmt
                              }}
                            </td>
                            <td>
                              {{
                                DetailsOfOthSourcesIncOutsideIndia?.IncOfferedSch
                              }}
                            </td>
                            <td>
                              {{
                                DetailsOfOthSourcesIncOutsideIndia?.IncOfferedSchNo
                              }}
                            </td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>
                  </mat-expansion-panel>

                  <!-- *********************** Exempt Income ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    #exemptIncome
                  >
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            <b> 31. Exempt Income</b>
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!exemptIncome.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="exemptIncome.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                keys.ExemptIncAgriOthUs10Total
                                  ? keys?.ExemptIncAgriOthUs10Total || 0
                                  : getExemptIncomeTotal() +
                                    (finalCalculations?.exemptIncome?.total ||
                                      0)
                              }}
                            </label>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                    <div
                      *ngIf="
                        (ITR_JSON.itrSummaryJson && keys.ExemptIncomeDetails) ||
                        passThroughInc
                      "
                    >
                      <table
                        class="table table-bordered table-striped table-hover"
                      >
                        <tbody>
                          <tr>
                            <td><b>Particular</b></td>
                            <td><b>Amount</b></td>
                          </tr>
                          <tr *ngFor="let exempt of keys?.ExemptIncomeDetails">
                            <td>{{ exempt?.NatureDesc }}</td>
                            <td class="">
                              <i class="material-icons" style="font-size: 15px"
                                >â‚¹</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  exempt?.OthAmount -
                                    finalCalculations?.giftExemptIncome
                                    ? finalCalculations?.giftExemptIncome
                                    : 0
                                )
                              }}
                            </td>
                          </tr>
                          <tr
                            *ngIf="
                              finalCalculations?.giftExemptIncome &&
                              finalCalculations?.giftExemptIncome > 0
                            "
                          >
                            <td>Gift u/s 56(2)(x)</td>
                            <td class="">
                              <i class="material-icons" style="font-size: 15px"
                                >â‚¹</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.giftExemptIncome
                                )
                              }}
                            </td>
                          </tr>
                          <tr *ngIf="passThroughInc">
                            <td>Pass through income not chargeable to tax</td>
                            <td>
                              {{ passThroughInc }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div *ngIf="!ITR_JSON.itrSummaryJson">
                      <table
                        class="table table-bordered table-striped table-hover"
                      >
                        <tbody>
                          <tr>
                            <td><b>Particular</b></td>
                            <td><b>Amount</b></td>
                          </tr>
                          <tr *ngFor="let exempt of ITR_JSON.exemptIncomes">
                            <td>{{ getExemptDescription(exempt) }}</td>
                            <td class="">
                              <i class="material-icons" style="font-size: 15px"
                                >â‚¹</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(exempt?.amount)
                              }}
                            </td>
                          </tr>
                          <tr
                            *ngIf="
                              finalCalculations?.giftExemptIncome &&
                              finalCalculations?.giftExemptIncome > 0
                            "
                          >
                            <td>Gift u/s 56(2)(x)</td>
                            <td class="">
                              <i class="material-icons" style="font-size: 15px"
                                >â‚¹</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.giftExemptIncome
                                )
                              }}
                            </td>
                          </tr>
                          <tr
                            *ngIf="
                              finalCalculations?.profitShareAmount &&
                              finalCalculations.profitShareAmount > 0
                            "
                          >
                            <td>Firm profit share</td>
                            <td class="">
                              <i class="material-icons" style="font-size: 15px"
                                >â‚¹</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations.profitShareAmount
                                )
                              }}
                            </td>
                          </tr>
                          <tr *ngIf="passThroughInc">
                            <td>Pass through income not chargeable to tax</td>
                            <td>
                              {{ passThroughInc }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <!-- crypto gains  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.exemptIncome?.partnerFirms?.length >
                        0
                      "
                    >
                      Partnership firm details
                      <!-- <span style="float: right">{{
                  finalCalculations?.capitalGain?.totalCryptoIncome
                }}</span> -->
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.exemptIncome?.partnerFirms?.length >
                        0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Sr. No</th>
                          <th style="font-weight: bold">Name</th>
                          <th style="font-weight: bold">Pan Number</th>
                          <th style="font-weight: bold">Profit Share Amount</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.exemptIncome
                              ?.partnerFirms;
                            let i = index
                          "
                        >
                          <td>{{ i + 1 }}</td>
                          <td>
                            {{ slabRate?.name }}
                          </td>
                          <td>
                            {{ slabRate?.panNumber }}
                          </td>

                          <td>
                            Rs
                            {{ slabRate?.profitShareAmount }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </mat-expansion-panel>
                </mat-accordion>
              </td>
            </tr>
          </tbody>
        </table>
        <!-- </div>
    </div> -->
        <!-- **************************** Accordion End -->

        <!-- --------------------- ITR 4 --------------------------------- -->

        <br />
        <!-- </div> -->
        <!-- <div class="container">
  <div class="row">
    <div class="col-lg-12">
      <b>Note:</b> * Negative value has been considered as zero for the purpose
      of calculation of total income however provision for setoff and carry
      forword will be taken care off as per ITR rules.
    </div>
  </div>
  <div class="row" *ngIf="taxable && taxable > 0">
    <div class="col-lg-3 col-md-3 col-sm-12">
      <div class="incBx1">
        <span class="inTex">Income Tax Payable:</span><br /><br />
        <span class="inNo"
          >{{ utilsService.currencyFormatter(taxable) }}.00</span
        >
      </div>
    </div>
    <div class="col-lg-9 col-md-9 col-sm-12 paIncTx1">
      You must pay the balance tax before proceeding to e-filing. To pay your
      tax
      <a
        href="https://onlineservices.tin.egov-nsdl.com/etaxnew/tdsnontds.jsp"
        target="_new"
        style="text-decoration: underline"
        class="LkTx"
        >Click here</a
      ><br />
      and select CHALLAN NO/ITNS 280 under NON-TDS/TCS Section
    </div>
  </div>

  <div *ngIf="refund > 0">
    <div class="col-lg-3 col-md-3 col-sm-12">
      <div class="incBx1">
        <span class="inTex">Income Tax Refund:</span><br /><br />
        <span class="inRef"
          >{{ utilsService.currencyFormatter(refund) }}.00</span
        >
      </div>
    </div>
    <div class="col-lg-9 col-md-9 col-sm-12 paIncTx1">
      Great news...!!! You are getting refund of
      {{ utilsService.currencyFormatter(refund) }}.00 of your tax return into
      your bank account number. <b>{{ bankArray?.accountNumber }}</b>
      <br />
      <span style="font-size: 12px; font-style: italic"
        ><b>Note:</b> Ensure that your bank account is correct & Pre-validated
        to Income tax portal.
        <span>
          <a
            href="https://blog.taxbuddy.com/index.php/pre-validate-bank-account/"
            target="_blank"
            style="color: #e98017 !important"
            >Click here</a
          ></span
        >
        to know How to Pre-validate Your Bank Account.</span
      >
    </div>
  </div>
  </div> -->
        <div class="sub_btn lwBtDn" *ngIf="show">
          <button
            type="button"
            *ngIf="isValidItr"
            (click)="confirmSubmitITR()"
            class="btn grBut pull-right"
            [style.cursor]="!isValidateJson ? 'not-allowed' : 'pointer'"
            style="background-color: red"
            [disabled]="!isValidateJson"
          >
            File ITR
          </button>
          <!-- <button type="button" (click)="downloadXML()" class="btn grBut" style="background-color: orange;">
            Download XML
        </button> -->
          <button type="button" (click)="downloadPDF()" class="btn grBut">
            Download PDF
          </button>
        </div>
        <div *ngIf="!show" class="text-center-align">
          <label>{{ errorMessage }}</label>
        </div>
      </div>
    </div>
  </div>
</div>
