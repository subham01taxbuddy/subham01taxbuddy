<ngx-loading
  [show]="loading"
  [config]="{ backdropBorderRadius: '14px', fullScreenBackdrop: true }"
></ngx-loading>
<div
  class="card__title"
  style="padding: 10px; font-size: 20px"
  (click)="downloadXML()"
>
  Personal Details
</div>

<div class="grids griHgh return_glance tpOfBx">
  <div class="com_model perBx">
    <div class="container">
      <div class="card__row">
        <div class="card__col-xs-12 card__col-sm-4 card__col-md-4">
          <!-- Name -->
          <div class="txBt">
            <span class="txLf">Name:</span>
            <span class="txMuLf">{{
              finalCalculations?.personalInfo?.name
            }}</span>
          </div>
          <div
            class="txBt"
            *ngIf="
              finalCalculations?.personalInfo?.aadhaarNumber !== '' &&
              finalCalculations?.personalInfo?.aadhaarNumber !== null &&
              finalCalculations?.personalInfo?.aadhaarNumber !== undefined
            "
          >
            <div>
              <span class="txLf">Aadhar Number:</span
              ><span class="txMuLf">{{
                finalCalculations?.personalInfo?.aadhaarNumber
              }}</span>
            </div>
          </div>
          <!-- Mobile -->
          <div class="txBt">
            <div>
              <span class="txLf">Mobile Number:</span
              ><span class="txMuLf">{{
                finalCalculations?.personalInfo?.mobileNumber
              }}</span>
            </div>
          </div>
          <!--Residential Status  -->
          <div class="txBt">
            <span class="txLf">Residential Status: </span
            ><span class="txMuLf">{{
              finalCalculations?.personalInfo?.resStatus
            }}</span>
          </div>
          <!-- jurisdiction details for nri, nor  -->
          <div
            class="txBt"
            *ngIf="
              finalCalculations?.personalInfo?.resStatus === 'Non-Resident' ||
              finalCalculations?.personalInfo?.resStatus ===
                'Non-Ordinary Resident'
            "
          >
            <span class="txLf">Jurisdiction of Residence: </span>
            <br />
            <span
              class="txMuLf"
              style="margin: 0%"
              *ngFor="
                let jurisdiction of finalCalculations?.personalInfo
                  ?.JurisdictionResPrevYrDtls;
                let i = index
              "
            >
              <div>
                <span> {{ i + 1 }}. </span>

                <span>
                  {{ jurisdiction?.JurisdictionResidence }}
                </span>

                <span>
                  {{ jurisdiction?.TIN }}
                </span>
              </div>
            </span>
          </div>
          <div class="txBt">
            <span class="txLf">Return Type:</span
            ><span class="txMuLf">{{
              finalCalculations?.personalInfo?.returnType
            }}</span>
          </div>
          <!-- Address -->
          <div class="txBt" style="border-bottom: none">
            <span class="txLf">Address:</span
            ><span class="txMuLf">{{
              finalCalculations?.personalInfo?.Address
            }}</span>
          </div>
        </div>
        <div class="card__col-xs-12 card__col-sm-4 card__col-md-4">
          <!-- DOB -->
          <div class="txBt">
            <span class="txLf">Date of Birth:</span
            ><span class="txMuLf">{{
              finalCalculations?.personalInfo?.dob | date
            }}</span>
          </div>
          <!-- PAN -->
          <div class="txBt">
            <span class="txLf">PAN Card:</span
            ><span class="txMuLf">{{
              finalCalculations?.personalInfo?.panNumber
            }}</span>
          </div>

          <!-- Email Id  -->
          <div class="txBt">
            <span class="txLf">Email ID:</span
            ><span class="txMuLf">{{
              finalCalculations?.personalInfo?.email
            }}</span>
          </div>
          <!-- ITR Form -->
          <div class="txBt">
            <span class="txLf">ITR Form:</span>
            <span class="txMuLf">{{
              finalCalculations?.personalInfo?.itrType
            }}</span>
          </div>

          <div class="txBt">
            <span class="txLf">Original Ack No:</span>
            <span class="txMuLf">{{
              finalCalculations?.personalInfo?.orgAckNumber
            }}</span>
          </div>

          <!-- Bank  -->
          <div class="txBt" style="border-bottom: none">
            <span class="txLf">Bank Name:</span
            ><span class="txMuLf">{{
              finalCalculations?.personalInfo?.bankName
            }}</span>
            <span class="txLf">Account Number:</span
            ><span class="txMuLf">{{
              finalCalculations?.personalInfo?.bankAccountNumber
            }}</span>
          </div>
        </div>

        <div class="card__col-xs-12 card__col-sm-4 card__col-md-4">
          <div *ngIf="finalCalculations?.amountPayable > 0">
            <div class="incBx">
              <span class="inTex">Income Tax Payable:</span><br /><br />
              <span class="inNo"
                >{{
                  utilsService.currencyFormatter(
                    finalCalculations?.amountPayable
                  )
                }}.00</span
              >
            </div>
            <p class="paIncTx">
              You must pay the balance tax before proceeding to e-filing. To pay
              your tax
              <a
                href="https://eportal.incometax.gov.in/iec/foservices/#/e-pay-tax-prelogin/user-details"
                target="_new"
                class="LkTx"
                >Click here</a
              >
              and select<br />
              CHALLAN NO/ITNS 280 under NON-TDS/TCS Section
            </p>
          </div>
        </div>

        <div
          class="regime"
          style="background-color: orange; padding: 10px; margin-bottom: 5px"
        >
          {{ ITR_JSON.regime === "NEW" ? "New Tax Regime" : "Old Tax Regime" }}
        </div>

        <div
          class="regime"
          *ngIf="ITR_JSON.itrSummaryJson"
          style="background-color: orange; padding: 10px; margin-bottom: 5px"
        >
          {{
            ITR_JSON.isItrSummaryJsonEdited === true
              ? "Taxbuddy Calculations"
              : "Calculations as per uploaded JSON"
          }}
        </div>

        <div
          class="regime"
          *ngIf="!ITR_JSON.itrSummaryJson"
          style="background-color: orange; padding: 10px; margin-bottom: 5px"
        >
          Taxbuddy Calculations
        </div>

        <div
          class="card__col-xs-12 card__col-sm-4 card__col-md-4"
          style="margin-top: 25px"
          *ngIf="finalCalculations?.amountRefund > 0"
        >
          <div class="incBx">
            <span class="inTex">Income Tax Refund:</span><br /><br />
            <span class="inRef"
              >{{
                utilsService.currencyFormatter(finalCalculations?.amountRefund)
              }}.00</span
            >
          </div>
          <p class="paIncTx">
            Great news...!!! You are getting refund of
            {{
              utilsService.currencyFormatter(finalCalculations?.amountRefund)
            }}.00 of your tax return into your bank account number.
            <b>{{ bankArray?.accountNumber }}</b>
          </p>
        </div>
      </div>
    </div>
  </div>
  <br />
  <hr />
  <app-update-status [userId]="ITR_JSON.userId"></app-update-status>
  <hr />
  <!-- <div _ngcontent-c4="" class="sub_btn mvBtU"><button _ngcontent-c4="" class="btn prvBut"
        routerlink="/warning" type="button" tabindex="0" ng-reflect-router-link="/warning">Previous</button>
      <button _ngcontent-c4="" class="btn grBut" type="button" style="cursor: pointer;"><i _ngcontent-c4=""
          class="fas fa-download"></i> Download </button></div> -->

  <div class="flex flex-col">
    <div class="sub_btn lwBtDn" *ngIf="show">
      <!-- <button type="button" class="btn prvBut" (click)="previousRoute()"
              [disabled]="isPreviousAvailable()">Previous</button> -->
      <!-- <button type="button" *ngIf="ITR_JSON.eFillingCompleted" routerLink="/taxreturn" class="btn save"> Back
              To My ITR(s)</button> -->

      <!-- <button *ngIf="!ITR_JSON.eFillingCompleted" type="button" (click)="downloadXML()" class="btn grBut"
                [disabled]="taxable && taxable > 0" [style.cursor]="(taxable && taxable > 0) ? 'not-allowed':'pointer'"> <i
                  class="fas fa-download"></i> Download XML</button> -->
      <!-- TODO -->
      <button
        type="button"
        *ngIf="isValidItr"
        (click)="confirmSubmitITR()"
        class="btn grBut pull-right"
        [style.cursor]="!isValidateJson ? 'not-allowed' : 'pointer'"
        style="background-color: red"
        [disabled]="!isValidateJson"
      >
        File ITR
      </button>
      <!-- <button *ngIf="isValidateJson" type="button" (click)="confirmSubmitITR()"
              class="btn grBut pull-right" [disabled]="(taxable && taxable > 0) || isPreviousAvailable()"
              [style.cursor]="((taxable && taxable > 0) || isPreviousAvailable()) ? 'not-allowed':'pointer'"
              style="background-color: red;"> File
              ITR</button> -->
      <!-- <button type="button" (click)="downloadXML()" class="btn grBut" style="background-color: orange;">
              Download XML</button> -->
      <!--  [disabled]="taxable && taxable > 0"  [style.cursor]="(taxable && taxable > 0) ? 'not-allowed':'pointer'"  *ngIf="ITR_JSON.isDefective === 'Y'" -->
      <button type="button" (click)="downloadPDF()" class="btn grBut">
        Download PDF
      </button>
      <button
        type="button"
        class="btn kommBut"
        (click)="sendPdf('kommunicate')"
      >
        Send PDF to Kommunicate
      </button>

      <button
        type="button"
        class="btn whatsAppBut"
        (click)="sendPdf('whatsapp')"
      >
        Send PDF to WhatsApp
      </button>
      <button
        type="button"
        class="btn whatsAppBut"
        style="background-color: #05a3bc; border: #05a3bc solid 1px"
        (click)="downloadJson()"
      >
        Download JSON
      </button>
      <button
        type="button"
        (click)="validateITR()"
        class="btn grBut"
        style="background-color: orange"
      >
        Validate ITR
      </button>
      <button
        *ngIf="
          ITR_JSON.itrSummaryJson &&
          this.utilsService.isNonEmpty(ITR_JSON.itrSummaryJson)
        "
        type="button"
        (click)="updateManually()"
        class="btn grBut"
        style="background-color: #39670b"
      >
        Manual Update
      </button>
    </div>

    <div>
      <div class="flex flex-row justify-between items-start">
        <h3>Computation of Income and Tax</h3>
        <!-- <div>
          <mat-slide-toggle [(ngModel)]="summaryToolChecked"></mat-slide-toggle>
          <span> Use Summary Tool instead </span>
        </div> -->
      </div>
    </div>
  </div>

  <div class="container" *ngIf="show">
    <div class="row">
      <div class="col-sm-12">
        <table>
          <tbody>
            <tr>
              <td colspan="4" class="padding-panel">
                <mat-accordion>
                  <!-- *************** Income from Salary ********************-->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="
                      finalCalculations?.salary?.salaryTotalIncome === 0
                        ? true
                        : false
                    "
                    #salary
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div
                            class="col-lg-8 col-md-8 col-sm-8 col-xs-8 whieTx"
                          >
                            1. Income from Salary
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!salary.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="salary.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>

                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i>&nbsp;
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.salary?.salaryTotalIncome
                                )
                              }}
                            </label>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <div>
                      <table
                        class="table table-bordered table-striped table-hover"
                        style="margin-top: 20px"
                      >
                        <tbody>
                          <tr>
                            <th>Particulars</th>
                            <th
                              *ngFor="
                                let salary of finalCalculations?.salary
                                  ?.employers;
                                let i = index
                              "
                            >
                              Employer {{ i + 1 }}
                            </th>
                          </tr>
                          <tr>
                            <td>1. Employer's Name</td>
                            <td
                              *ngFor="
                                let salary of finalCalculations?.salary
                                  ?.employers;
                                let i = index
                              "
                            >
                              {{
                                utilsService.isNonEmpty(salary.employerName)
                                  ? salary?.employerName
                                  : "Employer " + (i + 1)
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>2. Gross Salary</td>
                            <td
                              *ngFor="
                                let salary of finalCalculations?.salary
                                  ?.employers;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  salary.grossSalary
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>3. Less: Exempt Allowance</td>
                            <td
                              *ngFor="
                                let salary of finalCalculations?.salary
                                  ?.employers;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  salary.exemptAllowance
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>4. Less: Professional Tax</td>
                            <td
                              *ngFor="
                                let salary of finalCalculations?.salary
                                  ?.employers;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  salary.professionalTax
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>5. Less: Entertainment Allowance</td>
                            <td
                              *ngFor="
                                let salary of finalCalculations?.salary
                                  ?.employers;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  salary.entAllowance
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>6. Less: Standard Deduction</td>
                            <td
                              *ngFor="
                                let salary of finalCalculations?.salary
                                  ?.employers;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  salary.standardDeduction
                                )
                              }}
                            </td>
                          </tr>

                          <tr>
                            <th>7. Taxable Salary</th>
                            <td
                              *ngFor="
                                let salary of finalCalculations?.salary
                                  ?.employers;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  salary.taxableSalary
                                )
                              }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </mat-expansion-panel>

                  <!-- *******************Income from House Property ************************** -->
                  <mat-expansion-panel class="color-panel accordion-border" #HP>
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            2. Income from House Property
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr">
                              <mat-icon *ngIf="!HP.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="HP.expanded"
                                >keyboard_arrow_up</mat-icon
                              >
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.houseProperties
                                    ?.hpTotalIncome
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <div>
                      <table
                        class="table table-bordered table-striped table-hover"
                        style="margin-top: 20px"
                      >
                        <tbody>
                          <tr>
                            <th>Particulars</th>
                            <th
                              *ngFor="
                                let hp of finalCalculations?.houseProperties
                                  ?.houseProps;
                                let i = index
                              "
                            >
                              {{ hp.typeOfHp }}
                            </th>
                          </tr>
                          <tr>
                            <td>1. Gross Rent Received</td>
                            <td
                              *ngFor="
                                let hp of finalCalculations?.houseProperties
                                  ?.houseProps;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  hp.grossRentReceived
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>2. Taxes Paid</td>
                            <td
                              *ngFor="
                                let hp of finalCalculations?.houseProperties
                                  ?.houseProps;
                                let i = index
                              "
                            >
                              Rs
                              {{ utilsService.currencyFormatter(hp.taxesPaid) }}
                            </td>
                          </tr>
                          <tr>
                            <td>3. Annual Value (1-2)</td>
                            <td
                              *ngFor="
                                let hp of finalCalculations?.houseProperties
                                  ?.houseProps;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(hp.annualValue)
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>4. Standard Deduction @30%</td>
                            <td
                              *ngFor="
                                let hp of finalCalculations?.houseProperties
                                  ?.houseProps;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  hp.hpStandardDeduction
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>5. Interest On Home Loan</td>
                            <td
                              *ngFor="
                                let hp of finalCalculations?.houseProperties
                                  ?.houseProps;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(hp.hpinterest)
                              }}
                            </td>
                          </tr>
                          <tr>
                            <th>6. Net Income (3-4-5)</th>
                            <td
                              *ngFor="
                                let hp of finalCalculations?.houseProperties
                                  ?.houseProps;
                                let i = index
                              "
                            >
                              Rs
                              {{
                                utilsService.currencyFormatter(hp.hpNetIncome)
                              }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </mat-expansion-panel>

                  <!-- ************************** Income from Business ****************************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    #business
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            3. Income from Business
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr">
                              <mat-icon *ngIf="!business.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="business.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.businessIncome
                                    ?.businessIncomeTotal ||
                                    finalCalculations?.businessIncome
                                      ?.businessIncomeTotal === 0
                                    ? finalCalculations?.businessIncome
                                        ?.businessIncomeTotal +
                                        finalCalculations?.businessIncome
                                          ?.businessIncomeDetails
                                          ?.totalCryptoIncome
                                    : 0
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <div>
                      <table
                        class="table table-bordered table-striped table-hover"
                        style="margin-top: 20px"
                      >
                        <tbody>
                          <tr>
                            <th>Section No.</th>
                            <th>Nature Of Business Code</th>
                            <th>Trade Name</th>
                            <th>Gross Turnover/Receipt</th>
                            <th>Taxable Income</th>
                          </tr>

                          <!-- businessIncome - bank  -->
                          <ng-container
                            *ngIf="
                              finalCalculations?.businessIncome
                                ?.businessIncomeDetails?.business44AD &&
                              finalCalculations?.businessIncome
                                ?.businessIncomeDetails?.business44AD?.length >
                                0
                            "
                          >
                            <tr
                              *ngFor="
                                let business of finalCalculations
                                  ?.businessIncome?.businessIncomeDetails
                                  ?.business44AD
                              "
                            >
                              <ng-container
                                *ngIf="
                                  business.grossTurnover > 0 &&
                                  business.TaxableIncome > 0
                                "
                              >
                                <td>
                                  {{ business?.businessSection }}
                                </td>
                                <td>
                                  {{ business?.natureOfBusinessCode }}
                                </td>
                                <td>{{ business?.tradeName }}</td>
                                <td>Rs {{ business?.grossTurnover }}</td>
                                <td>
                                  Rs
                                  {{ business?.TaxableIncome }}
                                </td>
                              </ng-container>
                            </tr>
                          </ng-container>

                          <!-- professionalIncome  -->
                          <ng-container
                            *ngIf="
                              finalCalculations?.businessIncome
                                ?.businessIncomeDetails?.business44ADA &&
                              finalCalculations?.businessIncome
                                ?.businessIncomeDetails?.business44ADA?.length >
                                0
                            "
                          >
                            <tr
                              *ngFor="
                                let business of finalCalculations
                                  ?.businessIncome?.businessIncomeDetails
                                  ?.business44ADA
                              "
                            >
                              <ng-container
                                *ngIf="
                                  business.grossTurnover > 0 &&
                                  business.TaxableIncome > 0
                                "
                              >
                                <td>
                                  {{ business?.businessSection }}
                                </td>
                                <td>
                                  {{ business?.natureOfBusinessCode }}
                                </td>
                                <td>{{ business?.tradeName }}</td>
                                <td>Rs {{ business?.grossTurnover }}</td>
                                <td>
                                  Rs
                                  {{ business?.TaxableIncome }}
                                </td>
                              </ng-container>
                            </tr>
                          </ng-container>

                          <!-- PROFIT AND LOSS INCOMES  -->
                          <!-- Non speculative Income  -->
                          <ng-container
                            *ngIf="
                              finalCalculations?.businessIncome
                                ?.businessIncomeDetails?.nonSpecIncome
                                ?.grossTurnover &&
                              finalCalculations?.businessIncome
                                ?.businessIncomeDetails?.nonSpecIncome
                                ?.grossTurnover !== 0
                            "
                          >
                            <tr>
                              <td>
                                {{
                                  finalCalculations?.businessIncome
                                    ?.businessIncomeDetails?.nonSpecIncome
                                    ?.businessSection
                                }}
                              </td>
                              <td>
                                {{
                                  finalCalculations?.businessIncome
                                    ?.businessIncomeDetails?.nonSpecIncome
                                    ?.natureOfBusinessCode
                                }}
                              </td>
                              <td>
                                {{
                                  finalCalculations?.businessIncome
                                    ?.businessIncomeDetails?.nonSpecIncome
                                    ?.tradeName
                                }}
                              </td>
                              <td>
                                Rs
                                {{
                                  finalCalculations?.businessIncome
                                    ?.businessIncomeDetails?.nonSpecIncome
                                    ?.grossTurnover
                                }}
                              </td>
                              <td>
                                Rs
                                {{
                                  utilsService.currencyFormatter(
                                    finalCalculations?.businessIncome
                                      ?.businessIncomeDetails?.nonSpecIncome
                                      ?.TaxableIncome
                                  )
                                }}
                              </td>
                            </tr>
                          </ng-container>
                          <!-- speculative Income  -->
                          <ng-container
                            *ngIf="
                              finalCalculations?.businessIncome
                                ?.businessIncomeDetails?.specIncome
                                ?.grossTurnover &&
                              finalCalculations?.businessIncome
                                ?.businessIncomeDetails?.specIncome
                                ?.grossTurnover !== 0
                            "
                          >
                            <tr>
                              <td>
                                {{
                                  finalCalculations?.businessIncome
                                    ?.businessIncomeDetails?.specIncome
                                    ?.businessSection
                                }}
                              </td>
                              <td>
                                {{
                                  finalCalculations?.businessIncome
                                    ?.businessIncomeDetails?.specIncome
                                    ?.natureOfBusinessCode
                                }}
                              </td>
                              <td>
                                {{
                                  finalCalculations?.businessIncome
                                    ?.businessIncomeDetails?.specIncome
                                    ?.tradeName
                                }}
                              </td>
                              <td>
                                Rs
                                {{
                                  finalCalculations?.businessIncome
                                    ?.businessIncomeDetails?.specIncome
                                    ?.grossTurnover
                                }}
                              </td>
                              <td>
                                Rs
                                {{
                                  utilsService.currencyFormatter(
                                    finalCalculations?.businessIncome
                                      ?.businessIncomeDetails?.specIncome
                                      ?.TaxableIncome
                                  )
                                }}
                              </td>
                            </tr>
                          </ng-container>

                          <ng-container
                            *ngIf="
                              finalSummary?.assessment?.summaryIncome
                                ?.summaryBusinessIncome.totalIncomeFromFirm !==
                              0
                            "
                          >
                            <tr>
                              <td>Income From Firm</td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td>
                                Rs
                                {{
                                  utilsService.currencyFormatter(
                                    finalSummary?.assessment?.summaryIncome
                                      ?.summaryBusinessIncome
                                      .totalIncomeFromFirm
                                  )
                                }}
                              </td>
                            </tr>
                          </ng-container>
                        </tbody>
                      </table>
                    </div>

                    <div
                      class="bxHed"
                      *ngIf="
                        finalSummary?.assessment?.summaryIncome
                          ?.summaryBusinessIncome.totalIncomeFromFirm !== 0
                      "
                    >
                      Partner's Remuneration
                      <span style="float: right">{{
                        finalSummary?.assessment?.summaryIncome
                          ?.summaryBusinessIncome.totalIncomeFromFirm
                      }}</span>
                    </div>

                    <div
                      *ngIf="
                        finalSummary?.assessment?.summaryIncome
                          ?.summaryBusinessIncome.totalIncomeFromFirm !== 0
                      "
                    >
                      <table
                        class="table table-bordered table-striped table-hover"
                        style="margin-top: 20px"
                      >
                        <tbody>
                          <tr>
                            <th>Salary</th>
                            <th>Bonus</th>
                            <th>Commission</th>
                            <th>Interest</th>
                            <th>Others</th>
                          </tr>
                          <ng-container
                            *ngIf="
                              finalSummary?.assessment?.summaryIncome
                                ?.summaryBusinessIncome.totalIncomeFromFirm !==
                              0
                            "
                          >
                            <tr>
                              <td>
                                Rs
                                {{
                                  utilsService.currencyFormatter(
                                    finalCalculations?.businessIncome
                                      ?.businessIncomeDetails?.incomeFromFirm
                                      .salary
                                  )
                                }}
                              </td>
                              <td>
                                Rs
                                {{
                                  utilsService.currencyFormatter(
                                    finalCalculations?.businessIncome
                                      ?.businessIncomeDetails?.incomeFromFirm
                                      .bonus
                                  )
                                }}
                              </td>
                              <td>
                                Rs
                                {{
                                  utilsService.currencyFormatter(
                                    finalCalculations?.businessIncome
                                      ?.businessIncomeDetails?.incomeFromFirm
                                      .commission
                                  )
                                }}
                              </td>
                              <td>
                                Rs
                                {{
                                  utilsService.currencyFormatter(
                                    finalCalculations?.businessIncome
                                      ?.businessIncomeDetails?.incomeFromFirm
                                      .interest
                                  )
                                }}
                              </td>
                              <td>
                                Rs
                                {{
                                  utilsService.currencyFormatter(
                                    finalCalculations?.businessIncome
                                      ?.businessIncomeDetails?.incomeFromFirm
                                      .others
                                  )
                                }}
                              </td>
                            </tr>
                          </ng-container>
                        </tbody>
                      </table>
                    </div>

                    <!-- crypto gains  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.businessIncome?.businessIncomeDetails
                          ?.crypto?.cryptoDetails?.length > 0
                      "
                    >
                      Income from crypto
                      <span style="float: right">{{
                        finalCalculations?.businessIncome?.businessIncomeDetails
                          ?.totalCryptoIncome
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.businessIncome?.businessIncomeDetails
                          ?.crypto?.cryptoDetails?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Sr. No</th>
                          <th style="font-weight: bold">Head of income</th>
                          <th style="font-weight: bold">Buy Value</th>
                          <th style="font-weight: bold">Sale Value</th>
                          <th style="font-weight: bold">Income</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.businessIncome
                              ?.businessIncomeDetails?.crypto?.cryptoDetails;
                            let i = index
                          "
                        >
                          <td>{{ slabRate?.srNo }}</td>
                          <td>
                            {{ slabRate?.headOfIncome }}
                          </td>
                          <td>
                            Rs
                            {{ slabRate?.buyValue }}
                          </td>
                          <td>
                            Rs
                            {{ slabRate?.SaleValue }}
                          </td>
                          <td>
                            Rs
                            {{ slabRate?.income }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </mat-expansion-panel>

                  <!-- ************************** Income from Capital Gain ****************************** -->
                  <!-- <mat-expansion-panel
                    class="color-panel accordion-border"
                    #CG
                  >
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            4. Income from Capital Gain
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!CG.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="CG.expanded"
                                >keyboard_arrow_up</mat-icon
                              >
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  keys?.TotalCapGains
                                    ? keys?.TotalCapGains
                                    : summaryDetail?.capitalGain
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header> -->
                  <!-- <label>Short term</label> -->
                  <!-- Content goes here -->
                  <!-- <div class="bxHed" *ngIf="slab(-1, 'INPUT').length > 0">
                      Short term capital gain @ slab rate
                      <span style="float: right">{{
                        keys?.ShortTermAppRate
                          ? keys?.ShortTermAppRate
                          : getSlabWiseTotal(-1)
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="slab(-1, 'INPUT').length > 0"
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th> -->
                  <!-- <th style="font-weight:bold;">Description</th> -->
                  <!-- <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of slab(-1, 'INPUT');
                            let i = index
                          "
                        >
                          <td>{{ getNameFromCode(slabRate?.assetType) }}</td> -->
                  <!-- <td>{{slabRate.description}}</td> -->
                  <!-- <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(slabRate?.cgIncome)
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                getTotalInvestments(slabRate)
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.cgIncome -
                                  getTotalInvestments(slabRate)
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <div class="bxHed" *ngIf="slab(15, 'INPUT').length > 0">
                      Short term capital gain @ 15%
                      <span style="float: right">{{
                        keys?.ShortTerm15Per
                          ? keys?.ShortTerm15Per
                          : getSlabWiseTotal(15)
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="slab(15, 'INPUT').length > 0"
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th> -->
                  <!-- <th style="font-weight:bold;">Description</th> -->
                  <!-- <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of slab(15, 'INPUT');
                            let i = index
                          "
                        >
                          <td>{{ getNameFromCode(slabRate?.assetType) }}</td> -->
                  <!-- <td>{{slabRate.description}}</td> -->
                  <!-- <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(slabRate?.cgIncome)
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                getTotalInvestments(slabRate)
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.cgIncome -
                                  getTotalInvestments(slabRate)
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table> -->

                  <!-- <div class="bxHed" *ngIf="slab(10, 'INPUT').length > 0">
                      Long term capital gain @ 10%
                      <span style="float: right">{{
                        keys?.LongTerm10Per
                          ? keys?.LongTerm10Per
                          : getSlabWiseTotal(10)
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="slab(10, 'INPUT').length > 0"
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th> -->
                  <!-- <th style="font-weight:bold;">Description</th> -->
                  <!-- <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of slab(10, 'INPUT');
                            let i = index
                          "
                        >
                          <td>{{ getNameFromCode(slabRate?.assetType) }}</td> -->
                  <!-- <td>{{slabRate.description}}</td> -->
                  <!-- <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(slabRate?.cgIncome)
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                getTotalInvestments(slabRate)
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.cgIncome -
                                  getTotalInvestments(slabRate)
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table> -->

                  <!-- <div class="bxHed" *ngIf="slab(20, 'INPUT').length > 0">
                      Long term capital gain @ 20%
                      <span style="float: right">{{
                        keys?.LongTerm20Per
                          ? keys?.LongTerm20Per
                          : getSlabWiseTotal(20)
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="slab(20, 'INPUT').length > 0"
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th> -->
                  <!-- <th style="font-weight:bold;">Description</th> -->
                  <!-- <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of slab(20, 'INPUT');
                            let i = index
                          "
                        >
                          <td>{{ getNameFromCode(slabRate?.assetType) }}</td> -->
                  <!-- <td>{{slabRate.description}}</td> -->
                  <!-- <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(slabRate?.cgIncome)
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                getTotalInvestments(slabRate)
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.cgIncome -
                                  getTotalInvestments(slabRate)
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table> -->

                  <!-- Content goes here -->
                  <!-- <table class="table" style="width: 100%">
                      <tbody> -->
                  <!--  <tr *ngFor="let cg of capitalGain.capitalGain;let i=index">
                            <td>{{displayLabel(cg.taxRate)}}</td>
                            <td class="tbl-lbl-right">
                              <i
                                class="material-icons icRup">&#8377;</i>&nbsp;{{totalCg(cg.cgIncome,cg.belAdjustmentAmount,cg.setOffAmount,cg.hpSetOff ,cg.pastYearSetOffAmount)}}
                            </td>
                          </tr> -->
                  <!-- <tr>
                              <td>Short-term chargeable at application rate</td>
                              <td class="tbl-lbl-right">
                                <i class="material-icons"
                                  style="font-size:15px;">&#8377;</i>&nbsp;{{capitalGain.summaryBucketCGST.bucketCGSTsAR.finalTotalTaxableIncome}}
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <label>Total short-term</label>
                              </td>
                              <td class="tbl-lbl-right">
                                <i class="material-icons"
                                  style="font-size:15px;">&#8377;</i>&nbsp;{{capitalGain.summaryBucketCGST.taxableIncome}}
                              </td>
                            </tr> -->
                  <!-- </tbody>
                    </table> -->
                  <!-- <hr> -->
                  <!-- <label>Long term</label> -->
                  <!-- <table class="table" style="width:100%">
                          <tbody>
                            <tr>
                              <td>Long-term chargeable at 10%</td>
                              <td class="tbl-lbl-right">
                                <i class="material-icons"
                                  style="font-size:15px;">&#8377;</i>&nbsp;{{capitalGain.summaryBucketCGLT.bucket10s.finalTotalTaxableIncome}}
                              </td>
                            </tr>
                            <tr>
                              <td>Long-term chargeable at 20%</td>
                              <td class="tbl-lbl-right">
                                <i class="material-icons"
                                  style="font-size:15px;">&#8377;</i>&nbsp;{{capitalGain.summaryBucketCGLT.bucket20s.finalTotalTaxableIncome}}
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <label>Total long-term</label>
                              </td>
                              <td class="tbl-lbl-right">
                                <i class="material-icons"
                                  style="font-size:15px;">&#8377;</i>&nbsp;{{capitalGain.summaryBucketCGLT.taxableIncome}}
                              </td>
                            </tr>
                          </tbody>
                        </table> -->
                  <!-- </mat-expansion-panel> -->

                  <!-- ************************** Income from Capital Gain ****************************** -->
                  <mat-expansion-panel class="color-panel accordion-border" #CG>
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            4. Income from Capital Gain
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!CG.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="CG.expanded"
                                >keyboard_arrow_up</mat-icon
                              >
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.capitalGain
                                    ?.totalCapitalGain -
                                    finalCalculations?.businessIncome
                                      ?.businessIncomeDetails?.totalCryptoIncome
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <!-- short term -1 slab rate  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTermAppSlabRate?.length > 0
                      "
                    >
                      Short term capital gain @ slab rate
                      <span style="float: right">{{
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTermAppSlabRateTotal
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTermAppSlabRate?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th>
                          <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.capitalGain
                              ?.shortTerm?.ShortTermAppSlabRate;
                            let i = index
                          "
                        >
                          <td>{{ slabRate?.nameOfAsset }}</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.capitalGain
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.Deduction
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.netCapitalGain
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <!-- short term -15 rate  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTerm15Per?.length > 0
                      "
                    >
                      Short term capital gain @ 15% rate
                      <span style="float: right">{{
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTerm15PerTotal
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTerm15Per?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th>
                          <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.capitalGain
                              ?.shortTerm?.ShortTerm15Per;
                            let i = index
                          "
                        >
                          <td>{{ slabRate?.nameOfAsset }}</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.capitalGain
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.Deduction
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.netCapitalGain
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <!-- short term 30 rate  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTerm30Per?.length > 0 &&
                        this.utilsService.isNonEmpty(
                          this.ITR_JSON.itrSummaryJson
                        ) &&
                        this.ITR_JSON.isItrSummaryJsonEdited === false
                      "
                    >
                      Short term capital gain @ 30% rate
                      <span style="float: right">{{
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTerm30PerTotal
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTerm30Per?.length > 0 &&
                        this.utilsService.isNonEmpty(
                          this.ITR_JSON.itrSummaryJson
                        ) &&
                        this.ITR_JSON.isItrSummaryJsonEdited === false
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th>
                          <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.capitalGain
                              ?.shortTerm?.ShortTerm30Per;
                            let i = index
                          "
                        >
                          <td>{{ slabRate?.nameOfAsset }}</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.capitalGain
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.Deduction
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.netCapitalGain
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <!-- short term special rate  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTermSplRateDTAA?.length > 0 &&
                        this.utilsService.isNonEmpty(
                          this.ITR_JSON.itrSummaryJson
                        ) &&
                        this.ITR_JSON.isItrSummaryJsonEdited === false
                      "
                    >
                      Short term capital gain @ special rate
                      <span style="float: right">{{
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTermSplRateDTAATotal
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.capitalGain?.shortTerm
                          ?.ShortTermSplRateDTAA?.length > 0 &&
                        this.utilsService.isNonEmpty(
                          this.ITR_JSON.itrSummaryJson
                        ) &&
                        this.ITR_JSON.isItrSummaryJsonEdited === false
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th>
                          <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.capitalGain
                              ?.shortTerm?.ShortTermSplRateDTAA;
                            let i = index
                          "
                        >
                          <td>{{ slabRate?.nameOfAsset }}</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.capitalGain
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.Deduction
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.netCapitalGain
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <!-- long term 10 rate  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.capitalGain?.longTerm?.LongTerm10Per
                          .length > 0
                      "
                    >
                      Long term capital gain @ 10% rate
                      <span style="float: right">{{
                        finalCalculations?.capitalGain?.longTerm
                          ?.LongTerm10PerTotal
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.capitalGain?.longTerm?.LongTerm10Per
                          .length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th>
                          <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.capitalGain
                              ?.longTerm?.LongTerm10Per;
                            let i = index
                          "
                        >
                          <td>{{ slabRate?.nameOfAsset }}</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.capitalGain
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.Deduction
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.netCapitalGain
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <!-- long term 20 rate  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.capitalGain?.longTerm?.LongTerm20Per
                          .length > 0
                      "
                    >
                      Long term capital gain @ 20% rate
                      <span style="float: right">{{
                        finalCalculations?.capitalGain?.longTerm
                          ?.LongTerm20PerTotal
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.capitalGain?.longTerm?.LongTerm20Per
                          .length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th>
                          <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.capitalGain
                              ?.longTerm?.LongTerm20Per;
                            let i = index
                          "
                        >
                          <td>{{ slabRate?.nameOfAsset }}</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.capitalGain
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.Deduction
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.netCapitalGain
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <!-- long term special rate  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.capitalGain?.longTerm
                          ?.LongTermSplRateDTAA?.length > 0 &&
                        this.utilsService.isNonEmpty(
                          this.ITR_JSON.itrSummaryJson
                        ) &&
                        this.ITR_JSON.isItrSummaryJsonEdited === false
                      "
                    >
                      Long term capital gain @ special rate
                      <span style="float: right">{{
                        finalCalculations?.capitalGain?.longTerm
                          ?.LongTermSplRateDTAATotal
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.capitalGain?.longTerm
                          ?.LongTermSplRateDTAA?.length > 0 &&
                        this.utilsService.isNonEmpty(
                          this.ITR_JSON.itrSummaryJson
                        ) &&
                        this.ITR_JSON.isItrSummaryJsonEdited === false
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Name of asset</th>
                          <th style="font-weight: bold">
                            Capital gain amount (1)
                          </th>
                          <th style="font-weight: bold">Deduction (2)</th>
                          <th style="font-weight: bold">
                            Net capital gain (3=1-2)
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.capitalGain
                              ?.longTerm?.LongTermSplRateDTAA;
                            let i = index
                          "
                        >
                          <td>{{ slabRate?.nameOfAsset }}</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.capitalGain
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.Deduction
                              )
                            }}
                          </td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                slabRate?.netCapitalGain
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <!-- crypto gains  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.capitalGain?.crypto?.cryptoDetails
                          ?.length > 0
                      "
                    >
                      Income from crypto
                      <span style="float: right">{{
                        finalCalculations?.capitalGain?.totalCryptoIncome
                      }}</span>
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.capitalGain?.crypto?.cryptoDetails
                          ?.length > 0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Sr. No</th>
                          <th style="font-weight: bold">Head of income</th>
                          <th style="font-weight: bold">Buy Value</th>
                          <th style="font-weight: bold">Sale Value</th>
                          <th style="font-weight: bold">Income</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.capitalGain
                              ?.crypto?.cryptoDetails;
                            let i = index
                          "
                        >
                          <td>{{ slabRate?.srNo }}</td>
                          <td>
                            {{ slabRate?.headOfIncome }}
                          </td>
                          <td>
                            Rs
                            {{ slabRate?.buyValue }}
                          </td>
                          <td>
                            Rs
                            {{ slabRate?.SaleValue }}
                          </td>
                          <td>
                            Rs
                            {{ slabRate?.income }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </mat-expansion-panel>

                  <!-- ***************************** Income from Other Source ***************************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="
                      finalCalculations?.otherIncome?.otherIncomeTotal === 0
                    "
                    #otherIncome
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            6. Income from Other Source
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!otherIncome.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="otherIncome.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome
                                    ?.otherIncomeTotal
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <div>
                      <table
                        class="table table-bordered table-striped table-hover"
                        style="margin-top: 20px"
                      >
                        <tbody>
                          <tr>
                            <th>Particulars</th>
                            <th>Amount</th>
                          </tr>
                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.saving ||
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.intFromDeposit ||
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.taxRefund ||
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.anyOtherInterest
                            "
                          >
                            <th colspan="2">Interest Income</th>
                          </tr>
                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.saving
                            "
                          >
                            <td>Saving Bank Accounts</td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.saving
                                )
                              }}
                            </td>
                          </tr>
                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.intFromDeposit
                            "
                          >
                            <td>Fixed/Recurring Deposits</td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.intFromDeposit
                                )
                              }}
                            </td>
                          </tr>
                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.taxRefund
                            "
                          >
                            <td>Income Tax Refund</td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.taxRefund
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.Qqb80
                            "
                          >
                            <td>Royalty for Books/Author/Publishers (80QQB)</td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.Qqb80
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.Rrb80
                            "
                          >
                            <td>Royalty Against Patent (80RRB)</td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.Rrb80
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.pfInterest1011IP
                            "
                          >
                            <td>
                              Interest accrued on contributions to a provident
                              fund to the extent taxable as per the first
                              proviso to section 10(11)
                            </td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.pfInterest1011IP
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.pfInterest1011IIP
                            "
                          >
                            <td>
                              Interest accrued on contributions to a provident
                              fund to the extent taxable as per the second
                              proviso to section 10(11)
                            </td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.pfInterest1011IIP
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.pfInterest1012IP
                            "
                          >
                            <td>
                              Interest accrued on contributions to a provident
                              fund to the extent taxable as per the first
                              proviso to section 10(12)
                            </td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.pfInterest1012IP
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.pfInterest1012IIP
                            "
                          >
                            <td>
                              Interest accrued on contributions to a provident
                              fund to the extent taxable as per the second
                              proviso to section 10(12)
                            </td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.pfInterest1012IIP
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.dividendIncome ||
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.familyPension
                            "
                          >
                            <th colspan="2">Other Income</th>
                          </tr>
                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.dividendIncome
                            "
                          >
                            <td>Dividend Income</td>

                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.dividendIncome
                                )
                              }}
                            </td>
                          </tr>
                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.familyPension
                            "
                          >
                            <td>Family Pension</td>

                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.familyPension
                                )
                              }}
                            </td>
                          </tr>
                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.winningFromLotteries
                            "
                          >
                            <td>Income from lotteries and winings</td>

                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.winningFromLotteries
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.incFromOwnAndMaintHorses
                            "
                          >
                            <td>
                              Income from owning and maintaining race horses
                            </td>

                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.incFromOwnAndMaintHorses
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.anyOtherInterest
                            "
                          >
                            <td>Any Other Income</td>
                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.anyOtherInterest -
                                    (finalCalculations?.otherIncome
                                      ?.otherIncomes?.winningFromLotteries
                                      ? finalCalculations?.otherIncome
                                          ?.otherIncomes?.winningFromLotteries
                                      : 0)
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.aggregateValueWithoutConsideration ||
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.immovablePropertyInadequateConsideration ||
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.immovablePropertyWithoutConsideration ||
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.anyOtherPropertyInadequateConsideration ||
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.anyOtherPropertyWithoutConsideration
                            "
                          >
                            <th colspan="2">Gift Income</th>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.aggregateValueWithoutConsideration
                            "
                          >
                            <td>Money received without consideration</td>

                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.aggregateValueWithoutConsideration
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.immovablePropertyWithoutConsideration
                            "
                          >
                            <td>
                              Immovable property received without consideration
                            </td>

                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.immovablePropertyWithoutConsideration
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.immovablePropertyInadequateConsideration
                            "
                          >
                            <td>
                              Immovable property received for inadequate
                              consideration
                            </td>

                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.immovablePropertyInadequateConsideration
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.anyOtherPropertyWithoutConsideration
                            "
                          >
                            <td>
                              Any Other property received without consideration
                            </td>

                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.anyOtherPropertyWithoutConsideration
                                )
                              }}
                            </td>
                          </tr>

                          <tr
                            *ngIf="
                              finalCalculations?.otherIncome?.otherIncomes
                                ?.anyOtherPropertyInadequateConsideration
                            "
                          >
                            <td>
                              Any Other property received for inadequate
                              consideration
                            </td>

                            <td>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome?.otherIncomes
                                    ?.anyOtherPropertyInadequateConsideration
                                )
                              }}
                            </td>
                          </tr>

                          <tr>
                            <th>Total</th>
                            <th>
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.otherIncome
                                    ?.otherIncomeTotal
                                )
                              }}
                            </th>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </mat-expansion-panel>

                  <!-- ********************** Total Income ********************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            <b> 7. Total Income Head Wise (1+2+3+4+5+6)</b>
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.totalHeadWiseIncome
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- **************************** Losses of Current Year Set Off *************************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="
                      finalCalculations?.currentYearLosses
                        ?.totalCurrentYearSetOff === 0
                    "
                    #setOff
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            8. Losses of Current Year Setoff
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!setOff.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="setOff.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.currentYearLosses
                                    ?.totalCurrentYearSetOff
                                )
                              }}
                            </label>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                    <table
                      class="table table-bordered table-striped table-hover"
                      style="margin-top: 20px"
                    >
                      <tbody>
                        <tr>
                          <td><b>Head/Source of Income</b></td>
                          <td><b>Income of current year</b></td>
                          <td>
                            <b
                              >House Property loss of the current year set
                              off</b
                            >
                          </td>
                          <td>
                            <b>Business loss of the current year set off</b>
                          </td>
                          <td>
                            <b>Current years Income remaining after set off</b>
                          </td>
                        </tr>

                        <tr>
                          <td>Loss to be set off</td>
                          <td></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i>&nbsp;
                            {{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.totalCurrentYearHpLoss
                              )
                            }}
                          </td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i>&nbsp;
                            {{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.totalCurrentYearBusinessLoss
                              )
                            }}
                          </td>
                          <td></td>
                        </tr>
                        <tr>
                          <td><b>Salaries</b></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.salaryCYLA
                                  .incomeCYLA.currentYearIncome
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.salaryCYLA
                                  .incomeCYLA.hpLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i>&nbsp;
                            0
                          </td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.salaryCYLA
                                  .incomeCYLA.currentYearIncomeAfterSetoff
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td><b>House Property</b></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.hpCYLA.incomeCYLA
                                  .currentYearIncome
                              )
                            }}
                          </td>

                          <td>-</td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.hpCYLA.incomeCYLA
                                  .businessLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.hpCYLA.incomeCYLA
                                  .currentYearIncomeAfterSetoff
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td><b>Business Income</b></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.businessProfessionCYLA.incomeCYLA
                                  .currentYearIncome
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.businessProfessionCYLA.incomeCYLA
                                  .hpLossSetoff
                              )
                            }}
                          </td>

                          <td>-</td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.businessProfessionCYLA.incomeCYLA
                                  .currentYearIncomeAfterSetoff
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td><b>Speculative Business Income</b></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.speculativeIncomeCYLA.incomeCYLA
                                  .currentYearIncome
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.speculativeIncomeCYLA.incomeCYLA
                                  .hpLossSetoff
                              )
                            }}
                          </td>

                          <td>-</td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.speculativeIncomeCYLA.incomeCYLA
                                  .currentYearIncomeAfterSetoff
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td><b>Other Income</b></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.otherSourceCYLA
                                  .incomeCYLA.currentYearIncome
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.otherSourceCYLA
                                  .incomeCYLA.hpLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.otherSourceCYLA
                                  .incomeCYLA.businessLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.otherSourceCYLA
                                  .incomeCYLA.currentYearIncomeAfterSetoff
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>
                            <b
                              >Short-term capital gain taxable at applicable
                              rates</b
                            >
                          </td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.stcgAppRateCYLA
                                  .incomeCYLA.currentYearIncome
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.stcgAppRateCYLA
                                  .incomeCYLA.hpLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.stcgAppRateCYLA
                                  .incomeCYLA.businessLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.stcgAppRateCYLA
                                  .incomeCYLA.currentYearIncomeAfterSetoff
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td><b>Long term capital gain taxable @ 20%</b></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.ltcg20PerCYLA
                                  .incomeCYLA.currentYearIncome
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.ltcg20PerCYLA
                                  .incomeCYLA.hpLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.ltcg20PerCYLA
                                  .incomeCYLA.businessLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.ltcg20PerCYLA
                                  .incomeCYLA.currentYearIncomeAfterSetoff
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td><b>Short-term capital gain taxable @ 15%</b></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.stcg15PerCYLA
                                  .incomeCYLA.currentYearIncome
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.stcg15PerCYLA
                                  .incomeCYLA.hpLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.stcg15PerCYLA
                                  .incomeCYLA.businessLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.stcg15PerCYLA
                                  .incomeCYLA.currentYearIncomeAfterSetoff
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td><b>Long term capital gain taxable @ 10%</b></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.ltcg10PerCYLA
                                  .incomeCYLA.currentYearIncome
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.ltcg10PerCYLA
                                  .incomeCYLA.hpLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.ltcg10PerCYLA
                                  .incomeCYLA.businessLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.ltcg10PerCYLA
                                  .incomeCYLA.currentYearIncomeAfterSetoff
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td><b>Total loss set off</b></td>
                          <td></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff?.totalHpLossSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.totalBusinessLossSetoff
                              )
                            }}
                          </td>

                          <td></td>
                        </tr>
                        <tr>
                          <td><b>Loss remaining after set off</b></td>
                          <td></td>
                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.totalHpLossRemainAfterSetoff
                              )
                            }}
                          </td>

                          <td>
                            <i class="material-icons icSmRup">&#8377;</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalSummary?.assessment
                                  ?.currentYearLossesSetoff
                                  ?.totalBusinessLossRemainAfterSetoff
                              )
                            }}
                          </td>

                          <td></td>
                        </tr>
                      </tbody>
                    </table>
                  </mat-expansion-panel>

                  <!-- ********************** Balance After Set Off Current Year Losses (6-7) ********************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            9. Balance After Setoff Of Current Year Losses (7-8)
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.balanceAfterSetOffCurrentYearLosses
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- ********************** Brought Forward Losses Set Off  ********************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="
                      finalCalculations?.BroughtFwdLossesSetoff
                        ?.BroughtFwdLossesSetoffTotal === 0
                    "
                    #bflSetOff
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            10. Brought Forward Losses Setoff
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr">
                              <mat-icon *ngIf="!bflSetOff.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="bflSetOff.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                convertToPositive(
                                  finalCalculations?.BroughtFwdLossesSetoff
                                    ?.BroughtFwdLossesSetoffTotal
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <table
                      class="table table-bordered table-striped table-hover"
                      style="margin-top: 20px"
                    >
                      <thead>
                        <tr>
                          <td><b>Losses Of Last Year </b></td>
                          <td><b>Relevant AY</b></td>
                          <td><b>Setoff Against</b></td>
                          <td><b>Amount Adjusted</b></td>
                        </tr>
                      </thead>
                      <tbody
                        *ngFor="
                          let pyl of finalSummary?.assessment?.pastYearLosses
                        "
                      >
                        <tr
                          *ngIf="
                            pyl.housePropertyLoss > 0 &&
                            pyl.setOffWithCurrentYearHPIncome > 0
                          "
                        >
                          <td>House Property Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>House Property Income</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.setOffWithCurrentYearHPIncome
                              )
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            pyl.broughtForwordBusinessLoss > 0 &&
                            pyl.setOffWithCurrentYearBroughtForwordBusinessIncome >
                              0
                          "
                        >
                          <td>Non Speculative Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>Non Speculative Income</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.setOffWithCurrentYearBroughtForwordBusinessIncome
                              )
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            pyl.broughtForwordBusinessLoss > 0 &&
                            pyl.nonSpecBusSetOffWithCurrentYearSpecBusIncome > 0
                          "
                        >
                          <td>Non Speculative Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>Speculative Income</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.nonSpecBusSetOffWithCurrentYearSpecBusIncome
                              )
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            pyl.speculativeBusinessLoss > 0 &&
                            pyl.specBusSetOffWithCurrentYearSpecBusIncome > 0
                          "
                        >
                          <td>Speculative Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>Speculative Income</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.specBusSetOffWithCurrentYearSpecBusIncome
                              )
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            pyl.STCGLoss > 0 &&
                            pyl.setOffWithCurrentYearSTCGAppRateIncome > 0
                          "
                        >
                          <td>Short Term Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>Short Term Capital Gain @ Applicable Rate</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.setOffWithCurrentYearSTCGAppRateIncome
                              )
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            pyl.STCGLoss > 0 &&
                            pyl.setOffWithCurrentYearSTCG15PerIncome > 0
                          "
                        >
                          <td>Short Term Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>Short Term Capital Gain @ 15%</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.setOffWithCurrentYearSTCG15PerIncome
                              )
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            pyl.STCGLoss > 0 &&
                            pyl.stcgSetOffWithCurrentYearLTCG10PerIncome > 0
                          "
                        >
                          <td>Short Term Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>Long Term Capital Gain @ 10%</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.stcgSetOffWithCurrentYearLTCG10PerIncome
                              )
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            pyl.STCGLoss > 0 &&
                            pyl.stcgSetOffWithCurrentYearLTCG20PerIncome > 0
                          "
                        >
                          <td>Short Term Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>Long Term Capital Gain @ 20%</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.stcgSetOffWithCurrentYearLTCG20PerIncome
                              )
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            pyl.LTCGLoss > 0 &&
                            pyl.ltcgSetOffWithCurrentYearLTCG10PerIncome > 0
                          "
                        >
                          <td>Long Term Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>Long Term Capital Gain @ 10%</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.ltcgSetOffWithCurrentYearLTCG10PerIncome
                              )
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            pyl.LTCGLoss > 0 &&
                            pyl.ltcgSetOffWithCurrentYearLTCG20PerIncome > 0
                          "
                        >
                          <td>Long Term Loss</td>
                          <td>{{ pyl.assessmentPastYear }}</td>
                          <td>Long Term Capital Gain @ 20%</td>
                          <td>
                            Rs
                            {{
                              utilsService.currencyFormatter(
                                pyl.ltcgSetOffWithCurrentYearLTCG20PerIncome
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </mat-expansion-panel>

                  <!-- ********************** Gross Total Income (8-9) ********************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            <b> 11. Gross Total Income (9-10)</b>
                            <i
                              >(Round of to nearest
                              <i class="material-icons icRup">&#8377;</i> 10)</i
                            >
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.grossTotalIncome
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- ********************** Income Chargeable To Tax At Special Rate Under Section 111A, 112 etc. ********************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            12. Income Chargeable to Tax at Special Rate Under
                            Section 111A, 112 etc.
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.totalSpecialRateIncome
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- ********************** Deductions Under Chapter VI-A ********************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="
                      finalCalculations?.deductions?.deductionTotal === 0
                        ? true
                        : false
                    "
                    #deductionVI
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            13. Deductions Under Chapter VI-A
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!deductionVI.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="deductionVI.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.deductions?.deductionTotal
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <div>
                      <table
                        class="table table-bordered table-striped table-hover"
                        style="margin-top: 20px"
                      >
                        <tbody>
                          <tr>
                            <td><b>Particular</b></td>
                            <td><b>Amount</b></td>
                          </tr>
                          <tr
                            *ngFor="
                              let deduction of finalCalculations?.deductions
                                ?.deductionDtls;
                              let i = index
                            "
                          >
                            <td *ngIf="deduction.amount > 0">
                              {{ deduction.name }}
                            </td>
                            <td *ngIf="deduction.amount > 0">
                              Rs
                              {{
                                utilsService.currencyFormatter(
                                  deduction?.amount
                                )
                              }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </mat-expansion-panel>

                  <!-- ********************** Total Income (10-12) ********************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            <b>14. Total Income (11-13)</b>
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.totalIncome
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- ********************** Income Chargeable At Special Rates After Adjusting Basic Exemption Limit ********************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            15. Income Chargeable at Special Rates After
                            Adjusting Basic Exemption Limit
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.specialRateChargeable
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- ************************* Net Agriculture Income ************************* -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            16. Net Agriculture Income
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.netAgricultureIncome
                                )
                              }}
                            </label>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- ************************ Aggregate Income (13-14+15) ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            <b>17. Aggregate Income (14-15+16)</b>
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.aggregateIncome
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- ************************ Losses To Be Carried Forward  ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="
                      finalCalculations?.lossesToBeCarriedForward?.cflTotal ===
                      0
                    "
                    #lossCarryFwd
                  >
                    <mat-expansion-panel-header hidden>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            18. Losses To Be Carried Forward
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!lossCarryFwd.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="lossCarryFwd.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.lossesToBeCarriedForward
                                    ?.cflTotal
                                    ? finalCalculations
                                        ?.lossesToBeCarriedForward?.cflTotal
                                    : 0
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <table
                      class="table table-bordered table-striped table-hover"
                      style="margin-top: 20px"
                    >
                      <thead>
                        <tr>
                          <th>
                            <b>Year</b>
                          </th>
                          <th>
                            <b>House Property Loss</b>
                          </th>
                          <th>
                            <b>Short Term Capital Loss</b>
                          </th>
                          <th>
                            <b>Long Term Capital Loss</b>
                          </th>
                          <th>
                            <b>Other than Speculative Business Loss</b>
                          </th>
                          <th>
                            <b>Loss from Speculative Business</b>
                          </th>
                          <th>
                            <b>Loss from Specified Business</b>
                          </th>
                          <th>
                            <b>other Losses</b>
                          </th>
                          <th>
                            <b>Losses Set Off During The Year</b>
                          </th>
                          <th>
                            <b>Carried Forward To Next Year</b>
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <ng-container
                          *ngFor="
                            let losses of finalCalculations
                              ?.lossesToBeCarriedForward?.cflDtls;
                            let i = index
                          "
                        >
                          <tr>
                            <td>
                              {{
                                losses?.assessmentPastYear
                                  ? losses?.assessmentPastYear
                                  : 0
                              }}
                            </td>
                            <td>
                              {{
                                utilsService.currencyFormatter(
                                  losses?.housePropertyLoss
                                    ? losses?.housePropertyLoss
                                    : 0
                                )
                              }}
                            </td>
                            <td>
                              {{
                                utilsService.currencyFormatter(
                                  losses?.STCGLoss ? losses?.STCGLoss : 0
                                )
                              }}
                            </td>
                            <td>
                              {{
                                utilsService.currencyFormatter(
                                  losses?.LTCGLoss ? losses?.LTCGLoss : 0
                                )
                              }}
                            </td>
                            <td>
                              {{
                                utilsService.currencyFormatter(
                                  losses?.BusLossOthThanSpecLossCF
                                    ? losses?.BusLossOthThanSpecLossCF
                                    : 0
                                )
                              }}
                            </td>
                            <td>
                              {{
                                utilsService.currencyFormatter(
                                  losses?.LossFrmSpecBusCF
                                    ? losses?.LossFrmSpecBusCF
                                    : 0
                                )
                              }}
                            </td>
                            <td>
                              {{
                                utilsService.currencyFormatter(
                                  losses?.LossFrmSpecifiedBusCF
                                    ? losses?.LossFrmSpecifiedBusCF
                                    : 0
                                )
                              }}
                            </td>
                            <td>
                              {{
                                utilsService.currencyFormatter(
                                  losses?.OthSrcLoss ? losses?.OthSrcLoss : 0
                                )
                              }}
                            </td>
                            <td>
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.lossesToBeCarriedForward
                                    ?.lossSetOffDuringYear
                                    ? finalCalculations
                                        ?.lossesToBeCarriedForward
                                        ?.lossSetOffDuringYear
                                    : 0
                                )
                              }}
                            </td>
                            <td>
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.lossesToBeCarriedForward
                                    ?.cflTotal
                                    ? finalCalculations
                                        ?.lossesToBeCarriedForward?.cflTotal
                                    : 0
                                )
                              }}
                            </td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>
                  </mat-expansion-panel>

                  <!-- ****************************** Schedule cfl ************************************* -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="
                      finalCalculations?.scheduleCflDetails
                        ?.TotalOfAllLossCFSummary === 0
                    "
                    #lossCarryFwd
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            18. Losses To Be Carried Forward (CFL)
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!lossCarryFwd.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="lossCarryFwd.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.scheduleCflDetails
                                    ?.TotalOfAllLossCFSummary
                                    ? finalCalculations?.scheduleCflDetails
                                        ?.TotalOfAllLossCFSummary
                                    : 0
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <table
                      class="table table-bordered table-striped table-hover"
                      style="margin-top: 20px"
                    >
                      <thead>
                        <tr>
                          <th>
                            <b>Assessment Year</b>
                          </th>
                          <th>
                            <b>Date of Filing</b>
                          </th>
                          <th>
                            <b>House property loss</b>
                          </th>
                          <th>
                            <b
                              >Other than speculative & specified business
                              loss</b
                            >
                          </th>
                          <th>
                            <b>Loss from speculative business</b>
                          </th>
                          <th>
                            <b>Loss from specified business</b>
                          </th>
                          <th>
                            <b>Short term capital loss</b>
                          </th>
                          <th>
                            <b>Long term capital loss</b>
                          </th>
                          <th>
                            <b>Loss from owning & maintaining horses</b>
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <!-- 12th Assessment Year -->
                        <tr
                          *ngIf="
                            finalCalculations?.scheduleCflDetails
                              ?.LossCFFromPrev12thYearFromAY
                              ?.LossFrmSpecifiedBusCF > 0
                          "
                        >
                          <!-- Assessment year -->
                          <td>2011-2012</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev12thYearFromAY?.dateOfFiling
                            }}
                            <!-- house property loss -->
                          </td>

                          <td>0</td>
                          <!-- Other than speculative and specified business -->
                          <td>0</td>
                          <!-- loss from speculative business  -->
                          <td>0</td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev12thYearFromAY
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>0</td>
                          <!-- long term capital loss  -->
                          <td>0</td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>0</td>
                        </tr>

                        <!-- 11th Assessment Year -->
                        <tr
                          *ngIf="
                            finalCalculations?.scheduleCflDetails
                              ?.LossCFFromPrev11thYearFromAY
                              ?.LossFrmSpecifiedBusCF > 0
                          "
                        >
                          <!-- Assessment year -->
                          <td>2012-2013</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev11thYearFromAY?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>0</td>
                          <!-- Other than speculative and specified business -->
                          <td>0</td>
                          <!-- loss from speculative business  -->
                          <td>0</td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev11thYearFromAY
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>0</td>
                          <!-- long term capital loss  -->
                          <td>0</td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>0</td>
                        </tr>

                        <!-- 10th Assessment Year -->
                        <tr
                          *ngIf="
                            finalCalculations?.scheduleCflDetails
                              ?.LossCFFromPrev10thYearFromAY
                              ?.LossFrmSpecifiedBusCF > 0
                          "
                        >
                          <!-- Assessment year -->
                          <td>2013-2014</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev10thYearFromAY?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>0</td>
                          <!-- Other than speculative and specified business -->
                          <td>0</td>
                          <!-- loss from speculative business  -->
                          <td>0</td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev10thYearFromAY
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>0</td>
                          <!-- long term capital loss  -->
                          <td>0</td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>0</td>
                        </tr>

                        <!-- 9th Assessment Year -->
                        <tr
                          *ngIf="
                            finalCalculations?.scheduleCflDetails
                              ?.LossCFFromPrev9thYearFromAY
                              ?.LossFrmSpecifiedBusCF > 0
                          "
                        >
                          <!-- Assessment year -->
                          <td>2014-2015</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev9thYearFromAY?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>0</td>
                          <!-- Other than speculative and specified business -->
                          <td>0</td>
                          <!-- loss from speculative business  -->
                          <td>0</td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev9thYearFromAY
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>0</td>
                          <!-- long term capital loss  -->
                          <td>0</td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>0</td>
                        </tr>

                        <!-- 8th Assessment Year -->
                        <tr>
                          <!-- Assessment year -->
                          <td>2015-2016</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev8thYearFromAY?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev8thYearFromAY?.hpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev8thYearFromAY
                                ?.broughtForwardBusLoss
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>0</td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev8thYearFromAY
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev8thYearFromAY?.stcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev8thYearFromAY?.ltcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>0</td>
                        </tr>

                        <!-- 7th Assessment Year -->
                        <tr>
                          <!-- Assessment year -->
                          <td>2016-2017</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev7thYearFromAY?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev7thYearFromAY?.hpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev7thYearFromAY
                                ?.broughtForwardBusLoss
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>0</td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev7thYearFromAY
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev7thYearFromAY?.stcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev7thYearFromAY?.ltcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>0</td>
                        </tr>

                        <!-- 6th Assessment Year -->
                        <tr>
                          <!-- Assessment year -->
                          <td>2017-2018</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev6thYearFromAY?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev6thYearFromAY?.hpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev6thYearFromAY
                                ?.broughtForwardBusLoss
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>0</td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev6thYearFromAY
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev6thYearFromAY?.stcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev6thYearFromAY?.ltcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>0</td>
                        </tr>

                        <!-- 5th Assessment Year -->
                        <tr>
                          <!-- Assessment year -->
                          <td>2018-2019</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev5thYearFromAY?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev5thYearFromAY?.hpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev5thYearFromAY
                                ?.broughtForwardBusLoss
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>0</td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev5thYearFromAY
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev5thYearFromAY?.stcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev5thYearFromAY?.ltcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>0</td>
                        </tr>

                        <!-- 4th Assessment Year -->
                        <tr>
                          <!-- Assessment year -->
                          <td>2019-2020</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev4thYearFromAY?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev4thYearFromAY?.hpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev4thYearFromAY
                                ?.broughtForwardBusLoss
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev4thYearFromAY
                                ?.lossFromSpeculativeBus
                            }}
                          </td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev4thYearFromAY
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev4thYearFromAY?.stcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev4thYearFromAY?.ltcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev4thYearFromAY
                                ?.OthSrcLossRaceHorseCF
                            }}
                          </td>
                        </tr>

                        <!-- 3rd Assessment Year -->
                        <tr>
                          <!-- Assessment year -->
                          <td>2020-2021</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev3rdYearFromAY?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev3rdYearFromAY?.hpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev3rdYearFromAY
                                ?.broughtForwardBusLoss
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev3rdYearFromAY
                                ?.lossFromSpeculativeBus
                            }}
                          </td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev3rdYearFromAY
                                ?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev3rdYearFromAY?.stcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev3rdYearFromAY?.ltcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFFromPrev3rdYearFromAY
                                ?.OthSrcLossRaceHorseCF
                            }}
                          </td>
                        </tr>

                        <!-- previous Assessment Year -->
                        <tr>
                          <!-- Assessment year -->
                          <td>2021-2022</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFPrevAssmntYear?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFPrevAssmntYear?.hpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFPrevAssmntYear?.broughtForwardBusLoss
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFPrevAssmntYear?.lossFromSpeculativeBus
                            }}
                          </td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFPrevAssmntYear?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFPrevAssmntYear?.stcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFPrevAssmntYear?.ltcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFPrevAssmntYear?.OthSrcLossRaceHorseCF
                            }}
                          </td>
                        </tr>

                        <!--current Assessment Year -->
                        <tr>
                          <!-- Assessment year -->
                          <td>2022-2023</td>
                          <!-- date of filing -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear?.dateOfFiling
                            }}
                          </td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear?.hpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear?.broughtForwardBusLoss
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear
                                ?.lossFromSpeculativeBus
                            }}
                          </td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear?.LossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear?.stcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear?.ltcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.LossCFCurrentAssmntYear?.OthSrcLossRaceHorseCF
                            }}
                          </td>
                        </tr>

                        <!-- total of earlier losses brought forward -->
                        <tr>
                          <!-- Assessment year -->
                          <td><strong>Total of earlier losses b/f</strong></td>
                          <!-- date of filing -->
                          <td></td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalOfBFLossesEarlierYrs
                                ?.totalBroughtForwardHpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalOfBFLossesEarlierYrs
                                ?.totalBroughtForwardBusLoss
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalOfBFLossesEarlierYrs
                                ?.totalBroughtForwardLossSpeculativeBus
                            }}
                          </td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalOfBFLossesEarlierYrs
                                ?.totalBroughtForwardLossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalOfBFLossesEarlierYrs
                                ?.totalBroughtForwardStcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalOfBFLossesEarlierYrs
                                ?.totalBroughtForwardLtcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalOfBFLossesEarlierYrs
                                ?.totalBroughtForwardOthSrcLossRaceHorseCF
                            }}
                          </td>
                        </tr>

                        <!-- adjustment of above losses in bfla -->
                        <tr>
                          <!-- Assessment year -->
                          <td>
                            <strong>Adjustment of above losses in BFLA</strong>
                          </td>
                          <!-- date of filing -->
                          <td></td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.AdjTotBFLossInBFLA?.adjInBflHpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.AdjTotBFLossInBFLA
                                ?.adjInBflBusLossOthThanSpecifiedLossCF
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.AdjTotBFLossInBFLA?.adjInBflSpeculativeBus
                            }}
                          </td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.AdjTotBFLossInBFLA
                                ?.adjInBflLossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.AdjTotBFLossInBFLA?.adjInBflStcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.AdjTotBFLossInBFLA?.adjInBflLtcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.AdjTotBFLossInBFLA
                                ?.adjInBflOthSrcLossRaceHorseCF
                            }}
                          </td>
                        </tr>

                        <!-- current year losses to be carried forward -->
                        <tr>
                          <!-- Assessment year -->
                          <td>
                            <strong
                              >Current year losses to be carried forward</strong
                            >
                          </td>
                          <!-- date of filing -->
                          <td></td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.CurrentAYloss?.currentAyHpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.CurrentAYloss
                                ?.currentAyBusLossOthThanSpecifiedLossCF
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.CurrentAYloss?.currentAySpeculativeBus
                            }}
                          </td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.CurrentAYloss?.currentAyLossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.CurrentAYloss?.currentAyStcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.CurrentAYloss?.currentAyLtcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.CurrentAYloss?.currentAyOthSrcLossRaceHorseCF
                            }}
                          </td>
                        </tr>

                        <!-- total loss carried forward to future years -->
                        <tr>
                          <!-- Assessment year -->
                          <td>
                            <strong
                              >Total loss carried forward to future
                              years</strong
                            >
                          </td>
                          <!-- date of filing -->
                          <td></td>
                          <!-- house property loss -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalLossCFSummary?.totalLossCFHpLoss
                            }}
                          </td>
                          <!-- Other than speculative and specified business -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalLossCFSummary
                                ?.totalLossCFBusLossOthThanSpecifiedLossCF
                            }}
                          </td>
                          <!-- loss from speculative business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalLossCFSummary?.totalLossCFSpeculativeBus
                            }}
                          </td>
                          <!-- loss from specified business  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalLossCFSummary
                                ?.totalLossCFLossFrmSpecifiedBusCF
                            }}
                          </td>
                          <!-- short term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalLossCFSummary?.totalLossCFStcgLoss
                            }}
                          </td>
                          <!-- long term capital loss  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalLossCFSummary?.totalLossCFLtcgLoss
                            }}
                          </td>
                          <!-- loss from maintaining and owning horses  -->
                          <td>
                            {{
                              finalCalculations?.scheduleCflDetails
                                ?.TotalLossCFSummary
                                ?.totalLossCFOthSrcLossRaceHorseCF
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </mat-expansion-panel>
                  <!-- *********************** Total Tax (A+B-C) ********************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="finalCalculations?.totalTax?.totalTax === 0"
                    #totalTax
                  >
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            19. Total Tax (A+B-C)
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!totalTax.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="totalTax.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.totalTax?.totalTax
                                )
                              }}
                            </label>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>

                    <div>
                      <table
                        class="table table-bordered table-striped table-hover"
                        style="margin-top: 20px"
                      >
                        <tbody>
                          <tr>
                            <td><b>Particular</b></td>
                            <td><b>Amount</b></td>
                          </tr>
                          <tr>
                            <td>Tax at normal rate - A</td>
                            <td>
                              <i class="material-icons" style="font-size: 15px"
                                >₹</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.totalTax?.taxAtNormalRate
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>Tax at special rate - B</td>
                            <td>
                              <i class="material-icons" style="font-size: 15px"
                                >₹</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.totalTax?.taxAtSpecialRate
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <td>Rebate on agriculture income - C</td>
                            <td>
                              <i class="material-icons" style="font-size: 15px"
                                >₹</i
                              >&nbsp;-{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.totalTax
                                    ?.rebateOnAgricultureIncome
                                )
                              }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </mat-expansion-panel>

                  <!-- *********************** Rebate Under Section 87A ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            20. Rebate Under Section 87A
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.rebateUnderSection87A
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- *************************** Tax After Rebate (18-19) *************************** -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            21. Tax After Rebate (19-20)
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.taxAfterRebate
                                )
                              }}
                            </label>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- *********************** Surcharge ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            22. Surcharge
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.surcharge
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- *********************** Education Cess, Including Secondary and Higher Education Cess ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            23. Health and Education Cess
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.eductionCess
                                )
                              }}
                            </label>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- *********************** Gross Tax Liability (20+21+22) ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            24. Gross Tax Liability (21+22+23)
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.grossTaxLiability
                                )
                              }}
                            </label>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- *********************** Tax Relief ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="finalCalculations?.taxRelief?.totalRelief === 0"
                    #taxRelief
                  >
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            25. Tax Relief
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr">
                              <mat-icon *ngIf="!taxRelief.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="taxRelief.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.taxRelief?.totalRelief
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                    <table
                      class="table table-bordered table-striped table-hover accoTab"
                    >
                      <tbody>
                        <tr>
                          <td><b>Particular</b></td>
                          <td><b>Amount</b></td>
                        </tr>
                        <tr>
                          <td>Under 89</td>
                          <td class="">
                            <i class="material-icons icRup">&#8377;</i>&nbsp;{{
                              utilsService.currencyFormatter(
                                finalCalculations?.taxRelief?.taxReliefUnder89
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Under 90/ 90A</td>
                          <td class="">
                            <i class="material-icons icRup">&#8377;</i>&nbsp;{{
                              utilsService.currencyFormatter(
                                finalCalculations?.taxRelief
                                  ?.taxReliefUnder90_90A
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Under 91</td>
                          <td class="">
                            <i class="material-icons">&#8377;</i>&nbsp;{{
                              utilsService.currencyFormatter(
                                finalCalculations?.taxRelief?.taxReliefUnder91
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </mat-expansion-panel>

                  <!-- *********************** Net Tax Liability (23-24) ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            26. Net Tax Liability (24-25)
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.netTaxLiability
                                )
                              }}
                            </label>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- *********************** Interest and Fee Payable ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="
                      finalCalculations?.interestAndFee?.totalInterestAndFee ===
                      0
                    "
                    #interestFee
                  >
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            <b> 27. Interest and Fee Payable</b>
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!interestFee.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="interestFee.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.interestAndFee
                                    ?.totalInterestAndFee
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                    <table class="table table-bordered table-hover accoTab">
                      <tbody>
                        <tr>
                          <td><b>Particular</b></td>
                          <td><b>Amount</b></td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q1 > 0
                            "
                          >
                            <b>Q1</b>
                          </td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q2 > 0
                            "
                          >
                            <b>Q2</b>
                          </td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q3 > 0
                            "
                          >
                            <b>Q3</b>
                          </td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q4 > 0
                            "
                          >
                            <b>Q4</b>
                          </td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q5 > 0
                            "
                          >
                            <b>Q5</b>
                          </td>
                        </tr>
                        <tr>
                          <td>Interest for late filing u/s 234A</td>
                          <td class="">
                            <i class="material-icons" style="font-size: 15px"
                              >₹</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalCalculations?.interestAndFee?.total234A
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>
                            Interest for non-payment of advance tax u/s 234B
                          </td>
                          <td class="">
                            <i class="material-icons" style="font-size: 15px"
                              >₹</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalCalculations?.interestAndFee?.total234B
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>
                            Interest for delay in payment of advance tax u/s
                            234C
                          </td>
                          <td class="">
                            <i class="material-icons" style="font-size: 15px"
                              >₹</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalCalculations?.interestAndFee?.total234C
                              )
                            }}
                          </td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q1 > 0
                            "
                          >
                            {{
                              utilsService.currencyFormatter(
                                finalCalculations?.interestAndFee?.interest234C
                                  ?.q1
                              )
                            }}
                          </td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q2 > 0
                            "
                          >
                            {{
                              utilsService.currencyFormatter(
                                finalCalculations?.interestAndFee?.interest234C
                                  ?.q2
                              )
                            }}
                          </td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q3 > 0
                            "
                          >
                            {{
                              utilsService.currencyFormatter(
                                finalCalculations?.interestAndFee?.interest234C
                                  ?.q3
                              )
                            }}
                          </td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q4 > 0
                            "
                          >
                            {{
                              utilsService.currencyFormatter(
                                finalCalculations?.interestAndFee?.interest234C
                                  ?.q4
                              )
                            }}
                          </td>
                          <td
                            *ngIf="
                              finalCalculations?.interestAndFee?.interest234C
                                ?.q5 > 0
                            "
                          >
                            {{
                              utilsService.currencyFormatter(
                                finalCalculations?.interestAndFee?.interest234C
                                  ?.q5
                              )
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Penalty for late filing u/s 234F</td>
                          <td class="">
                            <i class="material-icons" style="font-size: 15px"
                              >₹</i
                            >&nbsp;{{
                              utilsService.currencyFormatter(
                                finalCalculations?.interestAndFee?.total234F
                              )
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </mat-expansion-panel>

                  <!-- *********************** Aggregate Liability (25+26) ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            28. Aggregate Liability (26+27)
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.aggregateLiability
                                )
                              }}
                            </label>
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- *********************** Tax Paid ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="
                      finalCalculations?.taxPaid?.totalTaxesPaid === 0
                    "
                    #taxPaid
                  >
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            29. Tax Paid
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr">
                              <mat-icon *ngIf="!taxPaid.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="taxPaid.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.taxPaid?.totalTaxesPaid
                                )
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                    <!-- SALARY TDS -->
                    <div>
                      <div class="bxHed">TDS (On Salary)</div>
                      <table
                        class="table table-bordered table-striped table-hover"
                      >
                        <thead>
                          <tr>
                            <th style="font-weight: bold; width: 20%">
                              Name Of Deductor
                            </th>
                            <th style="font-weight: bold; width: 25%">
                              TAN Of Deductor
                            </th>
                            <th style="font-weight: bold; width: 35%">
                              Amount Of Which TDS Deducted
                            </th>
                            <th style="font-weight: bold; width: 20%">
                              Total Tax Amount
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr
                            *ngFor="
                              let onSalary of finalCalculations?.taxPaid
                                ?.onSalary
                            "
                          >
                            <td>{{ onSalary?.deductorName }}</td>
                            <td>{{ onSalary?.deductorTAN }}</td>
                            <td>
                              Rs.
                              {{
                                utilsService.currencyFormatter(
                                  onSalary?.totalAmountCredited
                                )
                              }}
                            </td>
                            <td>
                              Rs.
                              {{
                                utilsService.currencyFormatter(
                                  onSalary?.totalTdsDeposited
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <th>Total Amount</th>
                            <th></th>
                            <th></th>
                            <th>
                              Rs.
                              {{
                                utilsService.currencyFormatter(
                                  finalCalculations?.taxPaid?.totalOnSalary
                                )
                              }}
                            </th>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                    <!-- OTHER THAN SALARY -->
                    <div>
                      <div class="bxHed">TDS (Other Than Salary)</div>
                      <table
                        class="table table-bordered table-striped table-hover"
                      >
                        <thead>
                          <tr>
                            <th style="font-weight: bold; width: 20%">
                              Name Of Deductor
                            </th>
                            <th style="font-weight: bold; width: 25%">
                              TAN Of Deductor
                            </th>
                            <th style="font-weight: bold; width: 35%">
                              Amount Of Which TDS Deducted
                            </th>
                            <th style="font-weight: bold; width: 20%">
                              Total Tax Deducted
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr
                            *ngFor="
                              let otherThanSalary16A of finalCalculations
                                ?.taxPaid?.otherThanSalary16A
                            "
                          >
                            <td>{{ otherThanSalary16A?.deductorName }}</td>
                            <td>{{ otherThanSalary16A?.deductorTAN }}</td>
                            <td>
                              Rs.
                              {{
                                utilsService.currencyFormatter(
                                  otherThanSalary16A?.totalAmountCredited
                                )
                              }}
                            </td>
                            <td>
                              Rs.
                              {{
                                utilsService.currencyFormatter(
                                  otherThanSalary16A?.totalTdsDeposited
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <th>Total Amount</th>
                            <th></th>
                            <th></th>
                            <th>
                              Rs.
                              {{
                                finalCalculations?.taxPaid
                                  ?.totalOtherThanSalary16A
                              }}
                            </th>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                    <!-- 26QB -->

                    <div>
                      <div class="bxHed">TDS (Other Than Salary 26QB)</div>
                      <table
                        class="table table-bordered table-striped table-hover"
                      >
                        <thead>
                          <tr>
                            <th style="font-weight: bold; width: 20%">
                              Name Of Deductor
                            </th>
                            <th style="font-weight: bold; width: 25%">
                              PAN Of Deductor
                            </th>
                            <th style="font-weight: bold; width: 35%">
                              Amount Of Which TDS Deducted
                            </th>
                            <th style="font-weight: bold; width: 20%">
                              Total Tax Deducted
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr
                            *ngFor="
                              let otherThanSalary26QB of finalCalculations
                                ?.taxPaid?.otherThanSalary26QB
                            "
                          >
                            <td>{{ otherThanSalary26QB?.deductorName }}</td>
                            <td>{{ otherThanSalary26QB?.deductorTAN }}</td>
                            <td>
                              Rs.
                              {{
                                utilsService.currencyFormatter(
                                  otherThanSalary26QB?.totalAmountCredited
                                )
                              }}
                            </td>
                            <td>
                              Rs.
                              {{
                                utilsService.currencyFormatter(
                                  otherThanSalary26QB?.totalTdsDeposited
                                )
                              }}
                            </td>
                          </tr>
                          <tr>
                            <th>Total Amount</th>
                            <th></th>
                            <th></th>
                            <th>
                              Rs.
                              {{
                                finalCalculations?.taxPaid
                                  ?.totalOtherThanSalary26QB
                              }}
                            </th>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                    <!-- tcs -->
                    <div>
                      <div class="bxHed">TCS</div>
                      <table
                        class="table table-bordered table-striped table-hover"
                      >
                        <thead>
                          <tr>
                            <th style="font-weight: bold; width: 20%">
                              Name Of Collector
                            </th>
                            <th style="font-weight: bold; width: 25%">
                              TAN Of Collector
                            </th>
                            <th style="font-weight: bold; width: 35%">
                              Amount Of Which TCS Collected
                            </th>
                            <th style="font-weight: bold; width: 20%">
                              Total Tax Collected
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr
                            *ngFor="let tcs of finalCalculations?.taxPaid?.tcs"
                          >
                            <td>{{ tcs?.deductorName }}</td>
                            <td>{{ tcs?.deductorTAN }}</td>
                            <td>
                              Rs.
                              {{
                                utilsService.currencyFormatter(
                                  tcs?.totalAmountCredited
                                )
                              }}
                            </td>
                            <td>
                              Rs.
                              {{
                                utilsService.currencyFormatter(
                                  tcs?.totalTdsDeposited
                                )
                              }}
                            </td>
                          </tr>

                          <tr>
                            <th>Total Amount</th>
                            <th></th>
                            <th></th>
                            <th>
                              Rs.
                              {{ finalCalculations?.taxPaid?.totalTcs }}
                            </th>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                    <!-- othertanTDSTCS -->
                    <div>
                      <div class="bxHed">
                        Advance / Self Assessment Tax Paid
                      </div>
                      <table
                        class="table table-bordered table-striped table-hover"
                      >
                        <thead>
                          <tr>
                            <th style="font-weight: bold; width: 20%">
                              BRS Code
                            </th>
                            <th style="font-weight: bold; width: 25%">Date</th>
                            <th style="font-weight: bold; width: 35%">
                              Challan No.
                            </th>
                            <th style="font-weight: bold; width: 20%">
                              Tax Deposited
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr
                            *ngFor="
                              let advance of finalCalculations?.taxPaid
                                ?.otherThanTDSTCS
                            "
                          >
                            <td>{{ advance.bsrCode }}</td>
                            <td>
                              {{ advance.date | date : "dd MMM yyyy" }}
                            </td>
                            <td>{{ advance.challanNo }}</td>
                            <td>
                              Rs.
                              {{
                                utilsService.currencyFormatter(advance.amount)
                              }}
                            </td>
                          </tr>
                          <tr>
                            <th>Total Amount</th>
                            <th></th>
                            <th></th>
                            <th>
                              Rs.
                              {{
                                finalCalculations?.taxPaid?.totalOtherThanTDSTCS
                              }}
                            </th>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </mat-expansion-panel>

                  <!-- *********************** Amount Payable / (Refund) (27-28)  ************************* -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    [disabled]="true"
                  >
                    <mat-expansion-panel-header>
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            <b>30. Amount Payable/(Refund) (28-29)</b>
                            <i
                              >(Round of to nearest
                              <i class="material-icons icRup">&#8377;</i> 10)</i
                            >
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <label class="rtNumb">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                finalCalculations?.amountPayable > 0
                                  ? finalCalculations?.amountPayable
                                  : "(" + finalCalculations?.amountRefund + ")"
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                  </mat-expansion-panel>

                  <!-- *********************** Exempt Income ************************ -->
                  <mat-expansion-panel
                    class="color-panel accordion-border"
                    #exemptIncome
                  >
                    <mat-expansion-panel-header class="newclass">
                      <div
                        class="font80"
                        style="width: 100%"
                        cellpadding="0"
                        cellspacing="0"
                      >
                        <div class="nav nav-stacked">
                          <div class="col-lg-8 col-md-8 col-sm-8 whieTx">
                            <b> 31. Exempt Income</b>
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="AdjAr1">
                              <mat-icon *ngIf="!exemptIncome.expanded"
                                >keyboard_arrow_down
                              </mat-icon>
                              <mat-icon *ngIf="exemptIncome.expanded"
                                >keyboard_arrow_up
                              </mat-icon>
                            </div>
                            <label class="rtNumb1">
                              <i class="material-icons icRup">&#8377;</i
                              >&nbsp;{{
                                keys.ExemptIncAgriOthUs10Total
                                  ? keys.ExemptIncAgriOthUs10Total +
                                    finalCalculations?.giftExemptIncome
                                  : getExemptIncomeTotal() +
                                    finalCalculations?.exemptIncome?.total +
                                    finalCalculations?.giftExemptIncome
                              }}</label
                            >
                          </div>
                        </div>
                      </div>
                    </mat-expansion-panel-header>
                    <div
                      *ngIf="
                        ITR_JSON.itrSummaryJson && keys.ExemptIncomeDetails
                      "
                    >
                      <table
                        class="table table-bordered table-striped table-hover"
                      >
                        <tbody>
                          <tr>
                            <td><b>Particular</b></td>
                            <td><b>Amount</b></td>
                          </tr>
                          <tr *ngFor="let exempt of keys.ExemptIncomeDetails">
                            <td>{{ exempt.NatureDesc }}</td>
                            <td class="">
                              <i class="material-icons" style="font-size: 15px"
                                >₹</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(exempt.OthAmount)
                              }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div *ngIf="!ITR_JSON.itrSummaryJson">
                      <table
                        class="table table-bordered table-striped table-hover"
                      >
                        <tbody>
                          <tr>
                            <td><b>Particular</b></td>
                            <td><b>Amount</b></td>
                          </tr>
                          <tr *ngFor="let exempt of ITR_JSON.exemptIncomes">
                            <td>{{ getExemptDescription(exempt) }}</td>
                            <td class="">
                              <i class="material-icons" style="font-size: 15px"
                                >₹</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(exempt.amount)
                              }}
                            </td>
                          </tr>
                          <tr
                            *ngIf="
                              finalCalculations?.giftExemptIncome &&
                              finalCalculations?.giftExemptIncome > 0
                            "
                          >
                            <td>Gift u/s 56(2)(x)</td>
                            <td class="">
                              <i class="material-icons" style="font-size: 15px"
                                >₹</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations?.giftExemptIncome
                                )
                              }}
                            </td>
                          </tr>
                          <tr
                            *ngIf="
                              finalCalculations?.profitShareAmount &&
                              finalCalculations.profitShareAmount > 0
                            "
                          >
                            <td>Firm profit share</td>
                            <td class="">
                              <i class="material-icons" style="font-size: 15px"
                                >₹</i
                              >&nbsp;{{
                                utilsService.currencyFormatter(
                                  finalCalculations.profitShareAmount
                                )
                              }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <!-- crypto gains  -->
                    <div
                      class="bxHed"
                      *ngIf="
                        finalCalculations?.exemptIncome?.partnerFirms?.length >
                        0
                      "
                    >
                      Partnership firm details
                      <!-- <span style="float: right">{{
                  finalCalculations?.capitalGain?.totalCryptoIncome
                }}</span> -->
                    </div>
                    <table
                      class="table table-bordered table-striped table-hover"
                      *ngIf="
                        finalCalculations?.exemptIncome?.partnerFirms?.length >
                        0
                      "
                    >
                      <thead>
                        <tr>
                          <th style="font-weight: bold">Sr. No</th>
                          <th style="font-weight: bold">Name</th>
                          <th style="font-weight: bold">Pan Number</th>
                          <th style="font-weight: bold">Profit Share Amount</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let slabRate of finalCalculations?.exemptIncome
                              ?.partnerFirms;
                            let i = index
                          "
                        >
                          <td>{{ i + 1 }}</td>
                          <td>
                            {{ slabRate?.name }}
                          </td>
                          <td>
                            {{ slabRate?.panNumber }}
                          </td>

                          <td>
                            Rs
                            {{ slabRate?.profitShareAmount }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </mat-expansion-panel>
                </mat-accordion>
              </td>
            </tr>
          </tbody>
        </table>
        <!-- </div>
    </div> -->
        <!-- **************************** Accordion End -->

        <!-- --------------------- ITR 4 --------------------------------- -->

        <br />
        <!-- </div> -->
        <!-- <div class="container">
  <div class="row">
    <div class="col-lg-12">
      <b>Note:</b> * Negative value has been considered as zero for the purpose
      of calculation of total income however provision for setoff and carry
      forword will be taken care off as per ITR rules.
    </div>
  </div>
  <div class="row" *ngIf="taxable && taxable > 0">
    <div class="col-lg-3 col-md-3 col-sm-12">
      <div class="incBx1">
        <span class="inTex">Income Tax Payable:</span><br /><br />
        <span class="inNo"
          >{{ utilsService.currencyFormatter(taxable) }}.00</span
        >
      </div>
    </div>
    <div class="col-lg-9 col-md-9 col-sm-12 paIncTx1">
      You must pay the balance tax before proceeding to e-filing. To pay your
      tax
      <a
        href="https://onlineservices.tin.egov-nsdl.com/etaxnew/tdsnontds.jsp"
        target="_new"
        style="text-decoration: underline"
        class="LkTx"
        >Click here</a
      ><br />
      and select CHALLAN NO/ITNS 280 under NON-TDS/TCS Section
    </div>
  </div>

  <div *ngIf="refund > 0">
    <div class="col-lg-3 col-md-3 col-sm-12">
      <div class="incBx1">
        <span class="inTex">Income Tax Refund:</span><br /><br />
        <span class="inRef"
          >{{ utilsService.currencyFormatter(refund) }}.00</span
        >
      </div>
    </div>
    <div class="col-lg-9 col-md-9 col-sm-12 paIncTx1">
      Great news...!!! You are getting refund of
      {{ utilsService.currencyFormatter(refund) }}.00 of your tax return into
      your bank account number. <b>{{ bankArray?.accountNumber }}</b>
      <br />
      <span style="font-size: 12px; font-style: italic"
        ><b>Note:</b> Ensure that your bank account is correct & Pre-validated
        to Income tax portal.
        <span>
          <a
            href="https://blog.taxbuddy.com/index.php/pre-validate-bank-account/"
            target="_blank"
            style="color: #e98017 !important"
            >Click here</a
          ></span
        >
        to know How to Pre-validate Your Bank Account.</span
      >
    </div>
  </div>
  </div> -->
        <div class="sub_btn lwBtDn" *ngIf="show">
          <button
            type="button"
            *ngIf="isValidItr"
            (click)="confirmSubmitITR()"
            class="btn grBut pull-right"
            [style.cursor]="!isValidateJson ? 'not-allowed' : 'pointer'"
            style="background-color: red"
            [disabled]="!isValidateJson"
          >
            File ITR
          </button>
          <!-- <button type="button" (click)="downloadXML()" class="btn grBut" style="background-color: orange;">
            Download XML
        </button> -->
          <button type="button" (click)="downloadPDF()" class="btn grBut">
            Download PDF
          </button>
        </div>
        <div *ngIf="!show" class="text-center-align">
          <label>{{ errorMessage }}</label>
        </div>
      </div>
    </div>
  </div>
</div>
