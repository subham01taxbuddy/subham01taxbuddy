<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px',fullScreenBackdrop:true }"></ngx-loading>
<div class="row">
    <h1 mat-dialog-title>{{data.mode}} <span *ngIf="data.mode === 'Update Status'">For {{this.data.serviceType}}</span>

        <button style="float: right" mat-raised-button mat-dialog-close tabindex="-1"><i
                class="fa fa-close"></i></button>
    </h1>

</div>


<mat-dialog-content>
    <form [formGroup]="changeStatus">
        <div class="card__col-xs-4 card__col-sm-14" *ngIf="data.mode === 'Update Status'">
            <mat-form-field appearance="outline">
                <mat-label>Select Status </mat-label>
                <mat-select placeholder="Select Status" formControlName="selectStatus"
                    [required]="data.mode === 'Update Status'">
                    <mat-option *ngFor="let status of itrStatus" [value]="status.statusId"
                        [disabled]="!status.applicableServices.includes(this.data.serviceType)">
                        {{ status.statusName }}
                    </mat-option>
                </mat-select>
                <mat-error *ngIf="changeStatus.controls['selectStatus'].hasError('required')">Select status.</mat-error>
            </mat-form-field>
        </div>

        <div class="card__col-xs-4 card__col-sm-14" *ngIf="data.mode === 'Update Caller'">
            <mat-form-field appearance="outline">
                <mat-label>Select Caller</mat-label>
                <mat-select placeholder="Select Agent" formControlName="callerAgentUserId"
                    (selectionChange)="setCallerName()" [required]="data.mode === 'Update Caller'">
                    <mat-option *ngFor="let item of callers" [value]="item.callerAgentUserId">
                        {{ item.name }}
                    </mat-option>
                </mat-select>
                <mat-error *ngIf="changeStatus.controls['callerAgentUserId'].hasError('required')">Select Caller Agent.
                </mat-error>
            </mat-form-field>
        </div>

        <div class="card__col-xs-4 card__col-sm-14">
            <button mat-raised-button color="primary" (click)="addStatus()" tabindex="1">{{data.mode}}</button>
        </div>
    </form>

</mat-dialog-content>