<div class="card">
  <div class="card__row">
    <div class="card__col-lg-6">
      <mat-radio-group aria-label="Select an option" [(ngModel)]="selectedOption">
<!--        <mat-radio-button value="ERI">Submit through ERI</mat-radio-button>&nbsp;&nbsp;&nbsp;-->
        <mat-radio-button value="MANUAL">Already filed update filing details</mat-radio-button>
      </mat-radio-group>
    </div>
    <div class="card__col-lg-6" *ngIf="selectedOption === 'ERI'">
      <p style="color: red;" *ngIf="!submitJsonForm.valid"> Note: Please fetch or create/update the summary on
        previous tab first and then submit the json here</p>
      <p style="color:green" *ngIf="submitJsonForm.valid"> Note: Cool, you have already updated all the data points,
        Upload the json to submit the filing.</p>
    </div>
  </div>
  <div class="card__row" *ngIf="selectedOption === 'ERI'">
    <form [formGroup]="submitJsonForm">
      <div class="card__row">
        <div class="card__col-xs-12 card__col-sm-4">
          <mat-form-field appearance="outline">
            <mat-label>Assessment Year</mat-label>
            <mat-select formControlName="assessmentYear" matInput placeholder="Select AY" autocomplete="off" required>
              <mat-option value="2022-2023"> 2022-2023 </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="card__col-xs-12 card__col-sm-4">
          <mat-form-field appearance="outline">
            <mat-label>ITR Type</mat-label>
            <mat-select formControlName="itrType" matInput placeholder="Select ITR Type" autocomplete="off" required>
              <mat-option value="1"> ITR-1 </mat-option>
              <mat-option value="2"> ITR-2 </mat-option>
              <mat-option value="3"> ITR-3 </mat-option>
              <mat-option value="4"> ITR-4 </mat-option>
              <mat-option value="5"> ITR-5 </mat-option>
              <mat-option value="6"> ITR-6 </mat-option>
              <mat-option value="7"> ITR-7 </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="card__col-xs-12 card__col-sm-4">
          <mat-form-field appearance="outline">
            <mat-label>Return Type</mat-label>
            <mat-select formControlName="returnType" matInput placeholder="Select Return Type" autocomplete="off"
              required>
              <mat-option value="O"> Original </mat-option>
              <mat-option value="R"> Revised </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
      <div class="card__row">
        <div class="card__col-xs-12 card__col-sm-8">
          <!-- <input type="file" id="input-file-id" hidden file-model="MeterFile" class="inptfile"
            (change)="selectJson($event.target.files)"> -->
          <input type="file" id="input-file-id" #file (change)="selectJson($event)" accept=".json">
        </div>
        <div class="card__col-xs-12 card__col-sm-2">
          <button mat-raised-button color="primary" style="float: right;" type="submit"
            (click)='validateJson(uploadDoc)' [disabled]="!uploadDoc">
            <mat-icon>upload</mat-icon> Validate JSON
          </button>
        </div>
        <div class="card__col-xs-12 card__col-sm-2">
          <button [disabled]="!isValidateJson" style="float: right;" class="tbd-btn" (click)="submit()">Submit</button>
        </div>
      </div>
    </form>
  </div>
  <div class="card__row" *ngIf="selectedOption === 'MANUAL'">
    <div class="card__col-lg-6">
      <pre>
        {{this.manualUpdateForm.value | json}}
    </pre>
    </div>
    <div class="card__col-lg-6">
      <br><br>
      <p style="color:green" *ngIf="manualUpdateForm.valid"> Note: Cool, you have already updated all the data points,
        Click on "Update Filing Details" button to add manual filing data</p>
      <br><br>
      <button class="tbd-btn" [disabled]="loading" (click)="updateManualFiling()">Update Filing Details</button>
    </div>
  </div>

</div>
